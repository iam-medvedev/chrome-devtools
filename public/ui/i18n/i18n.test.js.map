{"version":3,"file":"i18n.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/i18n/i18n.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,OAAO,MAAM,gCAAgC,CAAC;AAE1D,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;AAEpC,QAAQ,CAAC,0BAA0B,EAAE,GAAG,EAAE;IACxC,IAAI,YAA+B,CAAC;IACpC,UAAU,CAAC,GAAG,EAAE;QACd,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC;YAC1C,MAAM,EAAE,IAAI;YACZ,IAAI,EAAE;gBACJ,iBAAiB,EAAE,OAAO;gBAC1B,eAAe,EAAE,OAAO;gBACxB,2BAA2B,EAAE,GAAG,EAAE,CAAC,OAAO;aAC3C;SACF,CAAC,CAAC;QACH,YAAY,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;QACzD,YAAY,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAE,iCAAiC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yBAAyB,EAAE,GAAG,EAAE;QACjC,MAAM,SAAS,GAAG,EAAC,MAAM,EAAE,kBAAkB,EAAC,CAAC;QAC/C,MAAM,iBAAiB,GAAG,YAAY,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAEjF,MAAM,cAAc,GAAG,MAAM,CAAC,wBAAwB,CAAC,iBAAiB,EAAE,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QAEhG,kDAAkD;QAClD,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;QACxD,MAAM,SAAS,GAAG,EAAC,WAAW,EAAE,oCAAoC,EAAC,CAAC;QACtE,MAAM,iBAAiB,GAAG,YAAY,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACjF,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACnD,WAAW,CAAC,SAAS,GAAG,aAAa,CAAC;QAEtC,MAAM,cAAc,GAChB,MAAM,CAAC,wBAAwB,CAAC,iBAAiB,EAAE,SAAS,CAAC,WAAW,EAAE,EAAC,GAAG,EAAE,WAAW,EAAC,CAAC,CAAC;QAElG,kDAAkD;QAClD,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,SAAS,EAAE,uDAAuD,CAAC,CAAC;IACxG,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;QAC1D,MAAM,SAAS,GAAG,EAAC,WAAW,EAAE,oCAAoC,EAAC,CAAC;QACtE,MAAM,iBAAiB,GAAG,YAAY,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAEjF,MAAM,cAAc,GAChB,MAAM,CAAC,wBAAwB,CAAC,iBAAiB,EAAE,SAAS,CAAC,WAAW,EAAE,EAAC,GAAG,EAAE,eAAe,EAAC,CAAC,CAAC;QAEtG,kDAAkD;QAClD,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,SAAS,EAAE,4CAA4C,CAAC,CAAC;IAC7F,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as I18n from '../../core/i18n/i18n.js';\nimport * as i18nRaw from '../../third_party/i18n/i18n.js';\n\nimport * as uiI18n from './i18n.js';\n\ndescribe('getFormatLocalizedString', () => {\n  let i18nInstance: i18nRaw.I18n.I18n;\n  beforeEach(() => {\n    I18n.DevToolsLocale.DevToolsLocale.instance({\n      create: true,\n      data: {\n        navigatorLanguage: 'en-US',\n        settingLanguage: 'en-US',\n        lookupClosestDevToolsLocale: () => 'en-US',\n      },\n    });\n    i18nInstance = new i18nRaw.I18n.I18n(['en-US'], 'en-US');\n    i18nInstance.registerLocaleData('en-US', {});  // Always fall back to UIStrings.\n  });\n\n  it('returns an HTML element', () => {\n    const uiStrings = {simple: 'a simple message'};\n    const registeredStrings = i18nInstance.registerFileStrings('test.ts', uiStrings);\n\n    const messageElement = uiI18n.getFormatLocalizedString(registeredStrings, uiStrings.simple, {});\n\n    // assert.instanceOf(messageElement, HTMLElement);\n    assert.strictEqual(messageElement.innerText, 'a simple message');\n  });\n\n  it('nests HTML placeholders in the message element', () => {\n    const uiStrings = {placeholder: 'a message with a {PH1} placeholder'};\n    const registeredStrings = i18nInstance.registerFileStrings('test.ts', uiStrings);\n    const placeholder = document.createElement('span');\n    placeholder.innerText = 'very pretty';\n\n    const messageElement =\n        uiI18n.getFormatLocalizedString(registeredStrings, uiStrings.placeholder, {PH1: placeholder});\n\n    // assert.instanceOf(messageElement, HTMLElement);\n    assert.strictEqual(messageElement.innerHTML, 'a message with a <span>very pretty</span> placeholder');\n  });\n\n  it('nests string placeholders in the message element', () => {\n    const uiStrings = {placeholder: 'a message with a {PH1} placeholder'};\n    const registeredStrings = i18nInstance.registerFileStrings('test.ts', uiStrings);\n\n    const messageElement =\n        uiI18n.getFormatLocalizedString(registeredStrings, uiStrings.placeholder, {PH1: 'somewhat nice'});\n\n    // assert.instanceOf(messageElement, HTMLElement);\n    assert.strictEqual(messageElement.innerHTML, 'a message with a somewhat nice placeholder');\n  });\n});\n"]}