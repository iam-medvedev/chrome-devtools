{"version":3,"file":"network_request_tooltip.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/components/docs/performance_panel/network_request_tooltip.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as TimelineComponents from '../../../../panels/timeline/components/components.js';\nimport * as Timeline from '../../../../panels/timeline/timeline.js';\nimport * as EnvironmentHelpers from '../../../../testing/EnvironmentHelpers.js';\nimport * as TraceLoader from '../../../../testing/TraceLoader.js';\nimport * as ComponentSetup from '../../helpers/helpers.js';\n\nawait EnvironmentHelpers.initializeGlobalVars();\nawait ComponentSetup.ComponentServerSetup.setup();\n\n/**\n * Render tooltip for a basic network request\n **/\nasync function renderTooltips1() {\n  const container = document.querySelector('#container1');\n  if (!container) {\n    throw new Error('No container');\n  }\n\n  const {parsedTrace} = await TraceLoader.TraceLoader.traceEngine(/* mocha context */ null, 'lcp-images.json.gz');\n  const entityMapper = new Timeline.Utils.EntityMapper.EntityMapper(parsedTrace);\n  const networkRequest = parsedTrace.NetworkRequests.byTime[0];\n\n  const tooltip = new TimelineComponents.NetworkRequestTooltip.NetworkRequestTooltip();\n  tooltip.data = {networkRequest, entityMapper};\n\n  container.appendChild(tooltip);\n}\n\n/**\n * Render tooltip for a render-blocking network request\n **/\nasync function renderTooltips2() {\n  const container = document.querySelector('#container2');\n  if (!container) {\n    throw new Error('No container');\n  }\n\n  const {parsedTrace} =\n      await TraceLoader.TraceLoader.traceEngine(/* mocha context */ null, 'render-blocking-in-iframe.json.gz');\n  const entityMapper = new Timeline.Utils.EntityMapper.EntityMapper(parsedTrace);\n  const networkRequest = parsedTrace.NetworkRequests.byTime[1];\n\n  const tooltip = new TimelineComponents.NetworkRequestTooltip.NetworkRequestTooltip();\n  tooltip.data = {networkRequest, entityMapper};\n\n  container.appendChild(tooltip);\n}\n\n/**\n * Render tooltip for a priority changed network request\n **/\nasync function renderTooltips3() {\n  const container = document.querySelector('#container3');\n  if (!container) {\n    throw new Error('No container');\n  }\n\n  const {parsedTrace} =\n      await TraceLoader.TraceLoader.traceEngine(/* mocha context */ null, 'changing-priority.json.gz');\n  const entityMapper = new Timeline.Utils.EntityMapper.EntityMapper(parsedTrace);\n  const networkRequest = parsedTrace.NetworkRequests.byTime.find(request => {\n    return request.args.data.url === 'https://via.placeholder.com/3000.jpg';\n  });\n  if (!networkRequest) {\n    throw new Error('The priority change event is not found');\n  }\n\n  const tooltip = new TimelineComponents.NetworkRequestTooltip.NetworkRequestTooltip();\n  tooltip.data = {networkRequest, entityMapper};\n\n  container.appendChild(tooltip);\n}\n\nawait renderTooltips1();\nawait renderTooltips2();\nawait renderTooltips3();\n"]}