{"version":3,"file":"references.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/components/docs/console_insight/references.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AACtD,OAAO,KAAK,OAAO,MAAM,uCAAuC,CAAC;AACjE,OAAO,KAAK,eAAe,MAAM,2CAA2C,CAAC;AAC7E,OAAO,KAAK,gBAAgB,MAAM,0BAA0B,CAAC;AAE7D,MAAM,gBAAgB,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;AACpD,MAAM,eAAe,CAAC,oBAAoB,EAAE,CAAC;AAE7C,MAAM,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;AAE9C,MAAM,SAAS,GAAG,IAAI,cAAc,CAChC;IACE,cAAc;QACZ,OAAO,EAAE,CAAC;IACZ,CAAC;IACD,KAAK,CAAC,WAAW;QACf,OAAO;YACL,MAAM,EAAE,EAAE;YACV,uBAAuB,EAAE,KAAK;YAC9B,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC,OAAO;oBAChC,KAAK,EAAE,8CAA8C;iBACtD;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC,UAAU;oBACnC,KAAK,EAAE,qCAAqC;iBAC7C;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC,YAAY;oBACrC,KAAK,EAAE,aAAa;iBACrB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC,eAAe;oBACxC,KAAK,EAAE;;;;;;;qBAOA;iBACR;aACF;SACF,CAAC;IACJ,CAAC;CACF,EACD;IACE,KAAK,CAAC,CACF,KAAK;QACH,MAAM;YACJ,WAAW,EAAE;;;;;;;CAO1B;YACa,QAAQ,EAAE;gBACR,mBAAmB,EAAE;oBACnB,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI;oBACxD,SAAS,EAAE;wBACT;4BACE,UAAU,EAAE,EAAE;4BACd,QAAQ,EAAE,EAAE;4BACZ,GAAG,EAAE,iCAAiC;4BACtC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,WAAW;yBAC3D;wBACD;4BACE,UAAU,EAAE,GAAG;4BACf,QAAQ,EAAE,GAAG;4BACb,GAAG,EAAE,yCAAyC;4BAC9C,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,WAAW;yBAC3D;qBACF;iBACF;gBACD,kBAAkB,EAAE;oBAClB,KAAK,EAAE;wBACL;4BACE,SAAS,EAAE,mCAAmC;yBAC/C;wBACD;4BACE,SAAS,EAAE,iCAAiC;yBAC7C;wBACD;4BACE,SAAS,EAAE,mCAAmC;yBAC/C;qBACF;iBACF;aACF;YACD,SAAS,EAAE,IAAI;SAChB,CAAC;IACJ,CAAC;IACL,mBAAmB,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;CAC/C,sEAEiD,CAAC;AACvD,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Host from '../../../../core/host/host.js';\nimport * as Explain from '../../../../panels/explain/explain.js';\nimport * as FrontendHelpers from '../../../../testing/EnvironmentHelpers.js';\nimport * as ComponentHelpers from '../../helpers/helpers.js';\n\nawait ComponentHelpers.ComponentServerSetup.setup();\nawait FrontendHelpers.initializeGlobalVars();\n\nconst ConsoleInsight = Explain.ConsoleInsight;\n\nconst component = new ConsoleInsight(\n    {\n      getSearchQuery() {\n        return '';\n      },\n      async buildPrompt() {\n        return {\n          prompt: '',\n          isPageReloadRecommended: false,\n          sources: [\n            {\n              type: Explain.SourceType.MESSAGE,\n              value: 'Something went wrong\\n\\nSomething went wrong',\n            },\n            {\n              type: Explain.SourceType.STACKTRACE,\n              value: 'Stacktrace line1\\nStacketrace line2',\n            },\n            {\n              type: Explain.SourceType.RELATED_CODE,\n              value: 'RelatedCode',\n            },\n            {\n              type: Explain.SourceType.NETWORK_REQUEST,\n              value: `Request: https://example.com/data.html\n\nRequest headers:\n:authority: example.com\nuser-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36\n\nResponse headers:\nResponse status: 404`,\n            },\n          ],\n        };\n      },\n    },\n    {\n      async *\n          fetch() {\n            yield {\n              explanation: `## Result\n\nHere is a text which contains both direct and indirect citations.\n\nAn indirect citation is a link to a reference which applies to the whole response.\n\nA direct citation is a link to a reference, but it only applies to a specific part of the response. Direct citations are numbered and are shown as a number within square brackets in the response text.\n`,\n              metadata: {\n                attributionMetadata: {\n                  attributionAction: Host.AidaClient.RecitationAction.CITE,\n                  citations: [\n                    {\n                      startIndex: 20,\n                      endIndex: 50,\n                      uri: 'https://www.direct-citation.dev',\n                      sourceType: Host.AidaClient.CitationSourceType.WORLD_FACTS,\n                    },\n                    {\n                      startIndex: 170,\n                      endIndex: 176,\n                      uri: 'https://www.another-direct-citation.dev',\n                      sourceType: Host.AidaClient.CitationSourceType.WORLD_FACTS,\n                    },\n                  ],\n                },\n                factualityMetadata: {\n                  facts: [\n                    {\n                      sourceUri: 'https://www.indirect-citation.dev',\n                    },\n                    {\n                      sourceUri: 'https://www.the-whole-world.dev',\n                    },\n                    {\n                      sourceUri: 'https://www.even-more-content.dev',\n                    },\n                  ]\n                }\n              },\n              completed: true,\n            };\n          },\n      registerClientEvent: () => Promise.resolve({}),\n    },\n\n    Host.AidaClient.AidaAccessPreconditions.AVAILABLE);\ndocument.getElementById('container')?.appendChild(component);\n"]}