{"version":3,"file":"ChromeLink.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/chrome_link/ChromeLink.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,QAAQ,MAAM,oCAAoC,CAAC;AAC/D,OAAO,EAAC,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AACpE,OAAO,EAAC,YAAY,EAAC,MAAM,wCAAwC,CAAC;AACpE,OAAO,EAAC,0BAA0B,EAAC,MAAM,oCAAoC,CAAC;AAC9E,OAAO,EAAC,IAAI,EAAE,MAAM,EAAC,MAAM,kBAAkB,CAAC;AAC9C,OAAO,KAAK,iBAAiB,MAAM,6CAA6C,CAAC;AAEjF,OAAO,KAAK,UAAU,MAAM,kBAAkB,CAAC;AAE/C,MAAM,EAAC,SAAS,EAAC,GAAG,QAAQ,CAAC,YAAY,CAAC;AAE1C,0BAA0B,CAAC,YAAY,EAAE,GAAG,EAAE;IAC5C,EAAE,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;QAC7D,MAAM,MAAM,GAAG,YAAY,EAAE,CAAC;QAC9B,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,qBAAqB,CAAC,CAAC;QAEnE,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,mBAAmB;QACnB,MAAM,CACJ,IAAI,CAAA;sCAC4B,SAAS,CAAA,mBAAmB;;;OAG3D,EACD,SAAS,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CACxB,CAAC;QACF,kBAAkB;QAClB,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAE/B,MAAM,UAAU,GAAG,SAAS,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;QACnE,MAAM,CAAC,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QAChE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACxC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,WAAW,CAAC,CAAC;QAE7D,MAAM,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACtD,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;QAC3C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC7B,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC9B,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAC,GAAG,EAAE,mBAAmB,EAAC,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE;IAC1B,EAAE,CAAC,oDAAoD,EAAE,KAAK,IAAI,EAAE;QAClE,MAAM,SAAS,GAAG,IAAI,UAAU,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;QACzD,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;YACjB,SAAS,CAAC,IAAI,GAAG,SAAS,CAAA,yBAAyB,CAAC;QACtD,CAAC,EAAE,mDAAmD,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../core/platform/platform.js';\nimport {renderElementIntoDOM} from '../../../testing/DOMHelpers.js';\nimport {createTarget} from '../../../testing/EnvironmentHelpers.js';\nimport {describeWithMockConnection} from '../../../testing/MockConnection.js';\nimport {html, render} from '../../lit/lit.js';\nimport * as RenderCoordinator from '../render_coordinator/render_coordinator.js';\n\nimport * as ChromeLink from './chrome_link.js';\n\nconst {urlString} = Platform.DevToolsPath;\n\ndescribeWithMockConnection('ChromeLink', () => {\n  it('renders a link when given a \\'chrome://\\' URL', async () => {\n    const target = createTarget();\n    const spy = sinon.spy(target.targetAgent(), 'invoke_createTarget');\n\n    const container = document.createElement('div');\n    // clang-format off\n    render(\n      html`\n        <devtools-chrome-link .href=${urlString`chrome://settings`}>\n          link text\n        </devtools-chrome-link>\n      `,\n      container, {host: this},\n    );\n    // clang-format on\n    renderElementIntoDOM(container);\n    await RenderCoordinator.done();\n\n    const chromeLink = container.querySelector('devtools-chrome-link');\n    assert.instanceOf(chromeLink, ChromeLink.ChromeLink.ChromeLink);\n    assert.isNotNull(chromeLink.shadowRoot);\n    assert.strictEqual(chromeLink.innerHTML.trim(), 'link text');\n\n    const link = chromeLink.shadowRoot.querySelector('a');\n    assert.instanceOf(link, HTMLAnchorElement);\n    assert.isTrue(spy.notCalled);\n    link.click();\n\n    assert.isTrue(spy.calledOnce);\n    assert.deepEqual(spy.firstCall.firstArg, {url: 'chrome://settings'});\n  });\n});\n\ndescribe('ChromeLink', () => {\n  it('throws an error when given a non-\\'chrome://\\' URL', async () => {\n    const component = new ChromeLink.ChromeLink.ChromeLink();\n    assert.throws(() => {\n      component.href = urlString`https://www.example.com`;\n    }, 'ChromeLink href needs to start with \\'chrome://\\'');\n  });\n});\n"]}