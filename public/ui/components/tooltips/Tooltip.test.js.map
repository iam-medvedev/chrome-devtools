{"version":3,"file":"Tooltip.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/tooltips/Tooltip.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {renderElementIntoDOM} from '../../../testing/DOMHelpers.js';\nimport * as UI from '../../legacy/legacy.js';\nimport * as Lit from '../../lit/lit.js';\n\nimport * as Tooltips from './tooltips.js';\n\nconst {html, nothing} = Lit;\n\ninterface RenderProps {\n  variant?: Tooltips.Tooltip.TooltipVariant;\n  attribute?: 'aria-describedby'|'aria-details';\n  trigger?: Tooltips.Tooltip.TooltipTrigger;\n  useHotkey?: boolean;\n  jslogContext?: string;\n  id?: string;\n}\n\nfunction renderTooltip({\n  variant = 'simple',\n  attribute = 'aria-describedby',\n  trigger = 'hover',\n  useHotkey = false,\n  jslogContext = undefined,\n  id = 'tooltip-id',\n}: RenderProps = {}) {\n  const container = document.createElement('div');\n  // clang-format off\n  Lit.render(html`\n    ${attribute === 'aria-details' ?\n      html`<button aria-details=${id}>Button</button>` :\n      html`<button aria-describedby=${id}>Button</button>`\n    }\n    <devtools-tooltip\n     id=${id}\n     variant=${variant}\n     .hover-delay=${0}\n     trigger=${trigger}\n     ?use-hotkey=${useHotkey}\n     jslogContext=${jslogContext??nothing}\n     >\n      ${variant === 'rich' ? html`<p>Rich content</p>` : 'Simple content'}\n    </devtools-tooltip>\n  `, container);\n  // clang-format on\n  renderElementIntoDOM(container, {allowMultipleChildren: true});\n  return container;\n}\n\nasync function waitForToggle(tooltip: Tooltips.Tooltip.Tooltip, state: 'open'|'closed'): Promise<void> {\n  return await new Promise<void>(resolve => {\n    tooltip.addEventListener('toggle', (event: Event) => {\n      if ((event as ToggleEvent).newState === state) {\n        resolve();\n      }\n    }, {once: true});\n  });\n}\n\ndescribe('Tooltip', () => {\n  let inspectorViewRootElementStub: HTMLElement;\n\n  beforeEach(async () => {\n    inspectorViewRootElementStub = document.createElement('div');\n    renderElementIntoDOM(inspectorViewRootElementStub, {allowMultipleChildren: true});\n\n    const inspectorViewStub = sinon.createStubInstance(UI.InspectorView.InspectorView);\n    Object.assign(inspectorViewStub, {element: inspectorViewRootElementStub});\n    sinon.stub(UI.InspectorView.InspectorView, 'instance').returns(inspectorViewStub);\n\n    Tooltips.Tooltip.Tooltip.lastOpenedTooltipId = null;\n  });\n\n  it('renders a simple tooltip', () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.strictEqual(tooltip?.variant, 'simple');\n    assert.strictEqual(container.querySelector('devtools-tooltip')?.textContent?.trim(), 'Simple content');\n  });\n\n  it('renders a rich tooltip', () => {\n    const container = renderTooltip({variant: 'rich', attribute: 'aria-details'});\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.strictEqual(tooltip?.variant, 'rich');\n    assert.strictEqual(container.querySelector('devtools-tooltip')?.querySelector('p')?.textContent, 'Rich content');\n  });\n\n  it('should be activated if hovered', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const button = container.querySelector('button');\n    const opened = waitForToggle(tooltip, 'open');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    await opened;\n    assert.isTrue(tooltip.open);\n  });\n\n  it('should close if the user presses escape when it is open', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const button = container.querySelector('button');\n    const opened = waitForToggle(tooltip, 'open');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    await opened;\n    assert.isTrue(tooltip.open);\n\n    const closed = waitForToggle(tooltip, 'closed');\n    document.body.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));\n    await closed;\n    assert.isFalse(tooltip.open);\n  });\n\n  it('should only close the innermost tooltip on escape', async () => {\n    const container = document.createElement('div');\n    // clang-format off\n    Lit.render(html`\n      <button aria-details=\"outer-tooltip-id\">Outer Button</button>\n      <devtools-tooltip\n        id=\"outer-tooltip-id\"\n        variant=\"rich\"\n        .hover-delay=${0}\n      >\n        <button aria-details=\"inner-tooltip-id\">Inner Button</button>\n        <devtools-tooltip\n          id=\"inner-tooltip-id\"\n          variant=\"rich\"\n          .hover-delay=${0}\n        >\n          <p>Inner Tooltip Content</p>\n        </devtools-tooltip>\n      </devtools-tooltip>\n    `, container);\n    // clang-format on\n    renderElementIntoDOM(container, {allowMultipleChildren: true});\n\n    const outerTooltip = container.querySelector('devtools-tooltip');\n    assert.exists(outerTooltip);\n\n    const outerButton = container.querySelector('button');\n    const outerOpened = waitForToggle(outerTooltip, 'open');\n    outerButton?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    await outerOpened;\n    assert.isTrue(outerTooltip.open);\n\n    const innerTooltip = outerTooltip.querySelector('devtools-tooltip');\n    assert.exists(innerTooltip);\n\n    const innerButton = outerTooltip.querySelector('button');\n    const innerOpened = waitForToggle(innerTooltip, 'open');\n    innerButton?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    await innerOpened;\n    assert.isTrue(innerTooltip.open);\n\n    const outerClosed = waitForToggle(outerTooltip, 'closed');\n    const innerClosed = waitForToggle(innerTooltip, 'closed');\n\n    document.body.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));\n    await innerClosed;\n    assert.isTrue(outerTooltip.open);\n    assert.isFalse(innerTooltip.open);\n\n    document.body.dispatchEvent(new KeyboardEvent('keydown', {key: 'Escape'}));\n    await outerClosed;\n    assert.isFalse(outerTooltip.open);\n    assert.isFalse(innerTooltip.open);\n  });\n\n  it('should be activated if focused', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const opened = waitForToggle(tooltip, 'open');\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new FocusEvent('focus'));\n\n    await opened;\n    assert.isTrue(tooltip.open);\n  });\n\n  it('should not be activated if un-hovered', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const button = container.querySelector('button');\n    const opened = waitForToggle(tooltip, 'open');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    await opened;\n    assert.isTrue(tooltip.open);\n\n    button?.dispatchEvent(new MouseEvent('mouseleave'));\n    assert.isFalse(tooltip.open);\n  });\n\n  it('should not be activated if dragged', () => {\n    const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n    const container = renderTooltip();\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new MouseEvent('mouseenter', {buttons: 1}));\n\n    clock.runAll();\n    assert.isFalse(container.querySelector('devtools-tooltip')?.open);\n    clock.restore();\n  });\n\n  it('should not be activated if un-focused', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const button = container.querySelector('button');\n    const opened = waitForToggle(tooltip, 'open');\n    button?.dispatchEvent(new FocusEvent('focus'));\n\n    await opened;\n    assert.isTrue(tooltip.open);\n\n    button?.dispatchEvent(new FocusEvent('blur'));\n    assert.isFalse(tooltip.open);\n  });\n\n  it('should not open on hover if `trigger` is set to `click`', () => {\n    const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n    const container = renderTooltip({trigger: 'click'});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    clock.runAll();\n    assert.isFalse(container.querySelector('devtools-tooltip')?.open);\n    clock.restore();\n  });\n\n  it('should not open on focus if `trigger` is set to `click`', () => {\n    const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n    const container = renderTooltip({trigger: 'click'});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new FocusEvent('focus'));\n\n    clock.runAll();\n    assert.isFalse(container.querySelector('devtools-tooltip')?.open);\n    clock.restore();\n  });\n\n  it('should open with click if `trigger` is set to `click`', () => {\n    const container = renderTooltip({trigger: 'click'});\n\n    const button = container.querySelector('button');\n    button?.click();\n\n    assert.isTrue(container.querySelector('devtools-tooltip')?.open);\n  });\n\n  it('should open on hover if `trigger` is set to `both`', () => {\n    const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n    const container = renderTooltip({trigger: 'both'});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n\n    clock.runAll();\n    assert.isTrue(container.querySelector('devtools-tooltip')?.open);\n    clock.restore();\n  });\n\n  it('should open on focus if `trigger` is set to `both`', () => {\n    const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n    const container = renderTooltip({trigger: 'both'});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new FocusEvent('focus'));\n\n    clock.runAll();\n    assert.isTrue(container.querySelector('devtools-tooltip')?.open);\n    clock.restore();\n  });\n\n  it('should open with click if `trigger` is set to `both`', () => {\n    const container = renderTooltip({trigger: 'both'});\n\n    const button = container.querySelector('button');\n    button?.click();\n\n    assert.isTrue(container.querySelector('devtools-tooltip')?.open);\n  });\n\n  it('should open with hotkey if use-hotkey is set', () => {\n    const container = renderTooltip({useHotkey: true});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new KeyboardEvent('keydown', {altKey: true, key: 'ArrowDown'}));\n\n    assert.isTrue(container.querySelector('devtools-tooltip')?.open);\n  });\n\n  it('should not open on focus if use-hotkey is set', () => {\n    const container = renderTooltip({useHotkey: true});\n\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new FocusEvent('focus'));\n\n    assert.isFalse(container.querySelector('devtools-tooltip')?.open);\n  });\n\n  const eventsNotToPropagate = ['click', 'mouseup'];\n\n  eventsNotToPropagate.forEach(eventName => {\n    it('should stop propagation of click events', () => {\n      const container = renderTooltip();\n      const callback = sinon.spy();\n      container.addEventListener(eventName, callback);\n\n      const tooltip = container.querySelector('devtools-tooltip');\n      tooltip?.dispatchEvent(new Event(eventName, {bubbles: true}));\n\n      sinon.assert.notCalled(callback);\n      container.removeEventListener(eventName, callback);\n    });\n  });\n\n  it('should print a warning if rich tooltip is used with wrong aria label on anchor', () => {\n    const consoleSpy = sinon.stub(console, 'warn');\n    renderTooltip({variant: 'rich'});\n    sinon.assert.calledOnce(consoleSpy);\n  });\n\n  it('should hide the tooltip if anchor is removed from DOM', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const opened = waitForToggle(tooltip, 'open');\n    const button = container.querySelector('button');\n    button?.dispatchEvent(new MouseEvent('mouseenter'));\n    await opened;\n\n    const closed = waitForToggle(tooltip, 'closed');\n    button?.remove();\n    await closed;\n\n    assert.isFalse(tooltip.open);\n  });\n\n  it('should not hide the tooltip if focus moves from the anchor into deep DOM within the tooltip', async () => {\n    const container = renderTooltip({variant: 'rich', attribute: 'aria-details'});\n    const anchor = container.querySelector('button');\n    assert.exists(anchor);\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n    // Make some nested DOM for this; this test exists because of a bug where\n    // the tooltip only stayed open if the focused element was an immediate\n    // child, so for this test we make a nested DOM structure and test on that.\n    tooltip.innerHTML = '<div><span><p class=\"deep-nested\">nested</p></span></div>';\n\n    const opened = waitForToggle(tooltip, 'open');\n    anchor.dispatchEvent(new FocusEvent('focus'));\n    await opened;\n    assert.isTrue(tooltip.open);\n    const richContents = container.querySelector('devtools-tooltip')?.querySelector('p.deep-nested');\n    assert.exists(richContents);\n\n    anchor.dispatchEvent(new FocusEvent('blur', {relatedTarget: richContents}));\n    assert.isTrue(tooltip.open);  // tooltip should still be open\n  });\n\n  it('automatically sets and updates jslog', () => {\n    const container = renderTooltip({jslogContext: 'context'});\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n    assert.strictEqual(tooltip.getAttribute('jslog'), 'Popover; context: context; parent: mapped');\n\n    tooltip.setAttribute('jslogcontext', 'context2');\n    assert.strictEqual(tooltip.getAttribute('jslog'), 'Popover; context: context2; parent: mapped');\n\n    const anchor = container.createChild('button');\n    anchor.setAttribute('aria-details', 'constructed-tooltip-id');\n    const constructedTooltip =\n        new Tooltips.Tooltip.Tooltip({id: 'constructed-tooltip-id', jslogContext: 'context3', anchor});\n    container.appendChild(constructedTooltip);\n    assert.strictEqual(constructedTooltip.getAttribute('jslog'), 'Popover; context: context3; parent: mapped');\n  });\n\n  it('automatically opens a new tooltip with the same id on re-attach', async () => {\n    const container = renderTooltip();\n    const tooltip = container.querySelector('devtools-tooltip');\n    assert.exists(tooltip);\n\n    const opened = waitForToggle(tooltip, 'open');\n    tooltip.showTooltip();\n    await opened;\n    assert.isTrue(tooltip.open);\n\n    container.remove();\n    const container2 = renderTooltip();\n    const tooltip2 = container2.querySelector('devtools-tooltip');\n    assert.exists(tooltip2);\n    assert.isTrue(tooltip2.open);\n\n    tooltip2.id = 'tooltip-id-2';\n    container2.remove();\n    const container3 = renderTooltip({id: 'tooltip-id-2'});\n    const tooltip3 = container3.querySelector('devtools-tooltip');\n    assert.exists(tooltip3);\n    assert.isTrue(tooltip3.open);\n  });\n\n  describe('assigns the correct position', () => {\n    const inspectorViewRect = {\n      top: 0,\n      bottom: 290,\n      height: 290,\n      left: 0,\n      right: 500,\n      width: 500,\n    } as DOMRect;\n    const anchorRect = {\n      top: 100,\n      bottom: 200,\n      height: 100,\n      left: 200,\n      right: 400,\n      width: 200,\n    } as DOMRect;\n\n    it('for default postion bottom span right', () => {\n      const currentPopoverRect = {\n        height: 80,\n        width: 160,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 200);\n      assert.strictEqual(proposedRect.left, 200);\n    });\n\n    it('for preferred postion bottom span left', () => {\n      const currentPopoverRect = {\n        height: 80,\n        width: 160,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip({\n        inspectorViewRect,\n        anchorRect,\n        currentPopoverRect,\n        preferredPositions: [Tooltips.Tooltip.PositionOption.BOTTOM_SPAN_LEFT]\n      });\n      assert.strictEqual(proposedRect.top, 200);\n      assert.strictEqual(proposedRect.left, 240);\n    });\n\n    it('uses 2nd option from default order if 1st is impossible', () => {\n      const currentPopoverRect = {\n        height: 80,\n        width: 350,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 200);\n      assert.strictEqual(proposedRect.left, 50);\n    });\n\n    it('uses 3rd option from default order if first 2 are impossible', () => {\n      const currentPopoverRect = {\n        height: 95,\n        width: 160,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 5);\n      assert.strictEqual(proposedRect.left, 200);\n    });\n\n    it('uses 4th option from default order if first 3 are impossible', () => {\n      const currentPopoverRect = {\n        height: 95,\n        width: 350,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 5);\n      assert.strictEqual(proposedRect.left, 50);\n    });\n\n    it('uses 4th option from preferred order if first 3 are impossible', () => {\n      const currentPopoverRect = {\n        height: 95,\n        width: 350,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip({\n        inspectorViewRect,\n        anchorRect,\n        currentPopoverRect,\n        preferredPositions:\n            [Tooltips.Tooltip.PositionOption.BOTTOM_SPAN_LEFT, Tooltips.Tooltip.PositionOption.TOP_SPAN_LEFT]\n      });\n      assert.strictEqual(proposedRect.top, 5);\n      assert.strictEqual(proposedRect.left, 50);\n    });\n\n    it('moves the rect into the viewport if all 4 options are impossible', () => {\n      const currentPopoverRect = {\n        height: 110,\n        width: 440,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 0);\n      assert.strictEqual(proposedRect.left, 60);\n    });\n\n    it('for anchors in a corner of the viewport', () => {\n      const anchorBottomLeftCorner = {\n        top: 190,\n        bottom: 290,\n        height: 100,\n        left: 0,\n        right: 100,\n        width: 100,\n      } as DOMRect;\n      const currentPopoverRect = {\n        height: 100,\n        width: 200,\n      } as DOMRect;\n      const proposedRect = Tooltips.Tooltip.proposedRectForRichTooltip(\n          {inspectorViewRect, anchorRect: anchorBottomLeftCorner, currentPopoverRect, preferredPositions: []});\n      assert.strictEqual(proposedRect.top, 90);\n      assert.strictEqual(proposedRect.left, 0);\n    });\n\n    it('moves a simple tooltip into the viewport', () => {\n      const currentPopoverRect = {\n        height: 95,\n        width: 410,\n      } as DOMRect;\n      const proposedRect =\n          Tooltips.Tooltip.proposedRectForSimpleTooltip({inspectorViewRect, anchorRect, currentPopoverRect});\n      assert.strictEqual(proposedRect.top, 5);\n      assert.strictEqual(proposedRect.left, 90);\n    });\n  });\n});\n"]}