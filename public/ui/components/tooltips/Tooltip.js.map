{"version":3,"file":"Tooltip.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/tooltips/Tooltip.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable rulesdir/no-lit-render-outside-of-view */\n\nimport * as UI from '../../legacy/legacy.js';\nimport * as Lit from '../../lit/lit.js';\nimport * as VisualLogging from '../../visual_logging/visual_logging.js';\n\nimport tooltipStyles from './tooltip.css.js';\n\nconst {html} = Lit;\n\ninterface ProposedRect {\n  left: number;\n  top: number;\n}\n\ninterface PositioningParams {\n  anchorRect: DOMRect;\n  currentPopoverRect: DOMRect;\n}\n\nconst positioningUtils = {\n  bottomSpanRight: ({anchorRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.left,\n      top: anchorRect.bottom,\n    };\n  },\n  bottomSpanLeft: ({anchorRect, currentPopoverRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.right - currentPopoverRect.width,\n      top: anchorRect.bottom,\n    };\n  },\n  bottomCentered: ({anchorRect, currentPopoverRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.left + anchorRect.width / 2 - currentPopoverRect.width / 2,\n      top: anchorRect.bottom,\n    };\n  },\n  topCentered: ({anchorRect, currentPopoverRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.left + anchorRect.width / 2 - currentPopoverRect.width / 2,\n      top: anchorRect.top - currentPopoverRect.height,\n    };\n  },\n  topSpanRight: ({anchorRect, currentPopoverRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.left,\n      top: anchorRect.top - currentPopoverRect.height,\n    };\n  },\n  topSpanLeft: ({anchorRect, currentPopoverRect}: PositioningParams): ProposedRect => {\n    return {\n      left: anchorRect.right - currentPopoverRect.width,\n      top: anchorRect.top - currentPopoverRect.height,\n    };\n  },\n  // Adjusts proposed rect so that the resulting popover is always inside the inspector view bounds.\n  insetAdjustedRect:\n      ({inspectorViewRect, anchorRect, currentPopoverRect, proposedRect}:\n           {inspectorViewRect: DOMRect, anchorRect: DOMRect, currentPopoverRect: DOMRect, proposedRect: ProposedRect}):\n          ProposedRect => {\n            if (inspectorViewRect.left > proposedRect.left) {\n              proposedRect.left = inspectorViewRect.left;\n            }\n\n            if (inspectorViewRect.right < proposedRect.left + currentPopoverRect.width) {\n              proposedRect.left = inspectorViewRect.right - currentPopoverRect.width;\n            }\n\n            if (proposedRect.top + currentPopoverRect.height > inspectorViewRect.bottom) {\n              proposedRect.top = anchorRect.top - currentPopoverRect.height;\n            }\n            return proposedRect;\n          },\n  isInBounds: ({inspectorViewRect, currentPopoverRect, proposedRect}:\n                   {inspectorViewRect: DOMRect, currentPopoverRect: DOMRect, proposedRect: ProposedRect}): boolean => {\n    return inspectorViewRect.left < proposedRect.left &&\n        proposedRect.left + currentPopoverRect.width < inspectorViewRect.right &&\n        inspectorViewRect.top < proposedRect.top &&\n        proposedRect.top + currentPopoverRect.height < inspectorViewRect.bottom;\n  },\n  isSameRect: (rect1: DOMRect|null, rect2: DOMRect|null): boolean => {\n    if (!rect1 || !rect2) {\n      return false;\n    }\n\n    return rect1 && rect1.left === rect2.left && rect1.top === rect2.top && rect1.width === rect2.width &&\n        rect1.height === rect2.height;\n  }\n};\n\nconst proposedRectForRichTooltip =\n    ({inspectorViewRect, anchorRect, currentPopoverRect}:\n         {inspectorViewRect: DOMRect, anchorRect: DOMRect, currentPopoverRect: DOMRect}): ProposedRect => {\n      // Tries the default positioning of bottom right, bottom left, top right and top left.\n      // If they don't work out, we default back to showing in bottom right and adjust its insets so that the popover is inside the inspector view bounds.\n      let proposedRect = positioningUtils.bottomSpanRight({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      proposedRect = positioningUtils.bottomSpanLeft({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      proposedRect = positioningUtils.topSpanRight({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      proposedRect = positioningUtils.topSpanLeft({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      // If none of the options work above, we position to bottom right\n      // and adjust the insets so that it does not go out of bounds.\n      proposedRect = positioningUtils.bottomSpanRight({anchorRect, currentPopoverRect});\n      return positioningUtils.insetAdjustedRect({anchorRect, currentPopoverRect, inspectorViewRect, proposedRect});\n    };\n\nconst proposedRectForSimpleTooltip =\n    ({inspectorViewRect, anchorRect, currentPopoverRect}:\n         {inspectorViewRect: DOMRect, anchorRect: DOMRect, currentPopoverRect: DOMRect}): ProposedRect => {\n      // Default options are bottom centered & top centered.\n      let proposedRect = positioningUtils.bottomCentered({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      proposedRect = positioningUtils.topCentered({anchorRect, currentPopoverRect});\n      if (positioningUtils.isInBounds({inspectorViewRect, currentPopoverRect, proposedRect})) {\n        return proposedRect;\n      }\n\n      // The default options did not work out, so position it to bottom center\n      // and adjust the insets to make sure that it does not go out of bounds.\n      proposedRect = positioningUtils.bottomCentered({anchorRect, currentPopoverRect});\n      return positioningUtils.insetAdjustedRect({anchorRect, currentPopoverRect, inspectorViewRect, proposedRect});\n    };\n\nexport type TooltipVariant = 'simple'|'rich';\nexport type PaddingMode = 'small'|'large';\n\nexport interface TooltipProperties {\n  id: string;\n  variant?: TooltipVariant;\n  padding?: PaddingMode;\n  anchor?: HTMLElement;\n  jslogContext?: string;\n}\n\n/**\n * @property useHotkey - reflects the `\"use-hotkey\"` attribute.\n * @property id - reflects the `\"id\"` attribute.\n * @property hoverDelay - reflects the `\"hover-delay\"` attribute.\n * @property variant - reflects the `\"variant\"` attribute.\n * @property padding - reflects the `\"padding\"` attribute.\n * @property useClick - reflects the `\"click\"` attribute.\n * @attribute id - Id of the tooltip. Used for searching an anchor element with aria-describedby.\n * @attribute hover-delay - Hover length in ms before the tooltip is shown and hidden.\n * @attribute variant - Variant of the tooltip, `\"simple\"` for strings only, inverted background,\n *                 `\"rich\"` for interactive content, background according to theme's surface.\n * @attribute padding - Which padding to use, defaults to `\"small\"`. Use `\"large\"` for richer content.\n * @attribute use-click - If present, the tooltip will be shown on click instead of on hover.\n * @attribute use-hotkey - If present, the tooltip will be shown on hover but not when receiving focus.\n *                    Requires a hotkey to open when fosed (Alt-down). When `\"use-click\"` is present\n *                    as well, use-click takes precedence.\n */\nexport class Tooltip extends HTMLElement {\n  static readonly observedAttributes = ['id', 'variant', 'jslogcontext'];\n  static lastOpenedTooltipId: string|null = null;\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #anchor: HTMLElement|null = null;\n  #timeout: number|null = null;\n  #closing = false;\n  #anchorObserver: MutationObserver|null = null;\n  #openedViaHotkey = false;\n  #previousAnchorRect: DOMRect|null = null;\n  #previousPopoverRect: DOMRect|null = null;\n\n  get openedViaHotkey(): boolean {\n    return this.#openedViaHotkey;\n  }\n\n  get open(): boolean {\n    return this.matches(':popover-open');\n  }\n\n  get useHotkey(): boolean {\n    return this.hasAttribute('use-hotkey') ?? false;\n  }\n  set useHotkey(useHotkey: boolean) {\n    if (useHotkey) {\n      this.setAttribute('use-hotkey', '');\n    } else {\n      this.removeAttribute('use-hotkey');\n    }\n  }\n\n  get useClick(): boolean {\n    return this.hasAttribute('use-click') ?? false;\n  }\n  set useClick(useClick: boolean) {\n    if (useClick) {\n      this.setAttribute('use-click', '');\n    } else {\n      this.removeAttribute('use-click');\n    }\n  }\n\n  get hoverDelay(): number {\n    return this.hasAttribute('hover-delay') ? Number(this.getAttribute('hover-delay')) : 300;\n  }\n  set hoverDelay(delay: number) {\n    this.setAttribute('hover-delay', delay.toString());\n  }\n\n  get variant(): TooltipVariant {\n    return this.getAttribute('variant') === 'rich' ? 'rich' : 'simple';\n  }\n  set variant(variant: TooltipVariant) {\n    this.setAttribute('variant', variant);\n  }\n\n  get padding(): PaddingMode {\n    return this.getAttribute('padding') === 'large' ? 'large' : 'small';\n  }\n  set padding(padding: PaddingMode) {\n    this.setAttribute('padding', padding);\n  }\n\n  get jslogContext(): string|null {\n    return this.getAttribute('jslogcontext');\n  }\n  set jslogContext(jslogContext: string) {\n    this.setAttribute('jslogcontext', jslogContext);\n    this.#updateJslog();\n  }\n\n  get anchor(): HTMLElement|null {\n    return this.#anchor;\n  }\n\n  constructor(properties?: TooltipProperties) {\n    super();\n    const {id, variant, padding, jslogContext, anchor} = properties ?? {};\n    if (id) {\n      this.id = id;\n    }\n    if (variant) {\n      this.variant = variant;\n    }\n    if (padding) {\n      this.padding = padding;\n    }\n    if (jslogContext) {\n      this.jslogContext = jslogContext;\n    }\n    if (anchor) {\n      const ref = anchor.getAttribute('aria-details') ?? anchor.getAttribute('aria-describedby');\n      if (ref !== id) {\n        throw new Error('aria-details or aria-describedby must be set on the anchor');\n      }\n      this.#anchor = anchor;\n    }\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (!this.isConnected) {\n      // There is no need to do anything before the connectedCallback is called.\n      return;\n    }\n    if (name === 'id') {\n      this.#removeEventListeners();\n      this.#attachToAnchor();\n      if (Tooltip.lastOpenedTooltipId === oldValue) {\n        Tooltip.lastOpenedTooltipId = newValue;\n      }\n    } else if (name === 'jslogcontext') {\n      this.#updateJslog();\n    }\n  }\n\n  connectedCallback(): void {\n    this.#attachToAnchor();\n    this.#registerEventListeners();\n    this.#setAttributes();\n\n    // clang-format off\n    Lit.render(html`\n      <style>${tooltipStyles}</style>\n      <!-- Wrapping it into a container, so that the tooltip doesn't disappear when the mouse moves from the anchor to the tooltip. -->\n      <div class=\"container ${this.padding === 'large' ? 'large-padding' : ''}\">\n        <slot></slot>\n      </div>\n    `, this.#shadow, {host: this});\n    // clang-format on\n\n    if (Tooltip.lastOpenedTooltipId === this.id) {\n      this.showPopover();\n    }\n  }\n\n  disconnectedCallback(): void {\n    this.#removeEventListeners();\n    this.#anchorObserver?.disconnect();\n  }\n\n  showTooltip = (event?: MouseEvent|FocusEvent): void => {\n    // Don't show the tooltip if the mouse is down.\n    if (event && 'buttons' in event && event.buttons) {\n      return;\n    }\n    if (this.#timeout) {\n      window.clearTimeout(this.#timeout);\n    }\n    this.#timeout = window.setTimeout(() => {\n      this.showPopover();\n      Tooltip.lastOpenedTooltipId = this.id;\n    }, this.hoverDelay);\n  };\n\n  hideTooltip = (event?: MouseEvent|FocusEvent): void => {\n    if (this.#timeout) {\n      window.clearTimeout(this.#timeout);\n    }\n    // If the event is a blur event, then:\n    // 1. event.currentTarget = the element that got blurred\n    // 2. event.relatedTarget = the element that gained focus\n    // https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/relatedTarget\n    // If the blurred element (1) was our anchor, and the newly focused element\n    // (2) is within the tooltip, we do not want to hide the tooltip.\n    if (event && this.variant === 'rich' && event.target === this.#anchor && event.relatedTarget instanceof Node &&\n        this.contains(event.relatedTarget)) {\n      return;\n    }\n\n    // Don't hide a rich tooltip when hovering over the tooltip itself.\n    if (event && this.variant === 'rich' &&\n        (event.relatedTarget === this || (event.relatedTarget as Element)?.parentElement === this)) {\n      return;\n    }\n    if (this.open && Tooltip.lastOpenedTooltipId === this.id) {\n      Tooltip.lastOpenedTooltipId = null;\n    }\n    this.#timeout = window.setTimeout(() => {\n      this.hidePopover();\n    }, this.hoverDelay);\n  };\n\n  toggle = (): void => {\n    // We need this check because clicking on the anchor while the tooltip is open will trigger both\n    // the click event on the anchor and the toggle event from the backdrop of the tooltip.\n    if (!this.#closing) {\n      this.togglePopover();\n    }\n  };\n\n  #positionPopover = (): void => {\n    if (!this.#anchor || !this.open) {\n      this.#previousAnchorRect = null;\n      this.#previousPopoverRect = null;\n      this.style.visibility = 'hidden';\n      return;\n    }\n\n    // If there is no change from the previous anchor rect, we don't need to recompute the position.\n    const anchorRect = this.#anchor.getBoundingClientRect();\n    const currentPopoverRect = this.getBoundingClientRect();\n    if (positioningUtils.isSameRect(this.#previousAnchorRect, anchorRect) &&\n        positioningUtils.isSameRect(this.#previousPopoverRect, currentPopoverRect)) {\n      requestAnimationFrame(this.#positionPopover);\n      return;\n    }\n    this.#previousAnchorRect = anchorRect;\n    this.#previousPopoverRect = currentPopoverRect;\n\n    const inspectorViewRect = UI.InspectorView.InspectorView.instance().element.getBoundingClientRect();\n    const proposedPopoverRect = this.variant === 'rich' ?\n        proposedRectForRichTooltip({inspectorViewRect, anchorRect, currentPopoverRect}) :\n        proposedRectForSimpleTooltip({inspectorViewRect, anchorRect, currentPopoverRect});\n    this.style.left = `${proposedPopoverRect.left}px`;\n    this.style.top = `${proposedPopoverRect.top}px`;\n    this.style.visibility = 'visible';\n    requestAnimationFrame(this.#positionPopover);\n  };\n\n  #updateJslog(): void {\n    if (this.jslogContext && this.#anchor) {\n      VisualLogging.setMappedParent(this, this.#anchor);\n      this.setAttribute('jslog', VisualLogging.popover(this.jslogContext).parent('mapped').toString());\n    } else {\n      this.removeAttribute('jslog');\n    }\n  }\n\n  #setAttributes(): void {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'tooltip');\n    }\n    this.setAttribute('popover', this.useClick ? 'auto' : 'manual');\n    this.#updateJslog();\n  }\n\n  #stopPropagation(event: Event): void {\n    event.stopPropagation();\n  }\n\n  #setClosing = (event: Event): void => {\n    if ((event as ToggleEvent).newState === 'closed') {\n      this.#closing = true;\n    }\n  };\n\n  #resetClosing = (event: Event): void => {\n    if ((event as ToggleEvent).newState === 'closed') {\n      this.#closing = false;\n      this.#openedViaHotkey = false;\n    }\n  };\n\n  #keyDown = (event: KeyboardEvent): void => {\n    if ((event.altKey && event.key === 'ArrowDown') || (event.key === 'Escape' && this.open)) {\n      this.#openedViaHotkey = !this.open;\n      this.toggle();\n      event.consume(true);\n    }\n  };\n\n  #registerEventListeners(): void {\n    if (this.#anchor) {\n      if (this.useClick) {\n        this.#anchor.addEventListener('click', this.toggle);\n      } else {\n        this.#anchor.addEventListener('mouseenter', this.showTooltip);\n        if (this.useHotkey) {\n          this.#anchor.addEventListener('keydown', this.#keyDown);\n        } else {\n          this.#anchor.addEventListener('focus', this.showTooltip);\n        }\n        this.#anchor.addEventListener('blur', this.hideTooltip);\n        this.#anchor.addEventListener('mouseleave', this.hideTooltip);\n        this.addEventListener('mouseleave', this.hideTooltip);\n        this.addEventListener('focusout', this.hideTooltip);\n      }\n    }\n    // Prevent interaction with the parent element.\n    this.addEventListener('click', this.#stopPropagation);\n    this.addEventListener('mouseup', this.#stopPropagation);\n    this.addEventListener('beforetoggle', this.#setClosing);\n    this.addEventListener('toggle', this.#resetClosing);\n    this.addEventListener('toggle', this.#positionPopover);\n  }\n\n  #removeEventListeners(): void {\n    if (this.#timeout) {\n      window.clearTimeout(this.#timeout);\n    }\n    if (this.#anchor) {\n      this.#anchor.removeEventListener('click', this.toggle);\n      this.#anchor.removeEventListener('mouseenter', this.showTooltip);\n      this.#anchor.removeEventListener('focus', this.showTooltip);\n      this.#anchor.removeEventListener('blur', this.hideTooltip);\n      this.#anchor.removeEventListener('keydown', this.#keyDown);\n      this.#anchor.removeEventListener('mouseleave', this.hideTooltip);\n    }\n    this.removeEventListener('mouseleave', this.hideTooltip);\n    this.removeEventListener('click', this.#stopPropagation);\n    this.removeEventListener('mouseup', this.#stopPropagation);\n    this.removeEventListener('beforetoggle', this.#setClosing);\n    this.removeEventListener('toggle', this.#resetClosing);\n    this.removeEventListener('toggle', this.#positionPopover);\n  }\n\n  #attachToAnchor(): void {\n    if (!this.#anchor) {\n      const id = this.getAttribute('id');\n      if (!id) {\n        throw new Error('<devtools-tooltip> must have an id.');\n      }\n      const root = this.getRootNode() as Document | ShadowRoot;\n      if (root.querySelectorAll(`#${id}`)?.length > 1) {\n        throw new Error('Duplicate <devtools-tooltip> ids found.');\n      }\n      const describedbyAnchor = root.querySelector(`[aria-describedby=\"${id}\"]`);\n      const detailsAnchor = root.querySelector(`[aria-details=\"${id}\"]`);\n      const anchor = describedbyAnchor ?? detailsAnchor;\n      if (!anchor) {\n        throw new Error(`No anchor for tooltip with id ${id} found.`);\n      }\n      if (!(anchor instanceof HTMLElement)) {\n        throw new Error('Anchor must be an HTMLElement.');\n      }\n      this.#anchor = anchor;\n      if (this.variant === 'rich' && describedbyAnchor) {\n        console.warn(`The anchor for tooltip ${\n            id} was defined with \"aria-describedby\". For rich tooltips \"aria-details\" is more appropriate.`);\n      }\n    }\n\n    this.#observeAnchorRemoval(this.#anchor);\n    this.#updateJslog();\n  }\n\n  #observeAnchorRemoval(anchor: Element): void {\n    if (anchor.parentElement === null) {\n      return;\n    }\n    if (this.#anchorObserver) {\n      this.#anchorObserver.disconnect();\n    }\n\n    this.#anchorObserver = new MutationObserver(mutations => {\n      for (const mutation of mutations) {\n        if (mutation.type === 'childList' && [...mutation.removedNodes].includes(anchor)) {\n          if (this.#timeout) {\n            window.clearTimeout(this.#timeout);\n          }\n          this.hidePopover();\n        }\n      }\n    });\n    this.#anchorObserver.observe(anchor.parentElement, {childList: true});\n  }\n}\n\ncustomElements.define('devtools-tooltip', Tooltip);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-tooltip': Tooltip;\n  }\n}\n"]}