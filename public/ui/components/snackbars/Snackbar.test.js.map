{"version":3,"file":"Snackbar.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/snackbars/Snackbar.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {\n  dispatchClickEvent,\n  renderElementIntoDOM,\n} from '../../../testing/DOMHelpers.js';\nimport {describeWithLocale} from '../../../testing/EnvironmentHelpers.js';\n\nimport * as Snackbars from './snackbars.js';\n\ndescribeWithLocale('Snackbar', () => {\n  it('renders a basic snackbar', async () => {\n    const snackbar = new Snackbars.Snackbar.Snackbar({message: 'Test message'});\n    renderElementIntoDOM(snackbar, {allowMultipleChildren: true});\n\n    assert.exists(snackbar.shadowRoot);\n    const messageElement = snackbar.shadowRoot.querySelector('.message');\n    assert.strictEqual(messageElement?.textContent?.trim(), 'Test message');\n    assert.isFalse(snackbar.closable);\n    assert.isNull(snackbar.actionButtonLabel);\n  });\n\n  it('renders a closable snackbar', async () => {\n    const snackbar = new Snackbars.Snackbar.Snackbar({message: 'Test message', closable: true});\n    renderElementIntoDOM(snackbar, {allowMultipleChildren: true});\n\n    assert.exists(snackbar.shadowRoot);\n    assert.isTrue(snackbar.closable);\n    const closeButton = snackbar.shadowRoot.querySelector('devtools-button.dismiss');\n    assert.exists(closeButton);\n  });\n\n  it('renders a snackbar with an action button', async () => {\n    const actionHandler = sinon.spy();\n    const snackbar = new Snackbars.Snackbar.Snackbar({\n      message: 'Test message',\n      actionProperties: {\n        label: 'Click Me',\n        onClick: actionHandler,\n      },\n    });\n    renderElementIntoDOM(snackbar, {allowMultipleChildren: true});\n\n    assert.exists(snackbar.shadowRoot);\n    const actionButton = snackbar.shadowRoot.querySelector('devtools-button.snackbar-button');\n    assert.exists(actionButton);\n  });\n\n  it('renders a snackbar with a long action button', async () => {\n    const actionHandler = sinon.spy();\n    const snackbar = new Snackbars.Snackbar.Snackbar({\n      message: 'Test message',\n      actionProperties: {\n        label: 'This is a long action button',\n        onClick: actionHandler,\n      },\n    });\n    renderElementIntoDOM(snackbar, {allowMultipleChildren: true});\n\n    assert.exists(snackbar.shadowRoot);\n    const container = snackbar.shadowRoot.querySelector('.container');\n    assert.isTrue(container?.classList.contains('long-action'));\n    const actionButton = snackbar.shadowRoot.querySelector('.long-action-container devtools-button');\n    assert.exists(actionButton);\n  });\n\n  it('closes the snackbar when the close button is clicked', async () => {\n    const snackbar = Snackbars.Snackbar.Snackbar.show({message: 'Click Me', closable: true});\n\n    assert.isTrue(document.body.contains(snackbar));\n    assert.exists(snackbar.shadowRoot);\n    const closeButton = snackbar.shadowRoot.querySelector('devtools-button.dismiss');\n    assert.exists(closeButton);\n\n    dispatchClickEvent(closeButton);\n    assert.isFalse(document.body.contains(snackbar));\n  });\n\n  it('closes the snackbar and calls handler when the action button is clicked', async () => {\n    const actionHandler = sinon.spy();\n    const snackbar = Snackbars.Snackbar.Snackbar.show({\n      message: 'Message',\n      actionProperties: {label: 'Click Me', onClick: actionHandler},\n    });\n\n    assert.isTrue(document.body.contains(snackbar));\n    assert.exists(snackbar.shadowRoot);\n    const actionButton = snackbar.shadowRoot.querySelector('devtools-button');\n    assert.exists(actionButton);\n\n    dispatchClickEvent(actionButton);\n    sinon.assert.calledOnce(actionHandler);\n    assert.isFalse(document.body.contains(snackbar));\n  });\n});\n"]}