{"version":3,"file":"LoggingDriver.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/visual_logging/LoggingDriver.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport {renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {expectCall, expectCalled} from '../../testing/ExpectStubCall.js';\nimport {getVeId} from '../../testing/VisualLoggingHelpers.js';\n\nimport * as VisualLoggingTesting from './visual_logging-testing.js';\n\ndescribe('LoggingDriver', () => {\n  let recordImpression: sinon.SinonStub;\n  let throttler: Common.Throttler.Throttler;\n  let throttle: sinon.SinonStub;\n  let onerror: OnErrorEventHandler;\n\n  before(() => {\n    onerror = window.onerror;\n    window.onerror = (message, url, lineNumber, column, error) => {\n      if (message !== 'ResizeObserver loop completed with undelivered notifications.' && onerror) {\n        onerror.apply(window, [message, url, lineNumber, column, error]);\n      }\n    };\n  });\n\n  after(() => {\n    window.onerror = onerror;\n  });\n\n  beforeEach(() => {\n    throttler = new Common.Throttler.Throttler(1000000000);\n    throttle = sinon.stub(throttler, 'schedule');\n    recordImpression = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordImpression',\n    );\n  });\n\n  afterEach(async () => {\n    await VisualLoggingTesting.LoggingDriver.stopLogging();\n  });\n\n  function addLoggableElements() {\n    const parent = document.createElement('div');\n    parent.id = 'parent';\n    parent.setAttribute('jslog', 'TreeItem; track: hover');\n    parent.style.width = '300px';\n    parent.style.height = '300px';\n    const element = document.createElement('div');\n    element.id = 'element';\n    element.setAttribute('jslog', 'TreeItem; context:42; track: click, keydown, hover, drag, resize, change');\n    element.style.width = '300px';\n    element.style.height = '300px';\n    parent.appendChild(element);\n    renderElementIntoDOM(parent);\n  }\n\n  it('logs impressions on startLogging', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n  });\n\n  async function assertImpressionRecordedDeferred() {\n    const [work] = await expectCalled(throttle);\n    sinon.assert.notCalled(recordImpression);\n\n    await work();\n    sinon.assert.called(recordImpression);\n  }\n\n  it('does not log impressions when document hidden', async () => {\n    addLoggableElements();\n    sinon.stub(document, 'hidden').value(true);\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    sinon.assert.notCalled(recordImpression);\n  });\n\n  it('does not log impressions when parent hidden', async () => {\n    addLoggableElements();\n    const parent = document.getElementById('parent')!;\n    parent.style.height = '0';\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    sinon.assert.notCalled(recordImpression);\n  });\n\n  it('logs impressions when visibility changes', async () => {\n    let hidden = true;\n    addLoggableElements();\n    sinon.stub(document, 'hidden').get(() => hidden);\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n\n    hidden = false;\n    const event = document.createEvent('Event');\n    event.initEvent('visibilitychange', true, true);\n    document.dispatchEvent(event);\n\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('logs impressions on scroll', async () => {\n    addLoggableElements();\n    const parent = document.getElementById('parent')!;\n    parent.style.marginTop = '2000px';\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n\n    const scrollend = sinon.stub();\n    window.addEventListener('scrollend', scrollend);\n    window.scrollTo({\n      top: 2000,\n      left: 0,\n      behavior: 'instant',\n    });\n    await expectCalled(scrollend);\n    await assertImpressionRecordedDeferred();\n\n    scrollend.resetHistory();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'instant',\n    });\n    await expectCalled(scrollend);\n  });\n\n  it('logs impressions on mutation', async () => {\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    addLoggableElements();\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('logs impressions on mutation in shadow DOM', async () => {\n    const parent = document.createElement('div');\n    renderElementIntoDOM(parent);\n    const shadow = parent.attachShadow({mode: 'open'});\n    const shadowContent = document.createElement('div');\n    shadow.appendChild(shadowContent);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    shadowContent.innerHTML = '<div jslog=\"TreeItem\" style=\"width:300px;height:300px\"></div>';\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('does not log impressions for content in closed details element but does when opened', async () => {\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n\n    const details = document.createElement('details');\n    details.style.width = '100px';\n    details.style.height = '100px';\n    details.innerHTML = '<div id=\"details-content\" jslog=\"TreeItem\" style=\"width: 100px; height: 100px;\"></div>';\n    renderElementIntoDOM(details);\n\n    let [work] = await expectCalled(throttle);\n    await work();\n    // This will fail with the bug, as an impression will be recorded.\n    sinon.assert.notCalled(recordImpression);\n\n    throttle.resetHistory();\n    recordImpression.resetHistory();\n\n    details.open = true;\n    // Opening details will trigger mutation observer.\n    [work] = await expectCalled(throttle);\n    await work();\n    sinon.assert.calledOnce(recordImpression);\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [{\n                             id: getVeId('#details-content'),\n                             type: 1,\n                             width: 100,\n                             height: 100,\n                           }]);\n  });\n\n  it('logs impressions on mutation in additional document', async () => {\n    const iframe = document.createElement('iframe');\n    renderElementIntoDOM(iframe);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    const iframeDocument = iframe.contentDocument;\n    assert.exists(iframeDocument);\n    await VisualLoggingTesting.LoggingDriver.addDocument(iframeDocument);\n    iframeDocument.body.innerHTML = '<div jslog=\"TreeItem\" style=\"width:300px;height:300px\"></div>';\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('correctly determines visibility in additional document', async () => {\n    const iframe = document.createElement('iframe');\n    renderElementIntoDOM(iframe);\n    iframe.style.width = '100px';\n    iframe.style.height = '100px';\n    iframe.width = '100';\n    iframe.height = '100';\n    const iframeDocument = iframe.contentDocument;\n    assert.exists(iframeDocument);\n    iframeDocument.body.innerHTML =  // Second div should not be out of viewport and not logged\n        `<div style=\"width:150px;height:150px\"></div>\n         <div jslog=\"TreeItem\" style=\"width:150px;height:150px\"></div>`;\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    await VisualLoggingTesting.LoggingDriver.addDocument(iframeDocument);\n    sinon.assert.notCalled(recordImpression);\n  });\n\n  it('hashes a string context', async () => {\n    const element = document.createElement('div');\n    element.setAttribute('jslog', 'TreeItem; track: hover; context: foobar');\n    element.style.width = '300px';\n    element.style.height = '300px';\n    renderElementIntoDOM(element);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n    assert.strictEqual(recordImpression.firstCall.firstArg.impressions[0]?.context, -103332984);\n  });\n\n  it('logs clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element')!;\n    element.click();\n\n    await expectCalled(recordClick);\n  });\n\n  it('logs right clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('contextmenu'));\n\n    await expectCalled(recordClick);\n  });\n\n  it('logs middle clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('auxclick'));\n\n    await expectCalled(recordClick);\n  });\n\n  it('does not log clicks if not configured', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const parent = document.getElementById('parent')!;\n    parent.click();\n\n    await new Promise(resolve => setTimeout(resolve, 0));\n    sinon.assert.notCalled(recordClick);\n  });\n\n  it('does not log click on double click', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element')!;\n    element.setAttribute('jslog', 'TreeItem; context:42; track: click, dblclick');\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    element.dispatchEvent(new MouseEvent('click'));\n    element.dispatchEvent(new MouseEvent('dblclick'));\n    const [logging] = await expectCalled(throttle);\n    sinon.assert.calledTwice(throttle);\n    sinon.assert.notCalled(recordClick);\n\n    await logging();\n    sinon.assert.calledOnce(recordClick);\n    assert.isTrue(recordClick.firstCall.firstArg.doubleClick);\n  });\n\n  it('does not log click on parent when clicked on child', async () => {\n    addLoggableElements();\n    const parent = document.getElementById('parent')!;\n    parent.setAttribute('jslog', 'TreeItem; track: click');\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element')!;\n    element.click();\n    const [logging] = await expectCalled(throttle);\n    sinon.assert.notCalled(recordClick);\n\n    await logging();\n    sinon.assert.calledOnce(recordClick);\n    assert.strictEqual(recordClick.firstCall.firstArg.veid, getVeId(element));\n  });\n\n  const logsSelectOptions = (event: Event) => async () => {\n    const parent = document.createElement('div');\n    parent.innerHTML = `\n      <select jslog=\"TreeItem; context: 0\" id=\"select\" style=\"width: 30px; height: 20px\">\n        <option jslog=\"TreeItem; context: 1\">1</option>\n        <option jslog=\"TreeItem; context: 2\">2</option>\n      </select>`;\n    renderElementIntoDOM(parent);\n    const select = document.getElementById('select')!;\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    await VisualLoggingTesting.LoggingDriver.startLogging(\n        {processingThrottler: throttler, clickLogThrottler: throttler});\n\n    sinon.assert.calledOnce(recordImpression);\n    const impressions = recordImpression.firstCall.firstArg.impressions;\n    assert.sameDeepMembers(impressions, [\n      {id: getVeId(select), type: 1, width: 30, height: 20, context: 0},\n    ]);\n\n    recordImpression.resetHistory();\n\n    throttle.callsArg(0);\n    select.dispatchEvent(event);\n\n    await expectCalled(recordClick);\n    sinon.assert.calledOnce(recordClick);\n    assert.strictEqual(recordClick.firstCall.firstArg.veid, getVeId(select));\n\n    await expectCalled(recordImpression);\n    sinon.assert.calledOnce(recordImpression);\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('option:first-child'), type: 1, parent: getVeId(select), context: 1, width: 0, height: 0},\n      {id: getVeId('option:last-child'), type: 1, parent: getVeId(select), context: 2, width: 0, height: 0},\n    ]);\n  };\n\n  it('logs impressions on select options on click', logsSelectOptions(new MouseEvent('click')));\n  it('logs impressions on select options on space press', logsSelectOptions(new KeyboardEvent('keypress', {key: ' '})));\n  it('logs impressions on select options on F4', logsSelectOptions(new KeyboardEvent('keydown', {code: 'F4'})));\n\n  it('logs option click on select change', async () => {\n    const parent = document.createElement('div');\n    parent.innerHTML = `\n      <select jslog=\"TreeItem; context: 0\" id=\"select\">\n        <option jslog=\"TreeItem; context: 1; track: click\">1</option>\n        <option jslog=\"TreeItem; context: 2; track: click\">2</option>\n      </select>`;\n    renderElementIntoDOM(parent);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const select = document.getElementById('select') as HTMLSelectElement;\n    assert.exists(select);\n    select.selectedIndex = 1;\n    select.dispatchEvent(new Event('change'));\n    await expectCalled(throttle).then(([logging]) => logging());\n\n    sinon.assert.calledOnce(recordClick);\n    assert.deepEqual(recordClick.firstCall.firstArg, {veid: getVeId(select.selectedOptions[0]), doubleClick: false});\n  });\n\n  it('logs keydown', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({keyboardLogThrottler: throttler});\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new KeyboardEvent('keydown', {key: 'a'}));\n    element.dispatchEvent(new KeyboardEvent('keydown', {key: 'b'}));\n    const [logging] = await expectCalled(throttle);\n    sinon.assert.calledTwice(throttle);\n    sinon.assert.notCalled(recordKeyDown);\n\n    await logging();\n    sinon.assert.calledOnce(recordKeyDown);\n  });\n\n  it('logs keydown for specific codes', async () => {\n    addLoggableElements();\n\n    const element = document.getElementById('element')!;\n    element.setAttribute('jslog', 'TreeItem; context:42; track: keydown: KeyA|KeyB');\n    await VisualLoggingTesting.LoggingDriver.startLogging({keyboardLogThrottler: throttler});\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyC'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    sinon.assert.notCalled(throttle);\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyA'}));\n    let [logging] = await expectCalled(throttle);\n    sinon.assert.notCalled(recordKeyDown);\n    await logging();\n    sinon.assert.calledOnce(recordKeyDown);\n\n    recordKeyDown.resetHistory();\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyB'}));\n    [logging] = await expectCalled(throttle);\n    sinon.assert.notCalled(recordKeyDown);\n    await logging();\n    sinon.assert.calledOnce(recordKeyDown);\n  });\n\n  it('logs change', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new Event('change'));\n    sinon.assert.calledOnce(recordChange);\n  });\n\n  it('logs change for each input type', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    sinon.assert.notCalled(recordChange);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    sinon.assert.notCalled(recordChange);\n\n    let logging = expectCalled(recordChange);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'inserFromPaste'}));\n    await logging;\n\n    logging = expectCalled(recordChange);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'inserFromDrop'}));\n    await logging;\n    logging = expectCalled(recordChange);\n    element.dispatchEvent(new Event('change'));\n    await logging;\n  });\n\n  it('logs change on focus out after input', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    element.dispatchEvent(new Event('focusout'));\n    await expectCalled(recordChange);\n  });\n\n  it('logs change on new impressions', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    const parent = document.getElementById('parent')!;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    throttle.callsArg(0);\n    parent.appendChild(element.cloneNode());\n    await expectCalled(recordChange);\n  });\n\n  it('logs change on resize', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    throttle.callsArg(0);\n    element.style.width = '400px';\n    await expectCalled(recordChange);\n  });\n\n  it('does not log change on focus out without input', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new Event('focusout'));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordChange.calledOnce);\n  });\n\n  it('logs state with change of a checkbox', async () => {\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.createElement('input');\n    element.setAttribute('jslog', 'TreeItem; track: change');\n    element.type = 'checkbox';\n    element.checked = true;\n    renderElementIntoDOM(element);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    let logging = expectCall(recordChange);\n    element.dispatchEvent(new Event('change'));\n    let [event] = await logging;\n    assert.strictEqual(event.context, 1530936795);\n\n    element.checked = false;\n    logging = expectCall(recordChange);\n    element.dispatchEvent(new Event('change'));\n    [event] = await logging;\n    assert.strictEqual(event.context, 1936227034);\n  });\n\n  it('logs state with change of a radio', async () => {\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.createElement('input');\n    element.setAttribute('jslog', 'TreeItem; track: change');\n    element.type = 'radio';\n    element.checked = true;\n    renderElementIntoDOM(element);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    let logging = expectCall(recordChange);\n    element.dispatchEvent(new Event('change'));\n    let [event] = await logging;\n    assert.strictEqual(event.context, 1530936795);\n\n    element.checked = false;\n    logging = expectCall(recordChange);\n    element.dispatchEvent(new Event('change'));\n    [event] = await logging;\n    assert.strictEqual(event.context, 1936227034);\n  });\n\n  it('logs state with change of a label`s control', async () => {\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const label = document.createElement('label');\n    label.setAttribute('jslog', 'TreeItem; track: change');\n    const input = document.createElement('input');\n    input.type = 'radio';\n    input.checked = true;\n    input.style.display = 'none';\n    label.appendChild(input);\n    renderElementIntoDOM(label);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    let logging = expectCall(recordChange);\n    input.dispatchEvent(new Event('change'));\n    let [event] = await logging;\n    assert.strictEqual(event.context, 1530936795);\n\n    input.checked = false;\n    logging = expectCall(recordChange);\n    input.dispatchEvent(new Event('change'));\n    [event] = await logging;\n    assert.strictEqual(event.context, 1936227034);\n  });\n\n  it('logs hover', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    const [logging] = await expectCalled(throttle);\n    sinon.assert.notCalled(recordHover);\n    await logging();\n    sinon.assert.calledOnce(recordHover);\n  });\n\n  it('does not log hover if too short', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCalled(throttle);\n    sinon.assert.notCalled(recordHover);\n    element.dispatchEvent(new MouseEvent('mouseout'));\n    await expectCalled(throttle).then(([work]) => work());\n    sinon.assert.notCalled(recordHover);\n  });\n\n  it('does not log hover if in descendent', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const parent = document.getElementById('parent')!;\n    const element = document.getElementById('element')!;\n    parent.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCalled(throttle);\n\n    throttle.resetHistory();\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCalled(throttle).then(([work]) => work());\n    sinon.assert.called(recordHover);\n    assert.deepEqual(recordHover.firstCall.firstArg, {veid: getVeId(element)});\n  });\n\n  it('logs drag', async () => {\n    const dragLogThrottler = new Common.Throttler.Throttler(1000000000);\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('pointerdown'));\n    assert.exists(dragLogThrottler.process);\n    sinon.assert.notCalled(recordDrag);\n\n    await dragLogThrottler.process?.();\n    sinon.assert.called(recordDrag);\n    sinon.assert.calledOnce(recordDrag);\n  });\n\n  it('does not log drag if too short in time', async () => {\n    const dragLogThrottler = new Common.Throttler.Throttler(1000000000);\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('pointerdown'));\n    assert.exists(dragLogThrottler.process);\n    sinon.assert.notCalled(recordDrag);\n\n    element.dispatchEvent(new MouseEvent('pointerup'));\n\n    await dragLogThrottler.process?.();\n    sinon.assert.notCalled(recordDrag);\n  });\n\n  it('logs drag if short in time but long in distance', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler: throttler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element')!;\n    element.dispatchEvent(new MouseEvent('pointerdown', {screenX: 0, screenY: 0}));\n\n    await expectCalled(throttle);\n    sinon.assert.notCalled(recordDrag);\n\n    element.dispatchEvent(new MouseEvent('pointerup', {screenX: 100, screenY: 100}));\n\n    await throttler.process?.();\n    sinon.assert.notCalled(recordDrag);\n  });\n\n  it('logs resize', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element')!;\n\n    element.style.height = '400px';\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    sinon.assert.notCalled(recordResize);\n    await logging();\n    sinon.assert.calledOnce(recordResize);\n  });\n\n  it('does not log resize if too small', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element')!;\n    element.style.height = '301px';\n    sinon.assert.notCalled(recordResize);\n  });\n\n  it('logs resize on visibility change', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element')!;\n\n    element.style.display = 'none';\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    sinon.assert.notCalled(recordResize);\n\n    logging();\n    await expectCalled(recordResize);\n    sinon.assert.calledOnce(recordResize);\n    assert.deepEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 0, height: 0});\n\n    recordResize.resetHistory();\n\n    element.style.display = 'block';\n    sinon.assert.notCalled(recordResize);\n    throttle.callsArg(0);\n\n    await expectCall(recordResize);\n    sinon.assert.calledOnce(recordResize);\n    assert.deepEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 300, height: 300});\n  });\n\n  it('throttles resize per element', async () => {\n    addLoggableElements();\n    const element1 = document.getElementById('element')!;\n    const element2 = element1.cloneNode() as HTMLElement;\n    document.getElementById('parent')?.appendChild(element2);\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    element1.style.height = '200px';\n    await expectCall(throttle, {callCount: 2});\n    element2.style.height = '200px';\n    await expectCall(throttle, {callCount: 2});\n    element1.style.height = '10px';\n    await expectCall(throttle, {callCount: 2});\n    element2.style.height = '10px';\n    const [work] = await expectCall(throttle, {callCount: 2});\n\n    sinon.assert.notCalled(recordResize);\n    await work();\n    sinon.assert.calledTwice(recordResize);\n    assert.strictEqual(recordResize.firstCall.firstArg.height, 10);\n    assert.strictEqual(recordResize.lastCall.firstArg.height, 10);\n    assert.notStrictEqual(recordResize.firstCall.firstArg.veid, recordResize.lastCall.firstArg.veid);\n  });\n\n  it('only logs resize of the outer element', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element')!;\n    const child = document.createElement('div');\n    child.setAttribute('jslog', 'TreeItem; track: resize');\n    child.style.width = '100%';\n    child.style.height = '100%';\n    element.appendChild(child);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    element.style.width = '400px';\n    const [work] = await expectCall(throttle, {callCount: 2});\n\n    sinon.assert.notCalled(recordResize);\n    await work();\n    await expectCalled(recordResize);\n    sinon.assert.calledOnce(recordResize);\n    assert.deepEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 400, height: 300});\n  });\n\n  it('does not log resize intial impressions due to visibility change', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element')!;\n    element.style.display = 'none';\n\n    await VisualLoggingTesting.LoggingDriver.startLogging(\n        {processingThrottler: throttler, resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n    recordImpression.resetHistory();\n\n    element.style.display = 'block';\n    await expectCalled(throttle).then(([work]) => work());\n    sinon.assert.calledOnce(throttle);\n    sinon.assert.calledOnce(recordImpression);\n    sinon.assert.notCalled(recordResize);\n\n    await new Promise(resolve => setTimeout(resolve, 0));\n    sinon.assert.notCalled(recordResize);\n  });\n\n  it('properly handles the switch between visible elements', async () => {\n    addLoggableElements();\n    const element1 = document.getElementById('element')!;\n    const child = document.createElement('div');\n    child.id = 'child';\n    child.setAttribute('jslog', 'TreeItem; track: resize');\n    child.style.width = '100%';\n    child.style.height = '100%';\n    element1.appendChild(child);\n\n    const element2 = element1.cloneNode(/* deep=*/ true) as HTMLElement;\n    element2.id = 'element2';\n    document.getElementById('parent')?.appendChild(element2);\n\n    // First ensure both top level elements have impressions logged\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    // Now hide one and wait for logging to finish\n    throttle.callsArg(0);\n    element2.style.display = 'none';\n    await expectCalled(recordResize, {callCount: 1});\n    throttle.reset();\n    recordResize.reset();\n\n    // Now the actual test: hiding one element and show the other one\n    element1.style.display = 'none';\n    element2.style.display = 'block';\n    // Throttler is called by both resize and intersection observer for each element\n    await expectCalled(throttle, {callCount: 4}).then(([work]) => work());\n\n    sinon.assert.calledTwice(recordResize);\n    assert.sameDeepMembers(recordResize.getCalls().map(c => c.firstArg), [\n      {veid: VisualLoggingTesting.LoggingState.getLoggingState(element1)?.veid, width: 0, height: 0},\n      {veid: VisualLoggingTesting.LoggingState.getLoggingState(element2)?.veid, width: 300, height: 300},\n    ]);\n  });\n\n  it('logs resize when removed from DOM', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element')!;\n    const parent = document.getElementById('parent')!;\n\n    parent.removeChild(element);\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    sinon.assert.notCalled(recordResize);\n\n    await logging();\n    sinon.assert.calledOnce(recordResize);\n    assert.deepEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 0, height: 0});\n  });\n\n  it('logs click, then resize, then impressions', async () => {\n    addLoggableElements();\n    const processingThrottler = new Common.Throttler.Throttler(10);\n    const clickLogThrottler = new Common.Throttler.Throttler(100);\n    const keyboardLogThrottler = new Common.Throttler.Throttler(100);\n    const resizeLogThrottler = new Common.Throttler.Throttler(100);\n    await VisualLoggingTesting.LoggingDriver.startLogging({\n      processingThrottler,\n      clickLogThrottler,\n      keyboardLogThrottler,\n      resizeLogThrottler,\n    });\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n    recordImpression.resetHistory();\n\n    const element = document.getElementById('element')!;\n    const parent = document.getElementById('parent')!;\n\n    parent.removeChild(element);\n    parent.appendChild(element.cloneNode());\n    element.click();\n\n    await Promise.all([\n      expectCalled(recordImpression),\n      expectCalled(recordResize),\n      expectCalled(recordClick),\n    ]);\n    assert.isTrue(recordClick.calledBefore(recordResize));\n    assert.isTrue(recordResize.calledBefore(recordImpression));\n  });\n\n  it('logs keydown, then resize, then impressions', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element')!;\n    element.setAttribute('jslog', 'TreeItem; context:42; track: keydown: KeyA, resize');\n    const keyboardLogThrottler = new Common.Throttler.Throttler(100);\n    const resizeLogThrottler = new Common.Throttler.Throttler(100);\n    await VisualLoggingTesting.LoggingDriver.startLogging({\n      processingThrottler: throttler,\n      keyboardLogThrottler,\n      resizeLogThrottler,\n    });\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n    recordImpression.resetHistory();\n    throttle.callsArg(0);\n\n    const parent = document.getElementById('parent')!;\n\n    parent.removeChild(element);\n    parent.appendChild(element.cloneNode());\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyA', key: 'a'}));\n\n    await Promise.all([\n      expectCalled(recordImpression),\n      expectCalled(recordResize),\n      expectCalled(recordKeyDown),\n    ]);\n    assert.isTrue(recordKeyDown.calledBefore(recordResize));\n    assert.isTrue(recordResize.calledBefore(recordImpression));\n  });\n\n  it('logs non-DOM impressions', async () => {\n    addLoggableElements();\n    const loggable = {};\n    const parent = document.getElementById('parent')!;\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, parent);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId(loggable), type: 1, context: 123, parent: getVeId(parent), width: 0, height: 0},\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId(parent), width: 300, height: 300},\n      {id: getVeId(parent), type: 1, width: 300, height: 300},\n    ]);\n  });\n\n  it('logs non-DOM impressions after parent was logged', async () => {\n    addLoggableElements();\n    const loggable1 = {};\n    const parent = document.getElementById('parent')!;\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable1, {ve: 1, context: '123'}, parent);\n    recordImpression.resetHistory();\n    await VisualLoggingTesting.LoggingDriver.scheduleProcessing();\n    await expectCalled(recordImpression);\n\n    assert.sameDeepMembers(recordImpression.lastCall.firstArg.impressions, [\n      {id: getVeId(loggable1), type: 1, context: 123, parent: getVeId(parent), width: 0, height: 0},\n    ]);\n    recordImpression.resetHistory();\n\n    const loggable2 = {};\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable2, {ve: 1, context: '345'}, parent);\n    await VisualLoggingTesting.LoggingDriver.scheduleProcessing();\n    await expectCalled(recordImpression);\n\n    assert.sameDeepMembers(recordImpression.lastCall.firstArg.impressions, [\n      {id: getVeId(loggable2), type: 1, context: 345, parent: getVeId(parent), width: 0, height: 0},\n    ]);\n  });\n\n  it('logs root non-DOM impressions', async () => {\n    addLoggableElements();\n    const loggable = {};\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, undefined);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId(loggable), type: 1, context: 123, width: 0, height: 0},\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n    assert.isEmpty(VisualLoggingTesting.NonDomState.getNonDomLoggables());\n  });\n\n  it('postpones logging non-DOM impressions with detached parent', async () => {\n    addLoggableElements();\n    const loggable = {};\n    const parent = document.createElement('div');\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, parent);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    sinon.assert.calledOnce(recordImpression);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n    assert.deepInclude(\n        VisualLoggingTesting.NonDomState.getNonDomLoggables(parent),\n        {loggable, config: {ve: 1, context: '123'}, parent, size: undefined});\n  });\n});\n"]}