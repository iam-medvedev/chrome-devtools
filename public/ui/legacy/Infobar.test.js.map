{"version":3,"file":"Infobar.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/Infobar.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EACL,oBAAoB,GACrB,MAAM,6BAA6B,CAAC;AACrC,OAAO,EACL,uBAAuB,GACxB,MAAM,qCAAqC,CAAC;AAE7C,OAAO,KAAK,EAAE,MAAM,aAAa,CAAC;AAElC,uBAAuB,CAAC,SAAS,EAAE,GAAG,EAAE;IACtC,MAAM,mBAAmB,GAAG,CAAC,SAA6B,EAAE,WAAmB,EAAE,EAAE;QACjF,oBAAoB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAExC,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,UAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACxE,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;QAC3C,MAAM,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACjD,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;QAE7C,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;QAClE,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;QAEzD,MAAM,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACjD,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvB,OAAO,CAAC,KAAK,EAAE,CAAC;QAChB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC;IAEF,EAAE,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAC5B,MAAM,SAAS,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,0CAA0B,mBAAmB,CAAC,CAAC;QACvF,MAAM,CAAC,SAAS,CACZ,SAAS,CAAC,OAAO,CAAC,UAAU,EAAE,aAAa,CAAC,mBAAmB,CAAC,EAAE,WAAW,EAAE,mBAAmB,CAAC,CAAC;IAC1G,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,SAAS,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,0CAA0B,mBAAmB,CAAC,CAAC;QACvF,MAAM,WAAW,GAAG,iCAAiC,CAAC;QACtD,SAAS,CAAC,uBAAuB,CAAC,WAAW,CAAC,CAAC;QAC/C,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;QAC1D,MAAM,SAAS,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,0CAA0B,mBAAmB,CAAC,CAAC;QACvF,MAAM,QAAQ,GAAG,cAAc,CAAC;QAChC,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,yBAAyB,EAAE,QAAQ,CAAC,CAAC;QACxE,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACxC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {\n  renderElementIntoDOM,\n} from '../../testing/DOMHelpers.js';\nimport {\n  describeWithEnvironment,\n} from '../../testing/EnvironmentHelpers.js';\n\nimport * as UI from './legacy.js';\n\ndescribeWithEnvironment('Infobar', () => {\n  const checkDetailsMessage = (component: UI.Infobar.Infobar, messageText: string) => {\n    renderElementIntoDOM(component.element);\n\n    const infobar = component.element.shadowRoot!.querySelector('.infobar');\n    assert.instanceOf(infobar, HTMLDivElement);\n    const details = infobar.querySelector('details');\n    assert.exists(details);\n    assert.isFalse(details.hasAttribute('open'));\n\n    const detailsRow = details.querySelector('.infobar-details-rows');\n    assert.strictEqual(detailsRow?.textContent, messageText);\n\n    const summary = details.querySelector('summary');\n    assert.exists(summary);\n    summary.click();\n    assert.isTrue(details.hasAttribute('open'));\n  };\n\n  it('shows main message', () => {\n    const component = new UI.Infobar.Infobar(UI.Infobar.Type.WARNING, 'This is a warning');\n    assert.deepEqual(\n        component.element.shadowRoot?.querySelector('.infobar-main-row')?.textContent, 'This is a warning');\n  });\n\n  it('shows details message containing a string', () => {\n    const component = new UI.Infobar.Infobar(UI.Infobar.Type.WARNING, 'This is a warning');\n    const messageText = 'This is a more detailed warning';\n    component.createDetailsRowMessage(messageText);\n    checkDetailsMessage(component, messageText);\n  });\n\n  it('shows details message containing HTML element(s)', () => {\n    const component = new UI.Infobar.Infobar(UI.Infobar.Type.WARNING, 'This is a warning');\n    const linkText = 'example-link';\n    const link = UI.XLink.XLink.create('https://www.example.com', linkText);\n    component.createDetailsRowMessage(link);\n    checkDetailsMessage(component, linkText);\n  });\n});\n"]}