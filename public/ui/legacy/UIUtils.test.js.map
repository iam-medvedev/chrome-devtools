{"version":3,"file":"UIUtils.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/UIUtils.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,QAAQ,MAAM,iCAAiC,CAAC;AAE5D,OAAO,EAAC,GAAG,EAAE,oBAAoB,EAAC,MAAM,6BAA6B,CAAC;AACtE,OAAO,EAAC,iBAAiB,EAAE,gBAAgB,EAAC,MAAM,qCAAqC,CAAC;AAExF,OAAO,KAAK,GAAG,MAAM,eAAe,CAAC;AAErC,OAAO,KAAK,EAAE,MAAM,aAAa,CAAC;AAElC,MAAM,EAAC,IAAI,EAAC,GAAG,GAAG,CAAC;AAEnB,MAAM,EAAC,SAAS,EAAC,GAAG,QAAQ,CAAC,YAAY,CAAC;AAE1C,QAAQ,CAAC,SAAS,EAAE,GAAG,EAAE;IACvB,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;QAC5B,MAAM,EAAC,YAAY,EAAC,GAAG,EAAE,CAAC,OAAO,CAAC;QAClC,MAAM,EAAC,6BAA6B,EAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC;QAEnE,EAAE,CAAC,0CAA0C,EAAE,GAAG,EAAE;YAClD,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,oBAAoB,CAAC,EAAE,SAAS,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,8BAA8B,EAAE,GAAG,EAAE;YACtC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;YAEvE,YAAY,CAAC,yBAAyB,CAAC,CAAC;YAExC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;YACnE,MAAM,IAAI,GAAG;gBACX,4EAA4E;gBAC5E,0DAA0D;gBAC1D,sCAAsC;gBACtC,6CAA6C;gBAC7C,kEAAkE;gBAClE,+DAA+D;gBAC/D,8CAA8C;gBAC9C,gDAAgD;aACjD,CAAC;YACF,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;gBACvB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;gBAEvE,YAAY,CAAC,GAAG,CAAC,CAAC;gBAElB,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,EAAE,SAAS,CAAA,GAAG,GAAG,EAAE,CAAC,CAAC;gBAC5D,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sEAAsE,EAAE,GAAG,EAAE;YAC9E,MAAM,IAAI,GAAG;gBACX,uDAAuD;gBACvD,qCAAqC;gBACrC,iBAAiB;gBACjB,6CAA6C;gBAC7C,0CAA0C;gBAC1C,2BAA2B;aAC5B,CAAC;YACF,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;gBACvB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;gBAEvE,YAAY,CAAC,GAAG,CAAC,CAAC;gBAElB,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC9B,MAAM,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,UAAU,CAAC,CAAC;gBACxF,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wEAAwE,EAAE,GAAG,EAAE;YAChF,MAAM,QAAQ,GAAkD;gBAC9D,QAAQ;gBACR,MAAM;gBACN,KAAK;gBACL,QAAQ;aACT,CAAC;YACF,MAAM,IAAI,GAAG;gBACX,uDAAuD;gBACvD,qCAAqC;gBACrC,iBAAiB;gBACjB,6CAA6C;gBAC7C,0CAA0C;gBAC1C,2BAA2B;aAC5B,CAAC;YACF,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE,CAAC;gBAC/B,gBAAgB,CAAC,EAAC,OAAO,EAAC,CAAC,CAAC;gBAE5B,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;oBACvB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;oBAEvE,YAAY,CAAC,GAAG,CAAC,CAAC;oBAElB,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBAC9B,MAAM,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,OAAO,CAAC,CAAC;oBACvF,IAAI,CAAC,OAAO,EAAE,CAAC;gBACjB,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;YACrC,gBAAgB,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAC,CAAC,CAAC;YACtC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;YAEvE,YAAY,CAAC,mFAAmF,CAAC,CAAC;YAElG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;YAClD,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,CAAC;YACnE,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,UAAU,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACjD,gBAAgB,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAC,CAAC,CAAC;YACtC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,6BAA6B,EAAE,cAAc,CAAC,CAAC;YAEvE,YAAY,CAAC,2CAA2C,CAAC,CAAC;YAE1D,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,UAAU,CAAC,CAAC;YAC5D,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC;YACvD,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,CAAC;YACnE,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,UAAU,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACnC,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,EAAC,MAAM,EAAE,CAAC,YAAY,CAAC,EAAC,CAAC,CAAC;YAC5D,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACzC,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;YAC7B,MAAM,UAAU,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;YAEpE,EAAE,CAAC,aAAa,CAAC,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,CAAC;YAClD,KAAK,CAAC,MAAM,EAAE,CAAC;YACf,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAElC,UAAU,CAAC,OAAO,EAAE,CAAC;YAErB,EAAE,CAAC,aAAa,CAAC,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,CAAC;YAClD,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAClC,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;QACtC,IAAI,KAAuB,CAAC;QAC5B,MAAM,CAAC,GAAG,EAAE;YACV,EAAE,CAAC,OAAO,CAAC,kCAAkC,EAAE,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,GAAG,EAAE;YACT,KAAK,CAAC,MAAM,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0BAA0B,EAAE,GAAG,EAAE;YAClC,MAAM,oBAAoB,GAAG,EAAE,CAAC;YAChC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC,sBAAsB,EAAE,EAAE,oBAAoB,CAAC,CAAC;QAChF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;YAC9C,MAAM,KAAK,GAAG,EAAE,CAAC;YAEjB,8CAA8C;YAC9C,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACxC,KAAK,CAAC,WAAW,GAAG;;iBAET,KAAK;QACd,CAAC;YACH,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACjC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;YAEvE,yEAAyE;YACzE,KAAK,CAAC,MAAM,EAAE,CAAC;YACf,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACzC,EAAE,CAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;YACpD,MAAM,QAAQ,GAAG,GAAG,EAAE,GAAE,CAAC,CAAC;YAC1B,MAAM,YAAY,GAAG,EAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC;YACpE,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,QAAQ,GAAG,GAAG,EAAE,GAAE,CAAC,CAAC;YAC1B,MAAM,YAAY,GAAG,EAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAC7E,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;QAC5B,MAAM,QAAQ,GAAG,4BAA4B,CAAC;QAE9C,MAAM,CAAC,GAAG,EAAE;YACV,MAAM,gBAAgB,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;YACtC,EAAE,CAAC,kBAAkB,CAAC,uBAAuB,CAAC;gBAC5C,QAAQ;gBACR,QAAQ,4DAA6C;gBACrD,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAAC;gBACjE,kBAAkB,EAAE,KAAK,IAAI,EAAE,CAAC,CAAC,EAAC,YAAY,EAAE,gBAAgB,EAAC,CAAC;aACnE,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,SAAS,KAAK;YACZ,MAAM,EAAC,YAAY,EAAC,GAAG,EAAE,CAAC,OAAO,CAAC;YAClC,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAChC,MAAM,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,SAAS,EAAyB,CAAC;YACpE,GAAG,CAAC,MAAM,CACN,IAAI,CAAA,oBAAoB,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC,QAAQ,CAAC,qBAAqB,EACpG,SAAS,CAAC,CAAC;YAEf,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC;YAC/B,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACtB,MAAM,MAAM,GAAG,EAAE,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC/E,OAAO,EAAC,MAAM,EAAE,SAAS,EAAE,MAAM,EAAC,CAAC;QACrC,CAAC;QAED,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,EAAC,MAAM,EAAE,MAAM,EAAC,GAAG,KAAK,EAAE,CAAC;YACjC,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,QAAQ,CAAsB,CAAC;YACpF,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;YACtD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6DAA6D,EAAE,GAAG,EAAE;YACrE,MAAM,EAAC,MAAM,EAAE,MAAM,EAAC,GAAG,KAAK,EAAE,CAAC;YAEjC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAE/B,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qEAAqE,EAAE,GAAG,EAAE;YAC7E,MAAM,EAAC,MAAM,EAAE,SAAS,EAAE,MAAM,EAAC,GAAG,KAAK,EAAE,CAAC;YAC5C,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;YAErD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,EAAE,EAAE,SAAS,CAAC,CAAC;YAE9B,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YACnC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,uDAAuC,CAAC;QACrE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iCAAiC,EAAE,GAAG,EAAE;QAC/C,MAAM,WAAY,SAAQ,EAAE,CAAC,OAAO,CAAC,+BAA+B;YAClE,OAAO,GAAsD,EAAE,CAAC;YAChE,SAAS,GAAW,EAAE,CAAC;YACvB,QAAQ,GAAW,EAAE,CAAC;YAEtB,KAAK;gBACH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC;YACQ,UAAU,CAAC,IAAU,EAAE,aAA0B;gBACxD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,aAAa,EAAC,CAAC,CAAC;YAC1D,CAAC;YAEQ,QAAQ,CAAC,KAAsB;gBACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;YAChC,CAAC;YAEQ,WAAW,CAAC,KAAe;gBAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;YAC/B,CAAC;SACF;QACD,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;QAEnD,EAAE,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;YACjD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,GAAG,CAAC,MAAM,CACN,IAAI,CAAA;;sBAEQ,IAAI,CAAA;;WAEf,kBAAkB,EACnB,SAAS,CAAC,CAAC;YACf,MAAM,OAAO,GAAG,SAAS,CAAC,iBAAiB,CAAC;YAC5C,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;YACxC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACrC,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC;YACpC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,mBAAmB,CAAC,CAAC;YACjD,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC;YAClD,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;YACxC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,KAAK,IAAI,EAAE;YACvD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YACzD,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAChC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YAE1C,MAAM,YAAY,GAAG,CAAC,KAAa,EAAE,EAAE,CACnC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,KAAK,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,EACR,WAAW,EAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAC,CAAC,CAAC,CAAC;YAE3G,SAAS,CAAC,KAAK,EAAE,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,gBAAgB,EAAE,SAAS,CAAC,CAAC;YAC5C,MAAM,GAAG,EAAE,CAAC;YACZ,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;YACpE,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;YACvD,MAAM,CAAC,SAAS,CACZ,SAAS,CAAC,OAAO,EACjB,CAAC,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;YAEhG,SAAS,CAAC,KAAK,EAAE,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,0BAA0B,EAAE,SAAS,CAAC,CAAC;YACtD,MAAM,GAAG,EAAE,CAAC;YACZ,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;YACpE,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;YACnE,MAAM,CAAC,SAAS,CACZ,SAAS,CAAC,OAAO,EACjB,CAAC,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;YAEhG,SAAS,CAAC,KAAK,EAAE,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,mCAAmC,EAAE,SAAS,CAAC,CAAC;YAC/D,MAAM,GAAG,EAAE,CAAC;YACZ,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,OAAO,EAAC,CAAC,CAAC,CAAC;YACtE,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;YACnE,MAAM,CAAC,SAAS,CACZ,SAAS,CAAC,OAAO,EACjB,CAAC,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;YAEhG,SAAS,CAAC,KAAK,EAAE,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,EAAE,EAAE,SAAS,CAAC,CAAC;YAC9B,MAAM,GAAG,EAAE,CAAC;YACZ,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC;YACxD,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,OAAO,EAAC,CAAC,CAAC,CAAC;YACrE,MAAM,CAAC,SAAS,CACZ,SAAS,CAAC,OAAO,EACjB,CAAC,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;QAClG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAEhC,GAAG,CAAC,MAAM,CACN,IAAI,CAAA;mCACqB,KAAK;wBAChB,EACd,SAAS,CAAC,CAAC;YAEf,MAAM,GAAG,EAAE,CAAC;YACZ,CAAC;gBACC,MAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBACxD,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;gBACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YACxC,CAAC;YAED,GAAG,CAAC,MAAM,CACN,IAAI,CAAA;mCACqB,IAAI;wBACf,EACd,SAAS,CAAC,CAAC;YAEf,MAAM,GAAG,EAAE,CAAC;YACZ,CAAC;gBACC,MAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBACxD,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;gBACvC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAC,IAAI,EAAE,cAAc,EAAE,aAAa,EAAE,WAAW,EAAC,CAAC,CAAC,CAAC;YAC1F,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;YAC9C,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,oBAAoB,CAAC,SAAS,CAAC,CAAC;YAEhC,MAAM,OAAO,GAAG,GAAG,EAAE,GAAE,CAAC,CAAC;YAEzB,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAE1F,GAAG,CAAC,MAAM,CACN,IAAI,CAAA;;sBAEQ,IAAI,CAAA,kBAAkB,OAAO,kBAAkB;wBAC7C,EACd,SAAS,CAAC,CAAC;YAEf,MAAM,GAAG,EAAE,CAAC;YAEZ,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACzC,MAAM,gBAAgB,GAAG,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;YACvF,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;gBAC3C,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAChD,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACjC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,kBAAkB,gBAAgB,CAAC,YAAY,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;gBACxF,MAAM,cAAc,GAAG,SAAS,CAAC,iBAAiB,CAAC;gBACnD,MAAM,CAAC,UAAU,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;gBACrD,cAAc,CAAC,KAAK,EAAE,CAAC;gBACvB,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAErC,MAAM,YAAY,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;gBAC1F,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;gBAEnD,YAAY,CAAC,KAAK,EAAE,CAAC;gBACrB,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,sDAAsD,EAAE,GAAG,EAAE;gBAC9D,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAChD,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACjC,MAAM,gBAAgB,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACrC,GAAG,CAAC,MAAM,CACN,IAAI,CAAA,kBAAkB,gBAAgB,CAAC,YAAY,CAAC,eAChD,gBAAgB,CAAC,gBAAgB,CAAC,YAAY,EAClD,SAAS,CAAC,CAAC;gBACf,MAAM,cAAc,GAAG,SAAS,CAAC,iBAAiB,CAAC;gBACnD,MAAM,CAAC,UAAU,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;gBAErD,MAAM,YAAY,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;gBAC1F,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;gBAEnD,YAAY,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxD,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBACrC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;gBAC1C,YAAY,CAAC,KAAK,EAAE,CAAC;gBACrB,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBACtC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;gBACpD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAChD,MAAM,kBAAkB,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACvC,MAAM,eAAe,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;gBACpC,GAAG,CAAC,MAAM,CACN,IAAI,CAAA,eAAe,gBAAgB,CAAC,eAAe,CAAC,mBAChD,gBAAgB,CAAC,kBAAkB,CAAC,kBAAkB,EAC1D,SAAS,CAAC,CAAC;gBACf,MAAM,WAAW,GAAG,SAAS,CAAC,iBAAiB,CAAC;gBAChD,MAAM,CAAC,UAAU,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;gBAE/C,MAAM,SAAS,GAAG,EAAE,CAAC,OAAO,CAAC,+BAA+B,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBACpF,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;gBAE7C,MAAM,YAAY,GAAG,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBACvD,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;gBAEnD,YAAY,CAAC,KAAK,EAAE,CAAC;gBACrB,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;gBAC5C,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,wBAAwB,EAAE,GAAG,EAAE;IACtC,SAAS,KAAK,CAAC,QAAmC;QAChD,MAAM,EAAC,aAAa,EAAC,GAAG,EAAE,CAAC,OAAO,CAAC;QACnC,MAAM,OAAO,GAAG,iBAAiB,CAAS,cAAc,EAAE,cAAc,CAAC,CAAC;QAC1E,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC,SAAS,EAAoB,CAAC;QAC9D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,UAAU,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAEjH,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;QAC7B,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAErB,OAAO,EAAC,KAAK,EAAE,OAAO,EAAE,SAAS,EAAC,CAAC;IACrC,CAAC;IAED,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,EAAC,KAAK,EAAC,GAAG,KAAK,EAAE,CAAC;QAExB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;IAClD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;QACpD,MAAM,EAAC,OAAO,EAAE,KAAK,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,KAAK,CAAC,KAAK,GAAG,yBAAyB,CAAC;QACxC,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,yBAAyB,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,4CAA4C,EAAE,GAAG,EAAE;QACpD,MAAM,EAAC,OAAO,EAAE,KAAK,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAE7C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,+BAA+B,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mDAAmD,EAAE,GAAG,EAAE;QAC3D,MAAM,EAAC,OAAO,EAAE,KAAK,EAAC,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAE1D,KAAK,CAAC,KAAK,GAAG,kCAAkC,CAAC;QACjD,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,CAAC;QAElD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;QAC5E,MAAM,EAAC,OAAO,EAAE,KAAK,EAAE,SAAS,EAAC,GAAG,KAAK,EAAE,CAAC;QAC5C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,EAAE,EAAE,SAAS,CAAC,CAAC;QAE9B,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAE7C,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAClC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;IAClD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,yBAAyB,EAAE,GAAG,EAAE;IACvC,SAAS,KAAK;QACZ,MAAM,EAAC,aAAa,EAAC,GAAG,EAAE,CAAC,OAAO,CAAC;QACnC,MAAM,OAAO,GAAG,iBAAiB,CAAU,cAAc,EAAE,IAAI,CAAC,CAAC;QACjE,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC,SAAS,EAA4B,CAAC;QACtE,GAAG,CAAC,MAAM,CACN,IAAI,CAAA,sBAAsB,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,OAAO,CAAC,uBAAuB,EACvG,SAAS,CAAC,CAAC;QAEf,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;QAC7B,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAErB,OAAO,EAAC,KAAK,EAAE,OAAO,EAAE,SAAS,EAAC,CAAC;IACrC,CAAC;IAED,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,EAAC,KAAK,EAAC,GAAG,KAAK,EAAE,CAAC;QAExB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,EAAC,KAAK,EAAE,OAAO,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QACtB,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,EAAC,KAAK,EAAE,OAAO,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEnB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;QAC5E,MAAM,EAAC,OAAO,EAAE,KAAK,EAAE,SAAS,EAAC,GAAG,KAAK,EAAE,CAAC;QAC5C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA,EAAE,EAAE,SAAS,CAAC,CAAC;QAE9B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEnB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAClC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;IAC5B,SAAS,KAAK;QACZ,MAAM,OAAO,GAAG,iBAAiB,CAAU,cAAc,EAAE,IAAI,CAAC,CAAC;QACjE,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;QAC1D,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QAExC,OAAO,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC;IAC1B,CAAC;IAED,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,EAAC,KAAK,EAAC,GAAG,KAAK,EAAE,CAAC;QAExB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,EAAC,KAAK,EAAE,OAAO,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QACtB,KAAK,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,EAAC,KAAK,EAAE,OAAO,EAAC,GAAG,KAAK,EAAE,CAAC;QAEjC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEnB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport type * as Root from '../../core/root/root.js';\nimport {raf, renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createFakeSetting, updateHostConfig} from '../../testing/EnvironmentHelpers.js';\nimport type * as Buttons from '../components/buttons/buttons.js';\nimport * as Lit from '../lit/lit.js';\n\nimport * as UI from './legacy.js';\n\nconst {html} = Lit;\n\nconst {urlString} = Platform.DevToolsPath;\n\ndescribe('UIUtils', () => {\n  describe('openInNewTab', () => {\n    const {openInNewTab} = UI.UIUtils;\n    const {InspectorFrontendHostInstance} = Host.InspectorFrontendHost;\n\n    it('throws a TypeError if the URL is invalid', () => {\n      assert.throws(() => openInNewTab('ThisIsNotAValidURL'), TypeError);\n    });\n\n    it('opens URLs via host bindings', () => {\n      const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n      openInNewTab('https://www.google.com/');\n\n      sinon.assert.callCount(stub, 1);\n      assert.deepEqual(stub.args[0], ['https://www.google.com/']);\n    });\n\n    it('doesn\\'t override existing `utm_source` search parameters', () => {\n      const URLs = [\n        'http://developer.chrome.com/docs/devtools/workspaces/?utm_source=unittests',\n        'http://developers.google.com/learn/?utm_source=unittests',\n        'http://web.dev/?utm_source=unittests',\n        'http://www.google.com/?utm_source=unittests',\n        'https://developer.chrome.com/docs/devtools/?utm_source=unittests',\n        'https://developers.google.com/community/?utm_source=unittests',\n        'https://www.google.com/?utm_source=unittests',\n        'https://web.dev/baseline/?utm_source=unittests',\n      ];\n      for (const url of URLs) {\n        const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n        openInNewTab(url);\n\n        sinon.assert.calledOnceWithExactly(stub, urlString`${url}`);\n        stub.restore();\n      }\n    });\n\n    it('adds `utm_source` search parameter to Google documentation set links', () => {\n      const URLs = [\n        'http://developer.chrome.com/docs/devtools/workspaces/',\n        'http://developers.google.com/learn/',\n        'http://web.dev/',\n        'https://developer.chrome.com/docs/devtools/',\n        'https://developers.google.com/community/',\n        'https://web.dev/baseline/',\n      ];\n      for (const url of URLs) {\n        const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n        openInNewTab(url);\n\n        sinon.assert.calledOnce(stub);\n        assert.strictEqual(new URL(stub.args[0][0]).searchParams.get('utm_source'), 'devtools');\n        stub.restore();\n      }\n    });\n\n    it('adds `utm_campaign` search parameter to Google documentation set links', () => {\n      const CHANNELS: Array<typeof Root.Runtime.hostConfig.channel> = [\n        'stable',\n        'beta',\n        'dev',\n        'canary',\n      ];\n      const URLs = [\n        'http://developer.chrome.com/docs/devtools/workspaces/',\n        'http://developers.google.com/learn/',\n        'http://web.dev/',\n        'https://developer.chrome.com/docs/devtools/',\n        'https://developers.google.com/community/',\n        'https://web.dev/baseline/',\n      ];\n      for (const channel of CHANNELS) {\n        updateHostConfig({channel});\n\n        for (const url of URLs) {\n          const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n          openInNewTab(url);\n\n          sinon.assert.calledOnce(stub);\n          assert.strictEqual(new URL(stub.args[0][0]).searchParams.get('utm_campaign'), channel);\n          stub.restore();\n        }\n      }\n    });\n\n    it('correctly preserves anchors', () => {\n      updateHostConfig({channel: 'stable'});\n      const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n      openInNewTab('https://developer.chrome.com/docs/devtools/settings/ignore-list/#skip-third-party');\n\n      sinon.assert.calledOnce(stub);\n      const url = new URL(stub.args[0][0]);\n      assert.strictEqual(url.hash, '#skip-third-party');\n      assert.strictEqual(url.searchParams.get('utm_campaign'), 'stable');\n      assert.strictEqual(url.searchParams.get('utm_source'), 'devtools');\n    });\n\n    it('correctly preserves other search params', () => {\n      updateHostConfig({channel: 'stable'});\n      const stub = sinon.stub(InspectorFrontendHostInstance, 'openInNewTab');\n\n      openInNewTab('http://web.dev/route?foo=bar&baz=devtools');\n\n      sinon.assert.calledOnce(stub);\n      const url = new URL(stub.args[0][0]);\n      assert.strictEqual(url.searchParams.get('baz'), 'devtools');\n      assert.strictEqual(url.searchParams.get('foo'), 'bar');\n      assert.strictEqual(url.searchParams.get('utm_campaign'), 'stable');\n      assert.strictEqual(url.searchParams.get('utm_source'), 'devtools');\n    });\n  });\n\n  describe('LongClickController', () => {\n    it('does not invoke callback when disposed', () => {\n      const clock = sinon.useFakeTimers({toFake: ['setTimeout']});\n      const el = document.createElement('div');\n      const callback = sinon.spy();\n      const controller = new UI.UIUtils.LongClickController(el, callback);\n\n      el.dispatchEvent(new PointerEvent('pointerdown'));\n      clock.runAll();\n      sinon.assert.calledOnce(callback);\n\n      controller.dispose();\n\n      el.dispatchEvent(new PointerEvent('pointerdown'));\n      sinon.assert.calledOnce(callback);\n      clock.restore();\n    });\n  });\n\n  describe('measuredScrollbarWidth', () => {\n    let style: HTMLStyleElement;\n    before(() => {\n      UI.UIUtils.resetMeasuredScrollbarWidthForTest();\n    });\n    after(() => {\n      style.remove();\n    });\n\n    it('provides a default value', () => {\n      const expectedDefaultWidth = 16;\n      assert.strictEqual(UI.UIUtils.measuredScrollbarWidth(), expectedDefaultWidth);\n    });\n\n    it('calculates specific widths correctly', () => {\n      const width = 20;\n\n      // Enforce custom width on scrollbars to test.\n      style = document.createElement('style');\n      style.textContent = `::-webkit-scrollbar {\n        appearance: none;\n        width: ${width}px;\n      }`;\n      document.head.appendChild(style);\n      assert.strictEqual(UI.UIUtils.measuredScrollbarWidth(document), width);\n\n      // Remove the styles and try again to detect that cached values are used.\n      style.remove();\n      assert.strictEqual(UI.UIUtils.measuredScrollbarWidth(document), width);\n    });\n  });\n\n  describe('createFileSelectorElement', () => {\n    it('by default it accepts any file types', async () => {\n      const callback = () => {};\n      const inputElement = UI.UIUtils.createFileSelectorElement(callback);\n      assert.isNull(inputElement.getAttribute('accept'));\n    });\n\n    it('can set the accept attribute on the input', async () => {\n      const callback = () => {};\n      const inputElement = UI.UIUtils.createFileSelectorElement(callback, '.json');\n      assert.strictEqual(inputElement.getAttribute('accept'), '.json');\n    });\n  });\n\n  describe('bindToAction', () => {\n    const actionId = 'mock.action.bind.to.action';\n\n    before(() => {\n      const mockHandleAction = sinon.stub();\n      UI.ActionRegistration.registerActionExtension({\n        actionId,\n        category: UI.ActionRegistration.ActionCategory.GLOBAL,\n        title: i18n.i18n.lockedLazyString('Mock action for bindToAction'),\n        loadActionDelegate: async () => ({handleAction: mockHandleAction}),\n      });\n    });\n\n    function setup() {\n      const {bindToAction} = UI.UIUtils;\n      const container = document.createElement('div');\n      renderElementIntoDOM(container);\n      const buttonRef = Lit.Directives.createRef<Buttons.Button.Button>();\n      Lit.render(\n          html`<devtools-button ${Lit.Directives.ref(buttonRef)} ${bindToAction(actionId)}></devtools-button>`,\n          container);\n\n      const button = buttonRef.value;\n      assert.exists(button);\n      const action = UI.ActionRegistry.ActionRegistry.instance().getAction(actionId);\n      return {button, container, action};\n    }\n\n    it('sets button properties from the action', () => {\n      const {button, action} = setup();\n      const innerButton = button.shadowRoot?.querySelector('button') as HTMLButtonElement;\n      assert.strictEqual(innerButton.title, action.title());\n      assert.strictEqual(button.disabled, !action.enabled());\n    });\n\n    it('updates the button when the action\\'s enabled state changes', () => {\n      const {button, action} = setup();\n\n      action.setEnabled(false);\n      assert.isTrue(button.disabled);\n\n      action.setEnabled(true);\n      assert.isFalse(button.disabled);\n    });\n\n    it('removes the change listener when the button is removed from the DOM', () => {\n      const {button, container, action} = setup();\n      const spy = sinon.spy(action, 'removeEventListener');\n\n      Lit.render(html``, container);\n\n      assert.isFalse(button.isConnected);\n      sinon.assert.calledWith(spy, UI.ActionRegistration.Events.ENABLED);\n    });\n  });\n\n  describe('HTMLElementWithLightDOMTemplate', () => {\n    class TestElement extends UI.UIUtils.HTMLElementWithLightDOMTemplate {\n      updates: Array<{node: string, attributeName: string|null}> = [];\n      additions: Node[] = [];\n      removals: Node[] = [];\n\n      clear() {\n        this.updates.splice(0);\n        this.additions.splice(0);\n        this.removals.splice(0);\n      }\n      override updateNode(node: Node, attributeName: string|null): void {\n        this.updates.push({node: node.nodeName, attributeName});\n      }\n\n      override addNodes(nodes: NodeList|Node[]): void {\n        this.additions.push(...nodes);\n      }\n\n      override removeNodes(nodes: NodeList): void {\n        this.removals.push(...nodes);\n      }\n    }\n    customElements.define('test-element', TestElement);\n\n    it('renders its input into a template', async () => {\n      const container = document.createElement('div');\n      Lit.render(\n          html`\n        <test-element\n          .template=${html`\n            <button id=button>button</button>\n          `}></test-element>`,\n          container);\n      const element = container.firstElementChild;\n      assert.instanceOf(element, TestElement);\n      assert.lengthOf(element.children, 1);\n      const template = element.firstChild;\n      assert.instanceOf(template, HTMLTemplateElement);\n      const button = template.content.firstElementChild;\n      assert.instanceOf(button, HTMLButtonElement);\n      assert.strictEqual(button.id, 'button');\n      assert.strictEqual(button.textContent, 'button');\n    });\n\n    it('observes its contents for modifications', async () => {\n      const container = document.createElement('test-element');\n      renderElementIntoDOM(container);\n      assert.instanceOf(container, TestElement);\n\n      const nodeContents = (nodes: Node[]) =>\n          nodes.filter(node => node.nodeName !== '#comment').map(({nodeName,\n                                                                   textContent}) => ({[nodeName]: textContent}));\n\n      container.clear();\n      Lit.render(html`<div>add</div>`, container);\n      await raf();\n      assert.deepEqual(nodeContents(container.additions), [{DIV: 'add'}]);\n      assert.deepEqual(nodeContents(container.removals), []);\n      assert.deepEqual(\n          container.updates,\n          [{node: 'TEST-ELEMENT', attributeName: null}, {node: 'TEST-ELEMENT', attributeName: null}]);\n\n      container.clear();\n      Lit.render(html`<div attribute>add</div>`, container);\n      await raf();\n      assert.deepEqual(nodeContents(container.additions), [{DIV: 'add'}]);\n      assert.deepEqual(nodeContents(container.removals), [{DIV: 'add'}]);\n      assert.deepEqual(\n          container.updates,\n          [{node: 'TEST-ELEMENT', attributeName: null}, {node: 'TEST-ELEMENT', attributeName: null}]);\n\n      container.clear();\n      Lit.render(html`<div attribute><p>inner</p></div>`, container);\n      await raf();\n      assert.deepEqual(nodeContents(container.additions), [{DIV: 'inner'}]);\n      assert.deepEqual(nodeContents(container.removals), [{DIV: 'add'}]);\n      assert.deepEqual(\n          container.updates,\n          [{node: 'TEST-ELEMENT', attributeName: null}, {node: 'TEST-ELEMENT', attributeName: null}]);\n\n      container.clear();\n      Lit.render(html``, container);\n      await raf();\n      assert.deepEqual(nodeContents(container.additions), []);\n      assert.deepEqual(nodeContents(container.removals), [{DIV: 'inner'}]);\n      assert.deepEqual(\n          container.updates,\n          [{node: 'TEST-ELEMENT', attributeName: null}, {node: 'TEST-ELEMENT', attributeName: null}]);\n    });\n\n    it('observes its attributes for modifications', async () => {\n      const container = document.createElement('div');\n      renderElementIntoDOM(container);\n\n      Lit.render(\n          html`\n        <test-element ?attribute=${false}>\n        </test-element>`,\n          container);\n\n      await raf();\n      {\n        const element = container.querySelector('test-element');\n        assert.instanceOf(element, TestElement);\n        assert.deepEqual(element.additions, []);\n        assert.deepEqual(element.removals, []);\n        assert.deepEqual(element.updates, []);\n      }\n\n      Lit.render(\n          html`\n        <test-element ?attribute=${true}>\n        </test-element>`,\n          container);\n\n      await raf();\n      {\n        const element = container.querySelector('test-element');\n        assert.instanceOf(element, TestElement);\n        assert.deepEqual(element.additions, []);\n        assert.deepEqual(element.removals, []);\n        assert.deepEqual(element.updates, [{node: 'TEST-ELEMENT', attributeName: 'attribute'}]);\n      }\n    });\n\n    it('uses InterceptBindingDirective', async () => {\n      const container = document.createElement('div');\n      renderElementIntoDOM(container);\n\n      const onClick = () => {};\n\n      const interception = sinon.stub(UI.UIUtils.InterceptBindingDirective.prototype, 'render');\n\n      Lit.render(\n          html`\n        <test-element\n          .template=${html`<button @click=${onClick}>button</button>`}\n        </test-element>`,\n          container);\n\n      await raf();\n\n      sinon.assert.calledOnceWithExactly(interception, onClick);\n    });\n\n    describe('InterceptBindingDirective', () => {\n      const interceptBinding = Lit.Directive.directive(UI.UIUtils.InterceptBindingDirective);\n      it('attaches event handlers to clones', () => {\n        const container = document.createElement('div');\n        const clickHandler = sinon.spy();\n        Lit.render(html`<button @click=${interceptBinding(clickHandler)}></button>`, container);\n        const templateButton = container.firstElementChild;\n        assert.instanceOf(templateButton, HTMLButtonElement);\n        templateButton.click();\n        sinon.assert.notCalled(clickHandler);\n\n        const clonedButton = UI.UIUtils.HTMLElementWithLightDOMTemplate.cloneNode(templateButton);\n        assert.instanceOf(clonedButton, HTMLButtonElement);\n\n        clonedButton.click();\n        sinon.assert.calledOnce(clickHandler);\n      });\n\n      it('attaches multiple event handlers to the same element', () => {\n        const container = document.createElement('div');\n        const clickHandler = sinon.spy();\n        const mousedownHandler = sinon.spy();\n        Lit.render(\n            html`<button @click=${interceptBinding(clickHandler)} @mousedown=${\n                interceptBinding(mousedownHandler)}></button>`,\n            container);\n        const templateButton = container.firstElementChild;\n        assert.instanceOf(templateButton, HTMLButtonElement);\n\n        const clonedButton = UI.UIUtils.HTMLElementWithLightDOMTemplate.cloneNode(templateButton);\n        assert.instanceOf(clonedButton, HTMLButtonElement);\n\n        clonedButton.dispatchEvent(new MouseEvent('mousedown'));\n        sinon.assert.notCalled(clickHandler);\n        sinon.assert.calledOnce(mousedownHandler);\n        clonedButton.click();\n        sinon.assert.calledOnce(clickHandler);\n        sinon.assert.calledOnce(mousedownHandler);\n      });\n\n      it('attaches event handlers to nested elements', () => {\n        const container = document.createElement('div');\n        const buttonClickHandler = sinon.spy();\n        const divClickHandler = sinon.spy();\n        Lit.render(\n            html`<div @click=${interceptBinding(divClickHandler)}><button @click=${\n                interceptBinding(buttonClickHandler)}></button></div>`,\n            container);\n        const templateDiv = container.firstElementChild;\n        assert.instanceOf(templateDiv, HTMLDivElement);\n\n        const clonedDiv = UI.UIUtils.HTMLElementWithLightDOMTemplate.cloneNode(templateDiv);\n        assert.instanceOf(clonedDiv, HTMLDivElement);\n\n        const clonedButton = clonedDiv.querySelector('button');\n        assert.instanceOf(clonedButton, HTMLButtonElement);\n\n        clonedButton.click();\n        sinon.assert.calledOnce(buttonClickHandler);\n        sinon.assert.calledOnce(divClickHandler);\n      });\n    });\n  });\n});\n\ndescribe('bindToSetting (string)', () => {\n  function setup(validate?: (arg: string) => boolean) {\n    const {bindToSetting} = UI.UIUtils;\n    const setting = createFakeSetting<string>('fake-setting', 'defaultValue');\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    const inputRef = Lit.Directives.createRef<HTMLInputElement>();\n    Lit.render(html`<input ${Lit.Directives.ref(inputRef)} ${bindToSetting(setting, validate)}></input>`, container);\n\n    const input = inputRef.value;\n    assert.exists(input);\n\n    return {input, setting, container};\n  }\n\n  it('shows the current value on initial render', () => {\n    const {input} = setup();\n\n    assert.strictEqual(input.value, 'defaultValue');\n  });\n\n  it('changes the setting when the input changes', () => {\n    const {setting, input} = setup();\n\n    input.value = 'new value via user edit';\n    input.dispatchEvent(new Event('change'));\n\n    assert.strictEqual(setting.get(), 'new value via user edit');\n  });\n\n  it('changes the input when the setting changes', () => {\n    const {setting, input} = setup();\n\n    setting.set('new value via change listener');\n\n    assert.strictEqual(input.value, 'new value via change listener');\n  });\n\n  it('does not change the setting when validation fails', () => {\n    const {setting, input} = setup(arg => /[0-9]+/.test(arg));\n\n    input.value = 'text must not update the setting';\n    input.dispatchEvent(new Event('change'));\n\n    assert.strictEqual(setting.get(), 'defaultValue');\n\n    input.value = '42';\n    input.dispatchEvent(new Event('change'));\n\n    assert.strictEqual(setting.get(), '42');\n  });\n\n  it('removes the change listener when the input is removed from the DOM', () => {\n    const {setting, input, container} = setup();\n    Lit.render(html``, container);\n\n    setting.set('new value via change listener');\n\n    assert.isFalse(input.isConnected);\n    assert.strictEqual(input.value, 'defaultValue');\n  });\n});\n\ndescribe('bindToSetting (boolean)', () => {\n  function setup() {\n    const {bindToSetting} = UI.UIUtils;\n    const setting = createFakeSetting<boolean>('fake-setting', true);\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    const inputRef = Lit.Directives.createRef<UI.UIUtils.CheckboxLabel>();\n    Lit.render(\n        html`<devtools-checkbox ${Lit.Directives.ref(inputRef)} ${bindToSetting(setting)}></devtools-checkbox>`,\n        container);\n\n    const input = inputRef.value;\n    assert.exists(input);\n\n    return {input, setting, container};\n  }\n\n  it('shows the current value on initial render', () => {\n    const {input} = setup();\n\n    assert.isTrue(input.checked);\n  });\n\n  it('changes the setting when the checkbox changes', () => {\n    const {input, setting} = setup();\n\n    input.checked = false;\n    input.dispatchEvent(new Event('change'));\n\n    assert.isFalse(setting.get());\n  });\n\n  it('changes the checkbox when the setting changes', () => {\n    const {input, setting} = setup();\n\n    setting.set(false);\n\n    assert.isFalse(input.checked);\n  });\n\n  it('removes the change listener when the input is removed from the DOM', () => {\n    const {setting, input, container} = setup();\n    Lit.render(html``, container);\n\n    setting.set(false);\n\n    assert.isFalse(input.isConnected);\n    assert.isTrue(input.checked);\n  });\n});\n\ndescribe('bindCheckbox', () => {\n  function setup() {\n    const setting = createFakeSetting<boolean>('fake-setting', true);\n    const input = document.createElement('devtools-checkbox');\n    UI.UIUtils.bindCheckbox(input, setting);\n\n    return {setting, input};\n  }\n\n  it('shows the current value on initial render', () => {\n    const {input} = setup();\n\n    assert.isTrue(input.checked);\n  });\n\n  it('changes the setting when the checkbox changes', () => {\n    const {input, setting} = setup();\n\n    input.checked = false;\n    input.dispatchEvent(new Event('change'));\n\n    assert.isFalse(setting.get());\n  });\n\n  it('changes the checkbox when the setting changes', () => {\n    const {input, setting} = setup();\n\n    setting.set(false);\n\n    assert.isFalse(input.checked);\n  });\n});\n"]}