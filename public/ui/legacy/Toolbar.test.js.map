{"version":3,"file":"Toolbar.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/Toolbar.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Coordinator from '../components/render_coordinator/render_coordinator.js';\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nimport {\n  dispatchClickEvent,\n  renderElementIntoDOM,\n} from '../../testing/DOMHelpers.js';\nimport {describeWithLocale} from '../../testing/EnvironmentHelpers.js';\n\nimport * as UI from './legacy.js';\n\ndescribeWithLocale('Toolbar', () => {\n  describe('ToolbarInput', () => {\n    it('sets a title on the clear button', async () => {\n      const input = new UI.Toolbar.ToolbarInput('placeholder');\n      renderElementIntoDOM(input.element);\n      input.setValue('test value');\n      const clearButton = input.element.querySelector('.toolbar-input-clear-button');\n      await coordinator.done();\n      const innerButton = clearButton?.shadowRoot?.querySelector('button');\n      assert.instanceOf(innerButton, HTMLElement);\n      assert.strictEqual(innerButton.title, 'Clear');\n    });\n\n    it('clears the input when the clear button is clicked', () => {\n      const input = new UI.Toolbar.ToolbarInput('placeholder');\n      renderElementIntoDOM(input.element);\n      const clearButton = input.element.querySelector('.toolbar-input-clear-button');\n      assert.instanceOf(clearButton, HTMLElement);\n      input.setValue('test value');\n      dispatchClickEvent(clearButton);\n      assert.strictEqual(input.value(), '');\n    });\n  });\n\n  it('can append items into the toolbar', async () => {\n    const div = document.createElement('div');\n    const toolbar = new UI.Toolbar.Toolbar('test-toolbar', div);\n    renderElementIntoDOM(div);\n\n    const itemOne = new UI.Toolbar.ToolbarInput('placeholder-item-1');\n    toolbar.appendToolbarItem(itemOne);\n    const itemTwo = new UI.Toolbar.ToolbarInput('placeholder-item-2');\n    toolbar.appendToolbarItem(itemTwo);\n\n    const toolbarInputs = div.querySelector('.toolbar')?.shadowRoot?.querySelectorAll('[data-placeholder]');\n    assert.isOk(toolbarInputs);\n    assert.lengthOf(toolbarInputs, 2);\n\n    const placeholders = Array.from(toolbarInputs).map(input => {\n      return input.getAttribute('data-placeholder');\n    });\n\n    assert.deepEqual(placeholders, ['placeholder-item-1', 'placeholder-item-2']);\n  });\n\n  it('can prepend items into the toolbar', async () => {\n    const div = document.createElement('div');\n    const toolbar = new UI.Toolbar.Toolbar('test-toolbar', div);\n    renderElementIntoDOM(div);\n\n    const itemOne = new UI.Toolbar.ToolbarInput('placeholder-item-1');\n    toolbar.appendToolbarItem(itemOne);\n    const itemTwo = new UI.Toolbar.ToolbarInput('placeholder-item-2');\n    toolbar.prependToolbarItem(itemTwo);\n\n    const toolbarInputs = div.querySelector('.toolbar')?.shadowRoot?.querySelectorAll('[data-placeholder]');\n    assert.isOk(toolbarInputs);\n    assert.lengthOf(toolbarInputs, 2);\n\n    const placeholders = Array.from(toolbarInputs).map(input => {\n      return input.getAttribute('data-placeholder');\n    });\n\n    // Ensure the second item was prepended correctly\n    assert.deepEqual(placeholders, ['placeholder-item-2', 'placeholder-item-1']);\n  });\n\n  it('knows if it has an item in the toolbar', async () => {\n    const toolbar = new UI.Toolbar.Toolbar('test-toolbar');\n    const item = new UI.Toolbar.ToolbarInput('placeholder');\n    toolbar.appendToolbarItem(item);\n    assert.isTrue(toolbar.hasItem(item));\n    toolbar.removeToolbarItem(item);\n    assert.isFalse(toolbar.hasItem(item));\n  });\n});\n"]}