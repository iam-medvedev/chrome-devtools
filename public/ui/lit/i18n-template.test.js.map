{"version":3,"file":"i18n-template.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/lit/i18n-template.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,OAAO,MAAM,gCAAgC,CAAC;AAE1D,OAAO,EAAC,IAAI,EAAE,YAAY,EAAE,MAAM,EAAC,MAAM,UAAU,CAAC;AAEpD,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;IAC5B,MAAM,SAAS,GAAG,EAAC,WAAW,EAAE,sDAAsD,EAAC,CAAC;IACxF,IAAI,YAA+B,CAAC;IAEpC,UAAU,CAAC,GAAG,EAAE;QACd,YAAY,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;QACzD,YAAY,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEH,SAAS,SAAS,CAAC,MAAc;QAC/B,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC;YAC1C,MAAM,EAAE,IAAI;YACZ,IAAI,EAAE;gBACJ,eAAe,EAAE,MAAM;gBACvB,iBAAiB,EAAE,MAAM;gBACzB,2BAA2B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;aACpC;SACF,CAAC,CAAC;IACL,CAAC;IAED,EAAE,CAAC,yBAAyB,EAAE,GAAG,EAAE;QACjC,MAAM,OAAO,GAAG,YAAY,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACvE,SAAS,CAAC,OAAO,CAAC,CAAC;QAEnB,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,WAAW,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAA,UAAU,EAAC,CAAC,CAAC;QAC1G,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAC5E,MAAM,CAAC,SAAS,CACX,OAAO,CAAC,UAA6B,CAAC,SAAS,EAAE,kDAAkD,CAAC,CAAC;IAC5G,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,YAAY,CAAC,kBAAkB,CAC3B,IAAI,EAAE,EAAC,uBAAuB,EAAE,EAAC,OAAO,EAAE,sDAAsD,EAAC,EAAC,CAAC,CAAC;QACxG,MAAM,OAAO,GAAG,YAAY,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACvE,SAAS,CAAC,IAAI,CAAC,CAAC;QAEhB,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,WAAW,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,CAAA,UAAU,EAAC,CAAC,CAAC;QAC1G,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAC5E,MAAM,CAAC,SAAS,CACX,OAAO,CAAC,UAA6B,CAAC,SAAS,EAAE,kDAAkD,CAAC,CAAC;IAC5G,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as i18nRaw from '../../third_party/i18n/i18n.js';\n\nimport {html, i18nTemplate, render} from './lit.js';\n\ndescribe('i18nTemplate', () => {\n  const uiStrings = {placeholder: 'a message with a {string} and {template} placeholder'};\n  let i18nInstance: i18nRaw.I18n.I18n;\n\n  beforeEach(() => {\n    i18nInstance = new i18nRaw.I18n.I18n(['en-US'], 'en-US');\n    i18nInstance.registerLocaleData('en-US', {});\n  });\n\n  function setLocale(locale: string) {\n    i18n.DevToolsLocale.DevToolsLocale.instance({\n      create: true,\n      data: {\n        settingLanguage: locale,\n        navigatorLanguage: locale,\n        lookupClosestDevToolsLocale: l => l,\n      },\n    });\n  }\n\n  it('localizes lit templates', () => {\n    const strings = i18nInstance.registerFileStrings('test.ts', uiStrings);\n    setLocale('en-US');\n\n    const result = i18nTemplate(strings, uiStrings.placeholder, {string: 'STRING', template: html`TEMPLATE`});\n    const element = render(result, document.createElement('div'), {host: this});\n    assert.deepEqual(\n        (element.parentNode as HTMLDivElement).innerText, 'a message with a STRING and TEMPLATE placeholder');\n  });\n\n  it('localizes lit templates with translations', () => {\n    i18nInstance.registerLocaleData(\n        'de', {'test.ts | placeholder': {message: 'a message with a {template} and {string} placeholder'}});\n    const strings = i18nInstance.registerFileStrings('test.ts', uiStrings);\n    setLocale('de');\n\n    const result = i18nTemplate(strings, uiStrings.placeholder, {string: 'STRING', template: html`TEMPLATE`});\n    const element = render(result, document.createElement('div'), {host: this});\n    assert.deepEqual(\n        (element.parentNode as HTMLDivElement).innerText, 'a message with a TEMPLATE and STRING placeholder');\n  });\n});\n"]}