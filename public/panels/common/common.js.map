{
  "version": 3,
  "sources": ["common.prebundle.ts", "common.css.js"],
  "sourcesContent": ["// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable rulesdir/no-lit-render-outside-of-view */\n/* eslint-disable rulesdir/no-imperative-dom-api */\n\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\n\nimport commonStyles from './common.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   *@description Header text for the feature reminder dialog.\n   */\n  thingsToConsider: 'Things to consider',\n  /**\n   *@description Text for the learn more button in the feature reminder dialog.\n   */\n  learnMore: 'Learn more',\n  /**\n   *@description Text for the cancel button in the feature reminder dialog.\n   */\n  cancel: 'Cancel',\n  /**\n   *@description Text for the cancel button in the \"type to allow\" dialog.\n   */\n  allow: 'Allow',\n  /**\n   *@description Text for the got it button in the feature reminder dialog.\n   */\n  gotIt: 'Got it',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('panels/common/common.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class FreDialog {\n  static show({header, reminderItems, onLearnMoreClick, ariaLabel, learnMoreButtonTitle}: {\n    header: {\n      iconName: string,\n      text: Platform.UIString.LocalizedString,\n    },\n    reminderItems: Array<{\n      iconName: string,\n      content: Platform.UIString.LocalizedString|Lit.LitTemplate,\n    }>,\n    onLearnMoreClick: () => void,\n    ariaLabel?: string,\n    learnMoreButtonTitle?: string,\n  }): Promise<boolean> {\n    const dialog = new UI.Dialog.Dialog();\n    if (ariaLabel) {\n      dialog.setAriaLabel(ariaLabel);\n    }\n    const result = Promise.withResolvers<boolean>();\n    // clang-format off\n    Lit.render(html`\n      <div class=\"fre-disclaimer\">\n        <style>\n          ${commonStyles}\n        </style>\n        <header>\n          <div class=\"header-icon-container\">\n            <devtools-icon name=${header.iconName}></devtools-icon>\n          </div>\n          <h2 tabindex=\"-1\">\n            ${header.text}\n          </h2>\n        </header>\n        <main class=\"reminder-container\">\n          <h3>${i18nString(UIStrings.thingsToConsider)}</h3>\n          ${reminderItems.map(reminderItem => html`\n            <div class=\"reminder-item\">\n              <devtools-icon class=\"reminder-icon\" name=${reminderItem.iconName}></devtools-icon>\n              <span>${reminderItem.content}</span>\n            </div>\n          `)}\n        </main>\n        <footer>\n          <devtools-button\n            @click=${onLearnMoreClick}\n            .jslogContext=${'fre-disclaimer.learn-more'}\n            .variant=${Buttons.Button.Variant.OUTLINED}>\n            ${learnMoreButtonTitle ?? i18nString(UIStrings.learnMore)}\n          </devtools-button>\n          <div class=\"right-buttons\">\n            <devtools-button\n              @click=${() => {\n                // The order of operations are important here as hiding the dialog by\n                // itself causes the promise to be resolved with `false` in `onHideCallback`.\n                result.resolve(false);\n                dialog.hide();\n              }}\n              .jslogContext=${'fre-disclaimer.cancel'}\n              .variant=${Buttons.Button.Variant.TONAL}>\n              ${i18nString(UIStrings.cancel)}\n            </devtools-button>\n            <devtools-button\n              @click=${() => {\n                // The order of operations are important here as hiding the dialog by\n                // itself causes the promise to be resolved with `false` in `onHideCallback`.\n                result.resolve(true);\n                dialog.hide();\n              }}\n              .jslogContext=${'fre-disclaimer.continue'}\n              .variant=${Buttons.Button.Variant.PRIMARY}>\n              ${i18nString(UIStrings.gotIt)}\n            </devtools-button>\n          </div>\n        </footer>\n      </div>`, dialog.contentElement);\n    // clang-format on\n\n    dialog.setOutsideClickCallback(ev => {\n      ev.consume(true);  // true = preventDefault()\n      dialog.hide();\n      result.resolve(false);\n    });\n\n    // This ensures that if the dialog gets hidden for any unexpected reason,\n    // or if the user goes to another panel and comes back, that we resolve\n    // rather than leave the promise dangling.\n    dialog.setOnHideCallback(() => {\n      result.resolve(false);\n    });\n\n    dialog.setSizeBehavior(UI.GlassPane.SizeBehavior.MEASURE_CONTENT);\n    dialog.setDimmed(true);\n    dialog.show();\n\n    return result.promise;\n  }\n\n  private constructor() {\n  }\n}\n\nexport class TypeToAllowDialog {\n  static async show(options: {\n    jslogContext: {\n      dialog: string,\n      input: string,\n    },\n    header: Platform.UIString.LocalizedString,\n    message: Platform.UIString.LocalizedString,\n    typePhrase: Platform.UIString.LocalizedString,\n    inputPlaceholder: Platform.UIString.LocalizedString,\n  }): Promise<boolean> {\n    const dialog = new UI.Dialog.Dialog(options.jslogContext.dialog);\n    dialog.setMaxContentSize(new UI.Geometry.Size(504, 340));\n    dialog.setSizeBehavior(UI.GlassPane.SizeBehavior.SET_EXACT_WIDTH_MAX_HEIGHT);\n    dialog.setDimmed(true);\n    const shadowRoot = UI.UIUtils.createShadowRootWithCoreStyles(dialog.contentElement, {cssFile: commonStyles});\n    const content = shadowRoot.createChild('div', 'type-to-allow-dialog');\n\n    const result = await new Promise<boolean>(resolve => {\n      const header = content.createChild('div', 'header');\n      header.createChild('div', 'title').textContent = options.header;\n\n      const closeButton = header.createChild('dt-close-button', 'dialog-close-button');\n      closeButton.setTabbable(true);\n      self.onInvokeElement(closeButton, event => {\n        dialog.hide();\n        event.consume(true);\n        resolve(false);\n      });\n      closeButton.setSize(Buttons.Button.Size.SMALL);\n\n      content.createChild('div', 'message').textContent = options.message;\n\n      const input = UI.UIUtils.createInput('text-input', 'text', options.jslogContext.input);\n      input.placeholder = options.inputPlaceholder;\n      content.appendChild(input);\n\n      const buttonsBar = content.createChild('div', 'button');\n      const cancelButton =\n          UI.UIUtils.createTextButton(i18nString(UIStrings.cancel), () => resolve(false), {jslogContext: 'cancel'});\n\n      const allowButton = UI.UIUtils.createTextButton(i18nString(UIStrings.allow), () => {\n        resolve(input.value === options.typePhrase);\n      }, {jslogContext: 'confirm', variant: Buttons.Button.Variant.PRIMARY});\n      allowButton.disabled = true;\n\n      buttonsBar.appendChild(allowButton);\n      buttonsBar.appendChild(cancelButton);\n\n      input.addEventListener('input', () => {\n        allowButton.disabled = !Boolean(input.value);\n      }, false);\n      input.addEventListener('paste', e => e.preventDefault());\n      input.addEventListener('drop', e => e.preventDefault());\n\n      dialog.setOutsideClickCallback(event => {\n        event.consume();\n        resolve(false);\n      });\n      dialog.show();\n      Host.userMetrics.actionTaken(Host.UserMetrics.Action.SelfXssWarningDialogShown);\n    });\n    dialog.hide();\n    return result;\n  }\n}\n", "// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright 2025 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n\n.fre-disclaimer {\n  width: var(--sys-size-33);\n  padding: var(--sys-size-9);\n\n  header {\n    display: flex;\n    gap: var(--sys-size-8);\n    margin-bottom: var(--sys-size-6);\n    align-items: center;\n\n    h2 {\n      margin: 0;\n      color: var(--sys-color-on-surface);\n      font: var(--sys-typescale-headline5);\n    }\n\n    .header-icon-container {\n      background: linear-gradient(\n        135deg,\n        var(--sys-color-gradient-primary),\n        var(--sys-color-gradient-tertiary)\n      );\n      border-radius: var(--sys-size-4);\n      min-height: var(--sys-size-14);\n      min-width: var(--sys-size-14);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      devtools-icon {\n        width: var(--sys-size-9);\n        height: var(--sys-size-9);\n      }\n    }\n  }\n\n  .reminder-container {\n    border-radius: var(--sys-size-6);\n    background-color: var(--sys-color-surface4);\n    padding: var(--sys-size-9);\n\n    h3 {\n      color: var(--sys-color-on-surface);\n      font: var(--sys-typescale-body4-medium);\n      margin: 0;\n    }\n\n    .reminder-item {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      gap: var(--sys-size-5);\n      margin-top: var(--sys-size-6);\n      font: var(--sys-typescale-body5-regular);\n\n      devtools-icon.reminder-icon {\n        width: var(--sys-size-8);\n        height: var(--sys-size-8);\n      }\n\n      .link {\n        color: var(--sys-color-primary);\n        text-decoration-line: underline;\n      }\n    }\n  }\n\n  footer {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-top: var(--sys-size-8);\n    min-width: var(--sys-size-28);\n\n    .right-buttons {\n      display: flex;\n      gap: var(--sys-size-5);\n    }\n  }\n}\n\n.type-to-allow-dialog {\n  width: 100%;\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    font: var(--sys-typescale-body2-medium);\n    margin: var(--sys-size-5) var(--sys-size-5) var(--sys-size-5) var(--sys-size-8);\n  }\n\n  .title {\n    padding-top: var(--sys-size-3);\n  }\n\n  .dialog-close-button {\n    margin: var(--sys-size-3);\n    z-index: 1;\n  }\n\n  .message,\n  .text-input {\n    margin: 0 var(--sys-size-8);\n  }\n\n  .text-input {\n    margin-top: var(--sys-size-5);\n  }\n\n  .button {\n    text-align: right;\n    margin: var(--sys-size-6) var(--sys-size-8) var(--sys-size-8) var(--sys-size-8);\n    gap: var(--sys-size-5);\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: flex-start;\n  }\n\n  .button button {\n    min-width: var(--sys-size-19);\n  }\n}\n\n/*# sourceURL=${import.meta.resolve('./common.css')} */`;"],
  "mappings": ";AAMA,YAAY,UAAU;AACtB,YAAY,UAAU;AAEtB,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB,YAAY,SAAS;;;ACNrB,IAAO,qBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAmIC,YAAY,QAAQ,cAAc,CAAC;;;ADzHnD,IAAM,EAAC,KAAI,IAAI;AAEf,IAAM,YAAY;;;;EAIhB,kBAAkB;;;;EAIlB,WAAW;;;;EAIX,QAAQ;;;;EAIR,OAAO;;;;EAIP,OAAO;;AAGT,IAAM,OAAY,UAAK,kBAAkB,2BAA2B,SAAS;AAC7E,IAAM,aAAkB,UAAK,mBAAmB,KAAK,QAAW,IAAI;AAE9D,IAAO,YAAP,MAAgB;EACpB,OAAO,KAAK,EAAC,QAAQ,eAAe,kBAAkB,WAAW,qBAAoB,GAYpF;AACC,UAAM,SAAS,IAAO,UAAO,OAAM;AACnC,QAAI,WAAW;AACb,aAAO,aAAa,SAAS;IAC/B;AACA,UAAM,SAAS,QAAQ,cAAa;AAEpC,IAAI,WAAO;;;YAGH,kBAAY;;;;kCAIU,OAAO,QAAQ;;;cAGnC,OAAO,IAAI;;;;gBAIT,WAAW,UAAU,gBAAgB,CAAC;YAC1C,cAAc,IAAI,kBAAgB;;0DAEY,aAAa,QAAQ;sBACzD,aAAa,OAAO;;WAE/B,CAAC;;;;qBAIS,gBAAgB;4BACT,2BAA2B;uBAChC,UAA+B;cACxC,wBAAwB,WAAW,UAAU,SAAS,CAAC;;;;uBAI9C,MAAK;AAGZ,aAAO,QAAQ,KAAK;AACpB,aAAO,KAAI;IACb,CAAC;8BACe,uBAAuB;yBAC5B,OAA4B;gBACrC,WAAW,UAAU,MAAM,CAAC;;;uBAGrB,MAAK;AAGZ,aAAO,QAAQ,IAAI;AACnB,aAAO,KAAI;IACb,CAAC;8BACe,yBAAyB;yBAC9B,SAA8B;gBACvC,WAAW,UAAU,KAAK,CAAC;;;;eAI5B,OAAO,cAAc;AAGhC,WAAO,wBAAwB,QAAK;AAClC,SAAG,QAAQ,IAAI;AACf,aAAO,KAAI;AACX,aAAO,QAAQ,KAAK;IACtB,CAAC;AAKD,WAAO,kBAAkB,MAAK;AAC5B,aAAO,QAAQ,KAAK;IACtB,CAAC;AAED,WAAO;MAAe;;IAAA;AACtB,WAAO,UAAU,IAAI;AACrB,WAAO,KAAI;AAEX,WAAO,OAAO;EAChB;EAEA,cAAA;EACA;;AAGI,IAAO,oBAAP,MAAwB;EAC5B,aAAa,KAAK,SASjB;AACC,UAAM,SAAS,IAAO,UAAO,OAAO,QAAQ,aAAa,MAAM;AAC/D,WAAO,kBAAkB,IAAO,YAAS,KAAK,KAAK,GAAG,CAAC;AACvD,WAAO;MAAe;;IAAA;AACtB,WAAO,UAAU,IAAI;AACrB,UAAM,aAAgB,WAAQ,+BAA+B,OAAO,gBAAgB,EAAC,SAAS,mBAAY,CAAC;AAC3G,UAAM,UAAU,WAAW,YAAY,OAAO,sBAAsB;AAEpE,UAAM,SAAS,MAAM,IAAI,QAAiB,aAAU;AAClD,YAAM,SAAS,QAAQ,YAAY,OAAO,QAAQ;AAClD,aAAO,YAAY,OAAO,OAAO,EAAE,cAAc,QAAQ;AAEzD,YAAM,cAAc,OAAO,YAAY,mBAAmB,qBAAqB;AAC/E,kBAAY,YAAY,IAAI;AAC5B,WAAK,gBAAgB,aAAa,WAAQ;AACxC,eAAO,KAAI;AACX,cAAM,QAAQ,IAAI;AAClB,gBAAQ,KAAK;MACf,CAAC;AACD,kBAAY;QAAO;;MAAA;AAEnB,cAAQ,YAAY,OAAO,SAAS,EAAE,cAAc,QAAQ;AAE5D,YAAM,QAAW,WAAQ,YAAY,cAAc,QAAQ,QAAQ,aAAa,KAAK;AACrF,YAAM,cAAc,QAAQ;AAC5B,cAAQ,YAAY,KAAK;AAEzB,YAAM,aAAa,QAAQ,YAAY,OAAO,QAAQ;AACtD,YAAM,eACC,WAAQ,iBAAiB,WAAW,UAAU,MAAM,GAAG,MAAM,QAAQ,KAAK,GAAG,EAAC,cAAc,SAAQ,CAAC;AAE5G,YAAM,cAAiB,WAAQ,iBAAiB,WAAW,UAAU,KAAK,GAAG,MAAK;AAChF,gBAAQ,MAAM,UAAU,QAAQ,UAAU;MAC5C,GAAG;QAAC,cAAc;QAAW,SAAO;;MAAgC,CAAC;AACrE,kBAAY,WAAW;AAEvB,iBAAW,YAAY,WAAW;AAClC,iBAAW,YAAY,YAAY;AAEnC,YAAM,iBAAiB,SAAS,MAAK;AACnC,oBAAY,WAAW,CAAC,QAAQ,MAAM,KAAK;MAC7C,GAAG,KAAK;AACR,YAAM,iBAAiB,SAAS,OAAK,EAAE,eAAc,CAAE;AACvD,YAAM,iBAAiB,QAAQ,OAAK,EAAE,eAAc,CAAE;AAEtD,aAAO,wBAAwB,WAAQ;AACrC,cAAM,QAAO;AACb,gBAAQ,KAAK;MACf,CAAC;AACD,aAAO,KAAI;AACX,MAAK,iBAAY,YAAiB,iBAAY,OAAO,yBAAyB;IAChF,CAAC;AACD,WAAO,KAAI;AACX,WAAO;EACT;;",
  "names": []
}
