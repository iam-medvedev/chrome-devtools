{
  "version": 3,
  "sources": ["../../../../../../../front_end/panels/settings/components/SyncSection.ts", "syncSection.css.js"],
  "sourcesContent": ["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable rulesdir/no-lit-render-outside-of-view */\n\nimport '../../../ui/components/chrome_link/chrome_link.js';\nimport '../../../ui/components/settings/settings.js';\n\nimport type * as Common from '../../../core/common/common.js';\nimport type * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport type * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as Lit from '../../../ui/lit/lit.js';\n\nimport syncSectionStyles from './syncSection.css.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Text shown to the user in the Settings UI. 'This setting' refers\n   * to a checkbox that is disabled.\n   */\n  syncDisabled: 'To turn this setting on, you must enable Chrome sync.',\n  /**\n   * @description Text shown to the user in the Settings UI. 'This setting' refers\n   * to a checkbox that is disabled.\n   */\n  preferencesSyncDisabled: 'To turn this setting on, you must first enable settings sync in Chrome.',\n  /**\n   * @description Label for a link that take the user to the \"Sync\" section of the\n   * chrome settings. The link is shown in the DevTools Settings UI.\n   */\n  settings: 'Go to Settings',\n  /**\n   * @description Label for the account email address. Shown in the DevTools Settings UI in\n   * front of the email address currently used for Chrome Sync.\n   */\n  signedIn: 'Signed into Chrome as:',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/settings/components/SyncSection.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport interface SyncSectionData {\n  syncInfo: Host.InspectorFrontendHostAPI.SyncInformation;\n  syncSetting: Common.Settings.Setting<boolean>;\n}\n\nexport class SyncSection extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n\n  #syncInfo: Host.InspectorFrontendHostAPI.SyncInformation = {isSyncActive: false};\n  #syncSetting?: Common.Settings.Setting<boolean>;\n\n  set data(data: SyncSectionData) {\n    this.#syncInfo = data.syncInfo;\n    this.#syncSetting = data.syncSetting;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#render);\n  }\n\n  #render(): void {\n    if (!this.#syncSetting) {\n      throw new Error('SyncSection not properly initialized');\n    }\n\n    // TODO: this should not probably happen in render, instead, the setting\n    // should be disabled.\n    const checkboxDisabled = !this.#syncInfo.isSyncActive || !this.#syncInfo.arePreferencesSynced;\n    this.#syncSetting?.setDisabled(checkboxDisabled);\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    Lit.render(html`\n      <style>${syncSectionStyles}</style>\n      <fieldset>\n        ${renderAccountInfoOrWarning(this.#syncInfo)}\n        <setting-checkbox .data=${\n            {setting: this.#syncSetting}}>\n        </setting-checkbox>\n      </fieldset>\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n}\n\n/* x-link doesn't work with custom click/keydown handlers */\n\nfunction renderAccountInfoOrWarning(syncInfo: Host.InspectorFrontendHostAPI.SyncInformation): Lit.TemplateResult {\n  if (!syncInfo.isSyncActive) {\n    const link = 'chrome://settings/syncSetup' as Platform.DevToolsPath.UrlString;\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <span class=\"warning\">\n        ${i18nString(UIStrings.syncDisabled)}\n        <devtools-chrome-link .href=${link}>${i18nString(UIStrings.settings)}</devtools-chrome-link>\n      </span>`;\n    // clang-format on\n  }\n  if (!syncInfo.arePreferencesSynced) {\n    const link = 'chrome://settings/syncSetup/advanced' as Platform.DevToolsPath.UrlString;\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <span class=\"warning\">\n        ${i18nString(UIStrings.preferencesSyncDisabled)}\n        <devtools-chrome-link .href=${link}>${i18nString(UIStrings.settings)}</devtools-chrome-link>\n      </span>`;\n    // clang-format on\n  }\n  return html`\n    <div class=\"account-info\">\n      <img src=\"data:image/png;base64, ${syncInfo.accountImage}\" alt=\"Account avatar\" />\n      <div class=\"account-email\">\n        <span>${i18nString(UIStrings.signedIn)}</span>\n        <span>${syncInfo.accountEmail}</span>\n      </div>\n    </div>`;\n}\n\ncustomElements.define('devtools-sync-section', SyncSection);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-sync-section': SyncSection;\n  }\n}\n", "// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nexport default `/*\n * Copyright (c) 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  break-inside: avoid;\n  display: block;\n  padding-bottom: 9px;\n  width: 288px;\n}\n\nfieldset {\n  border: 0;\n  padding: 0;\n}\n\n.link {\n  color: var(--sys-color-primary);\n  text-decoration: underline;\n  cursor: pointer;\n  outline-offset: 2px;\n}\n\nimg {\n  border: 0;\n  border-radius: var(--sys-shape-corner-full);\n  display: block;\n  height: var(--sys-size-9);\n  width: var(--sys-size-9);\n}\n\n.warning {\n  display: block;\n}\n\n.account-info {\n  display: flex;\n  align-items: center;\n  margin-top: 12px;\n}\n\n.account-email {\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n}\n\n/*# sourceURL=${import.meta.resolve('./syncSection.css')} */`;"],
  "mappings": ";;;;;;;AAAA;;;;AAKA,OAAO;AACP,OAAO;AAIP,YAAY,UAAU;AAEtB,YAAY,sBAAsB;AAClC,YAAY,SAAS;;;ACRrB,IAAO,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAiDC,YAAY,QAAQ,mBAAmB,CAAC;;;ADrCxD,IAAM,EAAC,KAAI,IAAI;AAEf,IAAM,YAAY;;;;;EAKhB,cAAc;;;;;EAKd,yBAAyB;;;;;EAKzB,UAAU;;;;;EAKV,UAAU;;AAEZ,IAAM,OAAY,UAAK,kBAAkB,6CAA6C,SAAS;AAC/F,IAAM,aAAkB,UAAK,mBAAmB,KAAK,QAAW,IAAI;AAO9D,IAAO,cAAP,cAA2B,YAAW;EACjC,UAAU,KAAK,aAAa,EAAC,MAAM,OAAM,CAAC;EAEnD,YAA2D,EAAC,cAAc,MAAK;EAC/E;EAEA,IAAI,KAAK,MAAqB;AAC5B,SAAK,YAAY,KAAK;AACtB,SAAK,eAAe,KAAK;AACzB,SAAsB,iCAAgB,eAAe,MAAM,KAAK,OAAO;EACzE;EAEA,UAAO;AACL,QAAI,CAAC,KAAK,cAAc;AACtB,YAAM,IAAI,MAAM,sCAAsC;IACxD;AAIA,UAAM,mBAAmB,CAAC,KAAK,UAAU,gBAAgB,CAAC,KAAK,UAAU;AACzE,SAAK,cAAc,YAAY,gBAAgB;AAG/C,IAAI,WAAO;eACA,uBAAiB;;UAEtB,2BAA2B,KAAK,SAAS,CAAC;kCAExC,EAAC,SAAS,KAAK,aAAY,CAAC;;;OAGjC,KAAK,SAAS,EAAC,MAAM,KAAI,CAAC;EAE/B;;AAKF,SAAS,2BAA2B,UAAuD;AACzF,MAAI,CAAC,SAAS,cAAc;AAC1B,UAAM,OAAO;AAGb,WAAO;;UAED,WAAW,UAAU,YAAY,CAAC;sCACN,IAAI,IAAI,WAAW,UAAU,QAAQ,CAAC;;EAG1E;AACA,MAAI,CAAC,SAAS,sBAAsB;AAClC,UAAM,OAAO;AAGb,WAAO;;UAED,WAAW,UAAU,uBAAuB,CAAC;sCACjB,IAAI,IAAI,WAAW,UAAU,QAAQ,CAAC;;EAG1E;AACA,SAAO;;yCAEgC,SAAS,YAAY;;gBAE9C,WAAW,UAAU,QAAQ,CAAC;gBAC9B,SAAS,YAAY;;;AAGrC;AAEA,eAAe,OAAO,yBAAyB,WAAW;",
  "names": []
}
