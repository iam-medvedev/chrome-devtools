{"version":3,"file":"SelectButton.test.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/recorder/components/SelectButton.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AACpE,OAAO,KAAK,iBAAiB,MAAM,iEAAiE,CAAC;AAErG,OAAO,KAAK,kBAAkB,MAAM,iBAAiB,CAAC;AAEtD,QAAQ,CAAC,cAAc,EAAE,GAAG,EAAE;IAC5B,EAAE,CAAC,qDAAqD,EAAE,KAAK,IAAI,EAAE;QACnE,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACrE,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC;QAC1B,SAAS,CAAC,KAAK,GAAG;YAChB,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,aAAa,EAAC;YAC5C,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,aAAa,EAAC;SAC7C,CAAC;QACF,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC/B,MAAM,WAAW,GAAG,IAAI,OAAO,CAC3B,OAAO,CAAC,EAAE;YACR,SAAS,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,OAAO,EAAE;gBACvD,IAAI,EAAE,IAAI;aACX,CAAC,CAAC;QACL,CAAC,CACJ,CAAC;QAEF,MAAM,MAAM,GAAG,SAAS,CAAC,UAAU,EAAE,aAAa,CAAC,iBAAiB,CAAC,CAAC;QACtE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtB,MAAM,EAAE,KAAK,EAAE,CAAC;QAEhB,MAAM,KAAK,GAAG,MAAM,WAAW,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;QACjF,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACrE,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC;QAC1B,SAAS,CAAC,KAAK,GAAG;YAChB,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,aAAa,EAAC;YAC5C,EAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,aAAa,EAAC;SAC7C,CAAC;QACF,SAAS,CAAC,iBAAiB,EAAE,CAAC;QAC9B,MAAM,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC/B,MAAM,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,EAAE,aAAa,CAClD,QAAQ,CACX,CAAC;QACF,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAC1B,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC;QAC3B,UAAU,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAE9C,aAAa,CAAC,qBAAqB,CAC/B,kBAAkB,CAAC,YAAY,CAAC,uBAAwD,CAAC,CAAC;IAChG,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {renderElementIntoDOM} from '../../../testing/DOMHelpers.js';\nimport * as RenderCoordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\n\nimport * as RecorderComponents from './components.js';\n\ndescribe('SelectButton', () => {\n  it('should emit selectbuttonclick event on button click', async () => {\n    const component = new RecorderComponents.SelectButton.SelectButton();\n    component.value = 'item1';\n    component.items = [\n      {value: 'item1', label: () => 'item1-label'},\n      {value: 'item2', label: () => 'item2-label'},\n    ];\n    renderElementIntoDOM(component);\n    await RenderCoordinator.done();\n    const onceClicked = new Promise<RecorderComponents.SelectButton.SelectButtonClickEvent>(\n        resolve => {\n          component.addEventListener('selectbuttonclick', resolve, {\n            once: true,\n          });\n        },\n    );\n\n    const button = component.shadowRoot?.querySelector('devtools-button');\n    assert.exists(button);\n    button?.click();\n\n    const event = await onceClicked;\n    assert.strictEqual(event.value, 'item1');\n  });\n\n  it('should emit SelectMenuSelected event on item click in select menu', async () => {\n    const component = new RecorderComponents.SelectButton.SelectButton();\n    component.value = 'item1';\n    component.items = [\n      {value: 'item1', label: () => 'item1-label'},\n      {value: 'item2', label: () => 'item2-label'},\n    ];\n    component.connectedCallback();\n    await RenderCoordinator.done();\n    const dispatcherSpy = sinon.spy(component, 'dispatchEvent');\n    const selectMenu = component.shadowRoot?.querySelector(\n        'select',\n    );\n    assert.exists(selectMenu);\n    selectMenu.value = 'item1';\n    selectMenu.dispatchEvent(new Event('change'));\n\n    dispatcherSpy.calledOnceWithExactly(\n        RecorderComponents.SelectButton.SelectMenuSelectedEvent as unknown as sinon.SinonMatcher);\n  });\n});\n"]}