{"version":3,"file":"StepView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/recorder/components/StepView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../../ui/kit/kit.js';\nimport './StepEditor.js';\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as Menus from '../../../ui/components/menus/menus.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport type * as Converters from '../converters/converters.js';\nimport * as Models from '../models/models.js';\n\nimport type {StepEditedEvent} from './StepEditor.js';\nimport stepViewStyles from './stepView.css.js';\nimport {TimelineSection} from './TimelineSection.js';\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   * @description Title for the step type that configures the viewport\n   */\n  setViewportClickTitle: 'Set viewport',\n  /**\n   * @description Title for the customStep step type\n   */\n  customStepTitle: 'Custom step',\n  /**\n   * @description Title for the click step type\n   */\n  clickStepTitle: 'Click',\n  /**\n   * @description Title for the double click step type\n   */\n  doubleClickStepTitle: 'Double click',\n  /**\n   * @description Title for the hover step type\n   */\n  hoverStepTitle: 'Hover',\n  /**\n   * @description Title for the emulateNetworkConditions step type\n   */\n  emulateNetworkConditionsStepTitle: 'Emulate network conditions',\n  /**\n   * @description Title for the change step type\n   */\n  changeStepTitle: 'Change',\n  /**\n   * @description Title for the close step type\n   */\n  closeStepTitle: 'Close',\n  /**\n   * @description Title for the scroll step type\n   */\n  scrollStepTitle: 'Scroll',\n  /**\n   * @description Title for the key up step type. `up` refers to the state of the keyboard key: it's released, i.e., up. It does not refer to the down arrow key specifically.\n   */\n  keyUpStepTitle: 'Key up',\n  /**\n   * @description Title for the navigate step type\n   */\n  navigateStepTitle: 'Navigate',\n  /**\n   * @description Title for the key down step type. `down` refers to the state of the keyboard key: it's pressed, i.e., down. It does not refer to the down arrow key specifically.\n   */\n  keyDownStepTitle: 'Key down',\n  /**\n   * @description Title for the waitForElement step type\n   */\n  waitForElementStepTitle: 'Wait for element',\n  /**\n   * @description Title for the waitForExpression step type\n   */\n  waitForExpressionStepTitle: 'Wait for expression',\n  /**\n   * @description Title for elements with role button\n   */\n  elementRoleButton: 'Button',\n  /**\n   * @description Title for elements with role input\n   */\n  elementRoleInput: 'Input',\n  /**\n   * @description Default title for elements without a specific role\n   */\n  elementRoleFallback: 'Element',\n  /**\n   * @description The title of the button in the step's context menu that adds a new step before the current one.\n   */\n  addStepBefore: 'Add step before',\n  /**\n   * @description The title of the button in the step's context menu that adds a new step after the current one.\n   */\n  addStepAfter: 'Add step after',\n  /**\n   * @description The title of the button in the step's context menu that removes the step.\n   */\n  removeStep: 'Remove step',\n  /**\n   * @description The title of the button that open the step's context menu.\n   */\n  openStepActions: 'Open step actions',\n  /**\n   * @description The title of the button in the step's context menu that adds a breakpoint.\n   */\n  addBreakpoint: 'Add breakpoint',\n  /**\n   * @description The title of the button in the step's context menu that removes a breakpoint.\n   */\n  removeBreakpoint: 'Remove breakpoint',\n  /**\n   * @description A menu item item in the context menu that expands another menu which list all\n   * the formats the user can copy the recording as.\n   */\n  copyAs: 'Copy as',\n  /**\n   * @description The title of the menu group that holds actions on recording steps.\n   */\n  stepManagement: 'Manage steps',\n  /**\n   * @description The title of the menu group that holds actions related to breakpoints.\n   */\n  breakpoints: 'Breakpoints',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings(\n    'panels/recorder/components/StepView.ts',\n    UIStrings,\n);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport const enum State {\n  DEFAULT = 'default',\n  SUCCESS = 'success',\n  CURRENT = 'current',\n  OUTSTANDING = 'outstanding',\n  ERROR = 'error',\n  STOPPED = 'stopped',\n}\n\nexport class CaptureSelectorsEvent extends Event {\n  static readonly eventName = 'captureselectors';\n  data: Models.Schema.StepWithSelectors&Partial<Models.Schema.ClickAttributes>;\n\n  constructor(\n      step: Models.Schema.StepWithSelectors&Partial<Models.Schema.ClickAttributes>,\n  ) {\n    super(CaptureSelectorsEvent.eventName, {bubbles: true, composed: true});\n    this.data = step;\n  }\n}\n\nexport class CopyStepEvent extends Event {\n  static readonly eventName = 'copystep';\n  step: Models.Schema.Step;\n  constructor(step: Models.Schema.Step) {\n    super(CopyStepEvent.eventName, {bubbles: true, composed: true});\n    this.step = step;\n  }\n}\n\nexport class StepChanged extends Event {\n  static readonly eventName = 'stepchanged';\n  currentStep: Models.Schema.Step;\n  newStep: Models.Schema.Step;\n\n  constructor(currentStep: Models.Schema.Step, newStep: Models.Schema.Step) {\n    super(StepChanged.eventName, {bubbles: true, composed: true});\n    this.currentStep = currentStep;\n    this.newStep = newStep;\n  }\n}\n\nexport const enum AddStepPosition {\n  BEFORE = 'before',\n  AFTER = 'after',\n}\n\nexport class AddStep extends Event {\n  static readonly eventName = 'addstep';\n  position: AddStepPosition;\n  stepOrSection: Models.Schema.Step|Models.Section.Section;\n\n  constructor(\n      stepOrSection: Models.Schema.Step|Models.Section.Section,\n      position: AddStepPosition,\n  ) {\n    super(AddStep.eventName, {bubbles: true, composed: true});\n    this.stepOrSection = stepOrSection;\n    this.position = position;\n  }\n}\n\nexport class RemoveStep extends Event {\n  static readonly eventName = 'removestep';\n  step: Models.Schema.Step;\n\n  constructor(step: Models.Schema.Step) {\n    super(RemoveStep.eventName, {bubbles: true, composed: true});\n    this.step = step;\n  }\n}\n\nexport class AddBreakpointEvent extends Event {\n  static readonly eventName = 'addbreakpoint';\n  index: number;\n\n  constructor(index: number) {\n    super(AddBreakpointEvent.eventName, {bubbles: true, composed: true});\n    this.index = index;\n  }\n}\n\nexport class RemoveBreakpointEvent extends Event {\n  static readonly eventName = 'removebreakpoint';\n  index: number;\n\n  constructor(index: number) {\n    super(RemoveBreakpointEvent.eventName, {bubbles: true, composed: true});\n    this.index = index;\n  }\n}\n\nconst COPY_ACTION_PREFIX = 'copy-step-as-';\n\ninterface Action {\n  id: string;\n  label: string;\n  group: string;\n  groupTitle: string;\n  jslogContext?: string;\n}\n\nexport interface ViewInput {\n  step?: Models.Schema.Step;\n  section?: Models.Section.Section;\n  state: State;\n  error?: Error;\n  showDetails: boolean;\n  isEndOfGroup: boolean;\n  isStartOfGroup: boolean;\n  stepIndex: number;\n  sectionIndex: number;\n  isFirstSection: boolean;\n  isLastSection: boolean;\n  isRecording: boolean;\n  isPlaying: boolean;\n  isVisible: boolean;\n  hasBreakpoint: boolean;\n  removable: boolean;\n  builtInConverters: Converters.Converter.Converter[];\n  extensionConverters: Converters.Converter.Converter[];\n  isSelected: boolean;\n  recorderSettings?: Models.RecorderSettings.RecorderSettings;\n  actions: Action[];\n\n  stepEdited: (event: StepEditedEvent) => void;\n  onBreakpointClick: () => void;\n  handleStepAction: (event: Menus.Menu.MenuItemSelectedEvent) => void;\n  toggleShowDetails: () => void;\n  onToggleShowDetailsKeydown: (event: Event) => void;\n  populateStepContextMenu: (contextMenu: UI.ContextMenu.ContextMenu) => void;\n  onStepClick: (step: Models.Schema.Step|Models.Section.Section) => void;\n  onStepHover: (step: Models.Schema.Step|Models.Section.Section) => void;\n}\n\nexport type ViewOutput = unknown;\n\nfunction getStepTypeTitle(input: {\n  step?: Models.Schema.Step,\n  section?: Models.Section.Section,\n}): string|Lit.TemplateResult {\n  if (input.section) {\n    return input.section.title ? input.section.title : html`<span class=\"fallback\">(No Title)</span>`;\n  }\n  if (!input.step) {\n    throw new Error('Missing both step and section');\n  }\n  switch (input.step.type) {\n    case Models.Schema.StepType.CustomStep:\n      return i18nString(UIStrings.customStepTitle);\n    case Models.Schema.StepType.SetViewport:\n      return i18nString(UIStrings.setViewportClickTitle);\n    case Models.Schema.StepType.Click:\n      return i18nString(UIStrings.clickStepTitle);\n    case Models.Schema.StepType.DoubleClick:\n      return i18nString(UIStrings.doubleClickStepTitle);\n    case Models.Schema.StepType.Hover:\n      return i18nString(UIStrings.hoverStepTitle);\n    case Models.Schema.StepType.EmulateNetworkConditions:\n      return i18nString(UIStrings.emulateNetworkConditionsStepTitle);\n    case Models.Schema.StepType.Change:\n      return i18nString(UIStrings.changeStepTitle);\n    case Models.Schema.StepType.Close:\n      return i18nString(UIStrings.closeStepTitle);\n    case Models.Schema.StepType.Scroll:\n      return i18nString(UIStrings.scrollStepTitle);\n    case Models.Schema.StepType.KeyUp:\n      return i18nString(UIStrings.keyUpStepTitle);\n    case Models.Schema.StepType.KeyDown:\n      return i18nString(UIStrings.keyDownStepTitle);\n    case Models.Schema.StepType.WaitForElement:\n      return i18nString(UIStrings.waitForElementStepTitle);\n    case Models.Schema.StepType.WaitForExpression:\n      return i18nString(UIStrings.waitForExpressionStepTitle);\n    case Models.Schema.StepType.Navigate:\n      return i18nString(UIStrings.navigateStepTitle);\n  }\n}\n\nfunction getElementRoleTitle(role: string): string {\n  switch (role) {\n    case 'button':\n      return i18nString(UIStrings.elementRoleButton);\n    case 'input':\n      return i18nString(UIStrings.elementRoleInput);\n    default:\n      return i18nString(UIStrings.elementRoleFallback);\n  }\n}\n\nfunction getSelectorPreview(step: Models.Schema.Step): string {\n  if (!('selectors' in step)) {\n    return '';\n  }\n\n  const ariaSelector = step.selectors.flat().find(selector => selector.startsWith('aria/'));\n\n  if (!ariaSelector) {\n    return '';\n  }\n\n  const m = ariaSelector.match(/^aria\\/(.+?)(\\[role=\"(.+)\"\\])?$/);\n  if (!m) {\n    return '';\n  }\n\n  return `${getElementRoleTitle(m[3])} \"${m[1]}\"`;\n}\n\nfunction getSectionPreview(section?: Models.Section.Section): string {\n  if (!section) {\n    return '';\n  }\n  return section.url;\n}\n\nfunction renderStepActions(input: ViewInput): Lit.TemplateResult|null {\n  // clang-format off\n  return html`\n    <devtools-menu-button\n      class=\"step-actions\"\n      title=${i18nString(UIStrings.openStepActions)}\n      aria-label=${i18nString(UIStrings.openStepActions)}\n      .populateMenuCall=${input.populateStepContextMenu}\n      @keydown=${(event: Event) => {\n        event.stopPropagation();\n      }}\n      jslog=${VisualLogging.dropDown('step-actions').track({click: true})}\n      .iconName=${'dots-vertical'}\n      }\n    ></devtools-menu-button>\n  `;\n  // clang-format on\n}\n\nexport const DEFAULT_VIEW = (input: ViewInput, _output: ViewOutput, target: HTMLElement|ShadowRoot): void => {\n  if (!input.step && !input.section) {\n    return;\n  }\n\n  const stepClasses = {\n    step: true,\n    expanded: input.showDetails,\n    'is-success': input.state === State.SUCCESS,\n    'is-current': input.state === State.CURRENT,\n    'is-outstanding': input.state === State.OUTSTANDING,\n    'is-error': input.state === State.ERROR,\n    'is-stopped': input.state === State.STOPPED,\n    'is-start-of-group': input.isStartOfGroup,\n    'is-first-section': input.isFirstSection,\n    'has-breakpoint': input.hasBreakpoint,\n  };\n  const isExpandable = Boolean(input.step);\n  const mainTitle = getStepTypeTitle({\n    step: input.step,\n    section: input.section,\n  });\n  const subtitle = input.step ? getSelectorPreview(input.step) : getSectionPreview(input.section);\n\n  // clang-format off\n  Lit.render(\n    html`\n    <style>${stepViewStyles}</style>\n    <div>\n      <devtools-widget .widgetConfig=${UI.Widget.widgetConfig(TimelineSection, {\n          isFirstSection: input.isFirstSection,\n          isLastSection: input.isLastSection,\n          isStartOfGroup: input.isStartOfGroup,\n          isEndOfGroup: input.isEndOfGroup,\n          isSelected: input.isSelected,\n        })}\n        @contextmenu=${\n          (e: Event) => {\n          const menu = new UI.ContextMenu.ContextMenu(e as MouseEvent);\n          input.populateStepContextMenu(menu);\n          void menu.show();}\n        }\n        data-step-index=${input.stepIndex}\n        data-section-index=${input.sectionIndex}\n        @click=${(event: Event) => {\n          event.stopPropagation();\n          const stepOrSection = input.step || input.section;\n          if (stepOrSection) {\n            input.onStepClick(stepOrSection);\n          }\n        }}\n        @mouseover=${() => {\n          const stepOrSection = input.step || input.section;\n          if (stepOrSection) {\n            input.onStepHover(stepOrSection);\n          }\n        }}\n        class=${Lit.Directives.classMap(stepClasses)}>\n        <svg slot=\"icon\" width=\"24\" height=\"24\" class=\"icon\">\n          <circle class=\"circle-icon\"/>\n          <g class=\"error-icon\">\n            <path d=\"M1.5 1.5L6.5 6.5\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M1.5 6.5L6.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </g>\n          <path @click=${input.onBreakpointClick} jslog=${VisualLogging.action('breakpoint').track({click: true})} class=\"breakpoint-icon\" d=\"M2.5 5.5H17.7098L21.4241 12L17.7098 18.5H2.5V5.5Z\"/>\n        </svg>\n        <div class=\"summary\">\n          <div class=\"title-container ${isExpandable ? 'action' : ''}\"\n            @click=${isExpandable ? input.toggleShowDetails : undefined}\n            @keydown=${\n              isExpandable ? input.onToggleShowDetailsKeydown : undefined\n            }\n            tabindex=\"0\"\n            jslog=${VisualLogging.sectionHeader().track({click: true})}\n            aria-role=${isExpandable ? 'button' : ''}\n            aria-label=${isExpandable ? 'Show details for step' : ''}\n          >\n            ${\n              isExpandable\n                ? html`<devtools-icon\n                    class=\"chevron\"\n                    jslog=${VisualLogging.expand().track({click: true})}\n                    name=\"triangle-down\">\n                  </devtools-icon>`\n                : ''\n            }\n            <div class=\"title\">\n              <div class=\"main-title\" title=${mainTitle}>${mainTitle}</div>\n              <div class=\"subtitle\" title=${subtitle}>${subtitle}</div>\n            </div>\n          </div>\n          <div class=\"filler\"></div>\n          ${renderStepActions(input)}\n        </div>\n        <div class=\"details\">\n          ${\n            input.step &&\n            html`<devtools-recorder-step-editor\n            class=${input.isSelected ? 'is-selected' : ''}\n            .step=${input.step}\n            .disabled=${input.isPlaying}\n            @stepedited=${input.stepEdited}>\n          </devtools-recorder-step-editor>`\n          }\n          ${\n            input.section?.causingStep &&\n            html`<devtools-recorder-step-editor\n            .step=${input.section.causingStep}\n            .isTypeEditable=${false}\n            .disabled=${input.isPlaying}\n            @stepedited=${input.stepEdited}>\n          </devtools-recorder-step-editor>`\n          }\n        </div>\n        ${\n          input.error &&\n          html`\n          <div class=\"error\" role=\"alert\">\n            ${input.error.message}\n          </div>\n        `\n        }\n      </devtools-widget>\n    </div>\n  `,\n    target,\n  );\n  // clang-format on\n};\n\nexport class StepView extends UI.Widget.Widget {\n  #observer: IntersectionObserver = new IntersectionObserver(result => {\n    this.#viewInput.isVisible = result[0].isIntersecting;\n  });\n  #viewInput: ViewInput = {\n    state: State.DEFAULT,\n    showDetails: false,\n    isEndOfGroup: false,\n    isStartOfGroup: false,\n    stepIndex: 0,\n    sectionIndex: 0,\n    isFirstSection: false,\n    isLastSection: false,\n    isRecording: false,\n    isPlaying: false,\n    isVisible: false,\n    hasBreakpoint: false,\n    removable: true,\n    builtInConverters: [],\n    extensionConverters: [],\n    isSelected: false,\n    recorderSettings: undefined,\n    actions: [],\n\n    stepEdited: this.#stepEdited.bind(this),\n    onBreakpointClick: this.#onBreakpointClick.bind(this),\n    handleStepAction: this.#handleStepAction.bind(this),\n    toggleShowDetails: this.#toggleShowDetails.bind(this),\n    onToggleShowDetailsKeydown: this.#onToggleShowDetailsKeydown.bind(this),\n    populateStepContextMenu: this.#populateStepContextMenu.bind(this),\n    onStepClick: () => {},\n    onStepHover: () => {},\n  };\n  #view: typeof DEFAULT_VIEW;\n\n  constructor(element?: HTMLElement, view?: typeof DEFAULT_VIEW) {\n    super(element, {useShadowDom: true, classes: ['step-view-widget']});\n    this.#view = view || DEFAULT_VIEW;\n  }\n\n  set step(step: Models.Schema.Step|undefined) {\n    this.#viewInput.step = step;\n    this.requestUpdate();\n  }\n\n  set section(section: Models.Section.Section|undefined) {\n    this.#viewInput.section = section;\n    this.requestUpdate();\n  }\n\n  set state(state: State) {\n    const prevState = this.#viewInput.state;\n    this.#viewInput.state = state;\n    this.performUpdate();\n    if (this.#viewInput.state !== prevState && this.#viewInput.state === 'current' && !this.#viewInput.isVisible) {\n      this.contentElement.scrollIntoView();\n    }\n  }\n\n  set error(error: Error|undefined) {\n    this.#viewInput.error = error;\n    this.requestUpdate();\n  }\n\n  set isEndOfGroup(isEndOfGroup: boolean) {\n    this.#viewInput.isEndOfGroup = isEndOfGroup;\n    this.requestUpdate();\n  }\n\n  set isStartOfGroup(isStartOfGroup: boolean) {\n    this.#viewInput.isStartOfGroup = isStartOfGroup;\n    this.requestUpdate();\n  }\n\n  set stepIndex(stepIndex: number) {\n    this.#viewInput.stepIndex = stepIndex;\n    this.requestUpdate();\n  }\n\n  set sectionIndex(sectionIndex: number) {\n    this.#viewInput.sectionIndex = sectionIndex;\n    this.requestUpdate();\n  }\n\n  set isFirstSection(isFirstSection: boolean) {\n    this.#viewInput.isFirstSection = isFirstSection;\n    this.requestUpdate();\n  }\n\n  set isLastSection(isLastSection: boolean) {\n    this.#viewInput.isLastSection = isLastSection;\n    this.requestUpdate();\n  }\n\n  set isRecording(isRecording: boolean) {\n    this.#viewInput.isRecording = isRecording;\n    this.requestUpdate();\n  }\n\n  set isPlaying(isPlaying: boolean) {\n    this.#viewInput.isPlaying = isPlaying;\n    this.requestUpdate();\n  }\n\n  set hasBreakpoint(hasBreakpoint: boolean) {\n    this.#viewInput.hasBreakpoint = hasBreakpoint;\n    this.requestUpdate();\n  }\n\n  set removable(removable: boolean) {\n    this.#viewInput.removable = removable;\n    this.requestUpdate();\n  }\n\n  set builtInConverters(builtInConverters: Converters.Converter.Converter[]) {\n    this.#viewInput.builtInConverters = builtInConverters;\n    this.requestUpdate();\n  }\n\n  set extensionConverters(extensionConverters: Converters.Converter.Converter[]) {\n    this.#viewInput.extensionConverters = extensionConverters;\n    this.requestUpdate();\n  }\n\n  set isSelected(isSelected: boolean) {\n    this.#viewInput.isSelected = isSelected;\n    this.requestUpdate();\n  }\n\n  set recorderSettings(recorderSettings: Models.RecorderSettings.RecorderSettings|undefined) {\n    this.#viewInput.recorderSettings = recorderSettings;\n    this.requestUpdate();\n  }\n\n  set onStepClick(onStepClick: (step: Models.Schema.Step|Models.Section.Section) => void) {\n    this.#viewInput.onStepClick = onStepClick;\n    this.requestUpdate();\n  }\n\n  set onStepHover(onStepHover: (step: Models.Schema.Step|Models.Section.Section) => void) {\n    this.#viewInput.onStepHover = onStepHover;\n    this.requestUpdate();\n  }\n\n  get step(): Models.Schema.Step|undefined {\n    return this.#viewInput.step;\n  }\n\n  get section(): Models.Section.Section|undefined {\n    return this.#viewInput.section;\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.#observer.observe(this.contentElement);\n    this.requestUpdate();\n  }\n\n  override willHide(): void {\n    super.willHide();\n    this.#observer.unobserve(this.contentElement);\n  }\n\n  #toggleShowDetails(): void {\n    this.#viewInput.showDetails = !this.#viewInput.showDetails;\n    this.requestUpdate();\n  }\n\n  #onToggleShowDetailsKeydown(event: Event): void {\n    const keyboardEvent = event as KeyboardEvent;\n    if (keyboardEvent.key === 'Enter' || keyboardEvent.key === ' ') {\n      this.#toggleShowDetails();\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  #stepEdited(event: StepEditedEvent): void {\n    const step = this.#viewInput.step || this.#viewInput.section?.causingStep;\n    if (!step) {\n      throw new Error('Expected step.');\n    }\n    this.contentElement.dispatchEvent(new StepChanged(step, event.data));\n  }\n\n  #handleStepAction(event: Menus.Menu.MenuItemSelectedEvent): void {\n    switch (event.itemValue) {\n      case 'add-step-before': {\n        const stepOrSection = this.#viewInput.step || this.#viewInput.section;\n        if (!stepOrSection) {\n          throw new Error('Expected step or section.');\n        }\n        this.contentElement.dispatchEvent(new AddStep(stepOrSection, AddStepPosition.BEFORE));\n        break;\n      }\n      case 'add-step-after': {\n        const stepOrSection = this.#viewInput.step || this.#viewInput.section;\n        if (!stepOrSection) {\n          throw new Error('Expected step or section.');\n        }\n        this.contentElement.dispatchEvent(new AddStep(stepOrSection, AddStepPosition.AFTER));\n        break;\n      }\n      case 'remove-step': {\n        const causingStep = this.#viewInput.section?.causingStep;\n        if (!this.#viewInput.step && !causingStep) {\n          throw new Error('Expected step.');\n        }\n        this.contentElement.dispatchEvent(\n            new RemoveStep(this.#viewInput.step || (causingStep as Models.Schema.Step)),\n        );\n        break;\n      }\n      case 'add-breakpoint': {\n        if (!this.#viewInput.step) {\n          throw new Error('Expected step');\n        }\n        this.contentElement.dispatchEvent(new AddBreakpointEvent(this.#viewInput.stepIndex));\n        break;\n      }\n      case 'remove-breakpoint': {\n        if (!this.#viewInput.step) {\n          throw new Error('Expected step');\n        }\n        this.contentElement.dispatchEvent(new RemoveBreakpointEvent(this.#viewInput.stepIndex));\n        break;\n      }\n      default: {\n        const actionId = event.itemValue as string;\n        if (!actionId.startsWith(COPY_ACTION_PREFIX)) {\n          throw new Error('Unknown step action.');\n        }\n\n        const copyStep = this.#viewInput.step || this.#viewInput.section?.causingStep;\n        if (!copyStep) {\n          throw new Error('Step not found.');\n        }\n\n        const converterId = actionId.substring(COPY_ACTION_PREFIX.length);\n        if (this.#viewInput.recorderSettings) {\n          this.#viewInput.recorderSettings.preferredCopyFormat = converterId;\n        }\n\n        this.contentElement.dispatchEvent(new CopyStepEvent(structuredClone(copyStep)));\n      }\n    }\n  }\n\n  #onBreakpointClick(): void {\n    if (this.#viewInput.hasBreakpoint) {\n      this.contentElement.dispatchEvent(new RemoveBreakpointEvent(this.#viewInput.stepIndex));\n    } else {\n      this.contentElement.dispatchEvent(new AddBreakpointEvent(this.#viewInput.stepIndex));\n    }\n    this.requestUpdate();\n  }\n\n  #getActions = (): Action[] => {\n    const actions = [];\n\n    if (!this.#viewInput.isPlaying) {\n      if (this.#viewInput.step) {\n        actions.push({\n          id: 'add-step-before',\n          label: i18nString(UIStrings.addStepBefore),\n          group: 'stepManagement',\n          groupTitle: i18nString(UIStrings.stepManagement),\n        });\n      }\n\n      actions.push({\n        id: 'add-step-after',\n        label: i18nString(UIStrings.addStepAfter),\n        group: 'stepManagement',\n        groupTitle: i18nString(UIStrings.stepManagement),\n      });\n\n      if (this.#viewInput.removable) {\n        actions.push({\n          id: 'remove-step',\n          group: 'stepManagement',\n          groupTitle: i18nString(UIStrings.stepManagement),\n          label: i18nString(UIStrings.removeStep),\n        });\n      }\n    }\n\n    if (this.#viewInput.step && !this.#viewInput.isRecording) {\n      if (this.#viewInput.hasBreakpoint) {\n        actions.push({\n          id: 'remove-breakpoint',\n          label: i18nString(UIStrings.removeBreakpoint),\n          group: 'breakPointManagement',\n          groupTitle: i18nString(UIStrings.breakpoints),\n        });\n      } else {\n        actions.push({\n          id: 'add-breakpoint',\n          label: i18nString(UIStrings.addBreakpoint),\n          group: 'breakPointManagement',\n          groupTitle: i18nString(UIStrings.breakpoints),\n        });\n      }\n    }\n\n    if (this.#viewInput.step) {\n      for (const converter of this.#viewInput.builtInConverters || []) {\n        actions.push({\n          id: COPY_ACTION_PREFIX + Platform.StringUtilities.toKebabCase(converter.getId()),\n          label: converter.getFormatName(),\n          group: 'copy',\n          groupTitle: i18nString(UIStrings.copyAs),\n        });\n      }\n      for (const converter of this.#viewInput.extensionConverters || []) {\n        actions.push({\n          id: COPY_ACTION_PREFIX + Platform.StringUtilities.toKebabCase(converter.getId()),\n          label: converter.getFormatName(),\n          group: 'copy',\n          groupTitle: i18nString(UIStrings.copyAs),\n          jslogContext: COPY_ACTION_PREFIX + 'extension',\n        });\n      }\n    }\n\n    return actions;\n  };\n\n  #populateStepContextMenu(contextMenu: UI.ContextMenu.ContextMenu): void {\n    const actions = this.#getActions();\n    const copyActions = actions.filter(\n        item => item.id.startsWith(COPY_ACTION_PREFIX),\n    );\n    const otherActions = actions.filter(\n        item => !item.id.startsWith(COPY_ACTION_PREFIX),\n    );\n    for (const item of otherActions) {\n      const section = contextMenu.section(item.group);\n      section.appendItem(item.label, () => {\n        this.#handleStepAction(\n            new Menus.Menu.MenuItemSelectedEvent(item.id),\n        );\n      }, {jslogContext: item.id});\n    }\n\n    const preferredCopyAction = copyActions.find(\n        item => item.id === COPY_ACTION_PREFIX + this.#viewInput.recorderSettings?.preferredCopyFormat,\n    );\n\n    if (preferredCopyAction) {\n      contextMenu.section('copy').appendItem(preferredCopyAction.label, () => {\n        this.#handleStepAction(\n            new Menus.Menu.MenuItemSelectedEvent(preferredCopyAction.id),\n        );\n      }, {jslogContext: preferredCopyAction.id});\n    }\n\n    if (copyActions.length) {\n      const copyAs = contextMenu.section('copy').appendSubMenuItem(i18nString(UIStrings.copyAs), false, 'copy');\n      for (const item of copyActions) {\n        if (item === preferredCopyAction) {\n          continue;\n        }\n        copyAs.section(item.group).appendItem(item.label, () => {\n          this.#handleStepAction(\n              new Menus.Menu.MenuItemSelectedEvent(item.id),\n          );\n        }, {jslogContext: item.id});\n      }\n    }\n  }\n\n  override performUpdate(): void {\n    this.#viewInput.actions = this.#getActions();\n    this.#view(this.#viewInput, undefined, this.contentElement);\n  }\n}\n"]}