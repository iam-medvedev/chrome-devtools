{"version":3,"file":"ControlButton.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/recorder/components/ControlButton.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,EAAE,MAAM,8BAA8B,CAAC;AACnD,OAAO,KAAK,GAAG,MAAM,wBAAwB,CAAC;AAE9C,OAAO,mBAAmB,MAAM,wBAAwB,CAAC;AAEzD,MAAM,EAAC,IAAI,EAAC,GAAG,GAAG,CAAC;AASnB,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,KAAgB,EAAE,OAAgB,EAAE,MAAmB,EAAQ,EAAE;IAC5F,MAAM,EAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAC,GAAG,KAAK,CAAC;IAChD,MAAM,gBAAgB,GAAG,CAAC,KAAY,EAAQ,EAAE;QAC9C,IAAI,QAAQ,EAAE,CAAC;YACb,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;QACzB,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC;IACH,CAAC,CAAC;IACF,mBAAmB;IACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA;aACJ,mBAAmB;;iBAEf,gBAAgB;oBACb,QAAQ;;yBAEH,KAAK;2BACH,KAAK;;GAE7B,EAAE,MAAM,CAAC,CAAC;IACX,kBAAkB;AACpB,CAAC,CAAC;AAEF,MAAM,OAAO,aAAc,SAAQ,EAAE,CAAC,MAAM,CAAC,MAAM;IACjD,MAAM,GAAG,EAAE,CAAC;IACZ,MAAM,GAAG,QAAQ,CAAC;IAClB,SAAS,GAAG,KAAK,CAAC;IAClB,QAAQ,GAA2B,GAAG,EAAE,GAAE,CAAC,CAAC;IAE5C,KAAK,CAAsB;IAE3B,YAAY,OAAqB,EAAE,IAA0B;QAC3D,KAAK,CAAC,OAAO,EAAE,EAAC,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,EAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,YAAY,CAAC;IACpC,CAAC;IAED,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI,QAAQ,CAAC,QAAiB;QAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,IAAI,OAAO,CAAC,OAA+B;QACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEQ,aAAa;QACpB,IAAI,CAAC,KAAK,CACN;YACE,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,KAAK,EAAE,IAAI,CAAC,MAAM;YAClB,QAAQ,EAAE,IAAI,CAAC,SAAS;YACxB,OAAO,EAAE,IAAI,CAAC,QAAQ;SACvB,EACD,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/B,CAAC;CACF","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Lit from '../../../ui/lit/lit.js';\n\nimport controlButtonStyles from './controlButton.css.js';\n\nconst {html} = Lit;\n\nexport interface ViewInput {\n  label: string;\n  shape: string;\n  disabled: boolean;\n  onClick: (event: Event) => void;\n}\n\nexport const DEFAULT_VIEW = (input: ViewInput, _output: unknown, target: HTMLElement): void => {\n  const {label, shape, disabled, onClick} = input;\n  const handleClickEvent = (event: Event): void => {\n    if (disabled) {\n      event.stopPropagation();\n      event.preventDefault();\n    } else {\n      onClick(event);\n    }\n  };\n  // clang-format off\n  Lit.render(html`\n    <style>${controlButtonStyles}</style>\n    <button\n        @click=${handleClickEvent}\n        .disabled=${disabled}\n        class=\"control\">\n      <div class=\"icon ${shape}\"></div>\n      <div class=\"label\">${label}</div>\n    </button>\n  `, target);\n  // clang-format on\n};\n\nexport class ControlButton extends UI.Widget.Widget {\n  #label = '';\n  #shape = 'square';\n  #disabled = false;\n  #onClick: (event: Event) => void = () => {};\n\n  #view: typeof DEFAULT_VIEW;\n\n  constructor(element?: HTMLElement, view?: typeof DEFAULT_VIEW) {\n    super(element, {useShadowDom: true, classes: ['flex-none']});\n    this.#view = view || DEFAULT_VIEW;\n  }\n\n  set label(label: string) {\n    this.#label = label;\n    this.requestUpdate();\n  }\n\n  set shape(shape: string) {\n    this.#shape = shape;\n    this.requestUpdate();\n  }\n\n  set disabled(disabled: boolean) {\n    this.#disabled = disabled;\n    this.requestUpdate();\n  }\n\n  set onClick(onClick: (event: Event) => void) {\n    this.#onClick = onClick;\n    this.requestUpdate();\n  }\n\n  override performUpdate(): void {\n    this.#view(\n        {\n          label: this.#label,\n          shape: this.#shape,\n          disabled: this.#disabled,\n          onClick: this.#onClick,\n        },\n        {}, this.contentElement);\n  }\n}\n"]}