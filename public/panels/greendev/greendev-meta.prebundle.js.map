{"version":3,"file":"greendev-meta.prebundle.js","sourceRoot":"","sources":["greendev-meta.prebundle.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAIhD,IAAI,oBAAiD,CAAC;AAEtD,KAAK,UAAU,kBAAkB;IAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC1B,oBAAoB,GAAG,MAAM,MAAM,CAAC,eAAe,CAAC,CAAC;IACvD,CAAC;IACD,OAAO,oBAAoB,CAAC;AAC9B,CAAC;AAED,EAAE,CAAC,WAAW,CAAC,qBAAqB,CAAC;IACnC,QAAQ,uDAAyC;IACjD,EAAE,EAAE,UAAU;IACd,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;IAC7C,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC;IAC1D,WAAW,4DAA0C;IACrD,KAAK,EAAE,GAAG;IACV,KAAK,CAAC,QAAQ;QACZ,MAAM,QAAQ,GAAG,MAAM,kBAAkB,EAAE,CAAC;QAC5C,OAAO,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;IACzD,CAAC;IACD,SAAS,EAAE,MAAM,CAAC,EAAE;QAClB,OAAO,OAAO,CAAC,MAAM,EAAE,kBAAkB,EAAE,OAAO,CAAC,CAAC;IACtD,CAAC;CACF,CAAC,CAAC;AAEH,MAAM,WAAW,GAAG,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;AAE3D,WAAW,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,mBAAmB,EAAC,CAAC,CAAC;AAErD,WAAW,CAAC,SAAS,GAAG,KAAK,CAAC,EAAE;IAC9B,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE,CAAC;QACzC,OAAO,CAAC,KAAK,CAAC,oDAAoD,CAAC,CAAC;QAEpE,KAAK,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACxE,OAAO,CAAC,KAAK,CAAC,sDAAsD,CAAC,CAAC;YAEtE,MAAM,YAAY,GAAG,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;YAC5D,YAAY,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;YAEhF,YAAY,CAAC,KAAK,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC","sourcesContent":["// Copyright 2026 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport type * as GreenDev from './greendev.js';\n\nlet loadedGreenDevModule: (typeof GreenDev|undefined);\n\nasync function loadGreenDevModule(): Promise<typeof GreenDev> {\n  if (!loadedGreenDevModule) {\n    loadedGreenDevModule = await import('./greendev.js');\n  }\n  return loadedGreenDevModule;\n}\n\nUI.ViewManager.registerViewExtension({\n  location: UI.ViewManager.ViewLocationValues.PANEL,\n  id: 'greendev',\n  title: i18n.i18n.lockedLazyString('GreenDev'),\n  commandPrompt: i18n.i18n.lockedLazyString('Show GreenDev'),\n  persistence: UI.ViewManager.ViewPersistence.CLOSEABLE,\n  order: 100,\n  async loadView() {\n    const GreenDev = await loadGreenDevModule();\n    return GreenDev.GreenDevPanel.GreenDevPanel.instance();\n  },\n  condition: config => {\n    return Boolean(config?.devToolsGreenDevUi?.enabled);\n  },\n});\n\nconst syncChannel = new BroadcastChannel('green-dev-sync');\n\nsyncChannel.postMessage({type: 'main-window-alive'});\n\nsyncChannel.onmessage = event => {\n  if (event.data.type === 'activate-panel') {\n    console.error('[GreenDev] Meta: Received activate-panel broadcast');\n\n    void UI.ViewManager.ViewManager.instance().showView('greendev').then(() => {\n      console.error('[GreenDev] Meta: View shown, broadcasting select-tab');\n\n      const replyChannel = new BroadcastChannel('green-dev-sync');\n      replyChannel.postMessage({type: 'select-tab', sessionId: event.data.sessionId});\n\n      replyChannel.close();\n    });\n  }\n};\n"]}