{"version":3,"file":"utils.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/utils/utils.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AAEtD,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAE7C,OAAO,EAAC,uBAAuB,EAAC,MAAM,qCAAqC,CAAC;AAC5E,OAAO,KAAK,IAAI,MAAM,gCAAgC,CAAC;AAEvD,OAAO,KAAK,UAAU,MAAM,YAAY,CAAC;AAEzC,uBAAuB,CAAC,cAAc,EAAE,GAAG,EAAE;IAC3C,EAAE,CAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;QACpD,MAAM,QAAQ,GAAG;;;;;;;;;;;;;;;QAeb,CAAC;QACL,MAAM,OAAO,GAAG;;;;;;;;;;;;;;;;QAgBZ,CAAC;QACL,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QACvF,MAAM,OAAO,GAAG,MAAM,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;QAC3E,MAAM,CAAC,WAAW,CACd,OAAO,EAAE;;;;;;;;;;;;;;;;;;;EAmBf,EACM,uCAAuC,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,0BAA0B,EAAE,GAAG,EAAE;QACxC,EAAE,CAAC,4DAA4D,EAAE,KAAK,IAAI,EAAE;YAC1E,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EAAE,yBAA4D,EACvG,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,UAAU,GAAG,GAAG,CAAC;YAEzB,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,2BAA2B,EAAE,SAAS,CAAC,CAAC;YAE3D,MAAM,qBAAqB,GAAG,SAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;YACnE,MAAM,CAAC,WAAW,CAAC,qBAAqB,EAAE,mBAAmB,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;YAClC,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EAAE,0BAA6D,EACxG,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACpE,OAAO,CAAC,QAAQ,GAAG,WAAW,CAAC;YAE/B,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;YAErD,MAAM,qBAAqB,GAAG,SAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;YACnE,MAAM,CAAC,WAAW,CAAC,qBAAqB,EAAE,2BAA2B,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;YAC/B,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,kCAAqE,EAAE,EAAqC,EAC5G,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjE,OAAO,CAAC,QAAQ,GAAG,YAAY,CAAC;YAEhC,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gBAAgB,EAAE,KAAK,IAAI,EAAE;YAC9B,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,mCAAsE,EAAE,EAAqC,EAC7G,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAChE,OAAO,CAAC,QAAQ,GAAG,kBAAkB,CAAC;YAEtC,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;YACnC,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EAAE,4BAA+D,EAC1G,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACrE,OAAO,CAAC,QAAQ,GAAG,EAAE,CAAC;YAEtB,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kBAAkB,EAAE,KAAK,IAAI,EAAE;YAChC,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,mDAAsF,EACtF,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjE,OAAO,CAAC,QAAQ,GAAG,EAAE,CAAC;YAEtB,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gBAAgB,EAAE,KAAK,IAAI,EAAE;YAC9B,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,mDAAsF,EACtF,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC/D,OAAO,CAAC,QAAQ,GAAG,0BAA0B,CAAC;YAE9C,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAC/D,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,kCAAqE,EAAE,EAAqC,EAC5G,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC/D,OAAO,CAAC,QAAQ,GAAG,eAAe,CAAC;YAEnC,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAC5E,MAAM,YAAY,GAAG,WAAW,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;YAElG,MAAM,CAAC,UAAU,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;YAC/C,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;YAC3D,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EAAE,8BAAiE,EAC5G,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjE,OAAO,CAAC,QAAQ,GAAG,WAAW,CAAC;YAE/B,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;YAC9D,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,kCAAqE,EAAE,EAAqC,EAC5G,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACrE,OAAO,CAAC,QAAQ,GAAG,YAAY,CAAC;YAEhC,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;YAChE,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EAAE,8BAAiE,EAC5G,EAAqC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjE,OAAO,CAAC,QAAQ,GAAG,wBAAwB,CAAC;YAE5C,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;YACxD,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CACpD,WAAyC,EACzC,kCAAqE,EAAE,EAAqC,EAC5G,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjE,OAAO,CAAC,QAAQ,GAAG,kBAAkB,CAAC;YAEtC,MAAM,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;YAE5E,MAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,gBAAgB,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC1E,MAAM,SAAS,GAAG,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAExE,MAAM,CAAC,WAAW,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport {describeWithEnvironment} from '../../testing/EnvironmentHelpers.js';\nimport * as Diff from '../../third_party/diff/diff.js';\n\nimport * as PanelUtils from './utils.js';\n\ndescribeWithEnvironment('panels/utils', () => {\n  it('formats CSS changes from diff arrays', async () => {\n    const original = `\n      .container {\n        width: 10px;\n        height: 10px;\n      }\n\n      .child {\n        display: grid;\n        --child-theme-color: 100, 200, 0;\n      }\n\n      @supports (display: grid) {\n        .container {\n          display: grid;\n        }\n      }`;\n    const current = `\n      .container {\n        width: 15px;\n        margin: 0;\n      }\n\n      .child2 {\n        display: grid;\n        --child-theme-color: 5, 10, 15;\n        padding: 10px;\n      }\n\n      @supports (display: flex) {\n        .container {\n          display: flex;\n        }\n      }`;\n    const diff = Diff.Diff.DiffWrapper.lineDiff(original.split('\\n'), current.split('\\n'));\n    const changes = await PanelUtils.PanelUtils.formatCSSChangesFromDiff(diff);\n    assert.strictEqual(\n        changes, `.container {\n  /* width: 10px; */\n  /* height: 10px; */\n  width: 15px;\n  margin: 0;\n}\n\n/* .child { */\n.child2 {\n  /* --child-theme-color: 100, 200, 0; */\n  --child-theme-color: 5, 10, 15;\n  padding: 10px;\n}\n\n/* @supports (display: grid) { */\n@supports (display: flex) {\n.container {\n  /* display: grid; */\n  display: flex;\n}`,\n        'formatted CSS changes are not correct');\n  });\n\n  describe('getIconForNetworkRequest', () => {\n    it('creates an error red icon for request with status code 404', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId, 'https://www.example.com' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.statusCode = 404;\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('cross-circle-filled.svg\")', iconImage);\n\n      const backgroundColorOfIcon = iconStyle.backgroundColor.toString();\n      assert.strictEqual(backgroundColorOfIcon, 'var(--icon-error)');\n    });\n\n    it('show document icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId, 'https://www.example.com/' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Document);\n      request.mimeType = 'text/html';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-document.svg\")', iconImage);\n\n      const backgroundColorOfIcon = iconStyle.backgroundColor.toString();\n      assert.strictEqual(backgroundColorOfIcon, 'var(--icon-file-document)');\n    });\n\n    it('show media icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/test.mp3' as Platform.DevToolsPath.UrlString, '' as Platform.DevToolsPath.UrlString,\n          null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Media);\n      request.mimeType = 'audio/mpeg';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-media.svg\")', iconImage);\n    });\n\n    it('show wasm icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/test.wasm' as Platform.DevToolsPath.UrlString, '' as Platform.DevToolsPath.UrlString,\n          null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Wasm);\n      request.mimeType = 'application/wasm';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-wasm.svg\")', iconImage);\n    });\n\n    it('show websocket icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId, 'https://www.example.com/ws' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.WebSocket);\n      request.mimeType = '';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-websocket.svg\")', iconImage);\n    });\n\n    it('shows fetch icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/test.json?keepalive=false' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Fetch);\n      request.mimeType = '';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-fetch-xhr.svg\")', iconImage);\n    });\n\n    it('shows xhr icon', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/test.json?keepalive=false' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.XHR);\n      request.mimeType = 'application/octet-stream';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-fetch-xhr.svg\")', iconImage);\n    });\n\n    it('mime win: show image preview icon for xhr-image', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/test.svg' as Platform.DevToolsPath.UrlString, '' as Platform.DevToolsPath.UrlString,\n          null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.XHR);\n      request.mimeType = 'image/svg+xml';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n      const imagePreview = iconElement.querySelector('.image-network-icon-preview') as HTMLImageElement;\n\n      assert.instanceOf(iconElement, HTMLDivElement);\n      assert.instanceOf(imagePreview, HTMLImageElement);\n    });\n\n    it('mime win: show document icon for fetch-html', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId, 'https://www.example.com/page' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Fetch);\n      request.mimeType = 'text/html';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-document.svg\")', iconImage);\n    });\n\n    it('mime win: show generic icon for preflight-text', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/api/test' as Platform.DevToolsPath.UrlString, '' as Platform.DevToolsPath.UrlString,\n          null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Preflight);\n      request.mimeType = 'text/plain';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-generic.svg\")', iconImage);\n    });\n\n    it('mime win: show script icon for other-javascript)', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId, 'https://www.example.com/ping' as Platform.DevToolsPath.UrlString,\n          '' as Platform.DevToolsPath.UrlString, null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Other);\n      request.mimeType = 'application/javascript';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-script.svg\")', iconImage);\n    });\n\n    it('mime win: shows json icon for fetch-json', async () => {\n      const request = SDK.NetworkRequest.NetworkRequest.create(\n          'requestId' as Protocol.Network.RequestId,\n          'https://www.example.com/api/list' as Platform.DevToolsPath.UrlString, '' as Platform.DevToolsPath.UrlString,\n          null, null, null);\n      request.setResourceType(Common.ResourceType.resourceTypes.Fetch);\n      request.mimeType = 'application/json';\n\n      const iconElement = PanelUtils.PanelUtils.getIconForNetworkRequest(request);\n\n      const iconStyle = iconElement.style;\n      const indexOfIconImage = iconStyle.webkitMaskImage.indexOf('Images/') + 7;\n      const iconImage = iconStyle.webkitMaskImage.substring(indexOfIconImage);\n\n      assert.strictEqual('file-json.svg\")', iconImage);\n    });\n  });\n});\n"]}