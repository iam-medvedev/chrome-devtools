{"version":3,"file":"RequestTrustTokensView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/network/components/RequestTrustTokensView.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,mDAAmD,CAAC;AAC3D,OAAO,mDAAmD,CAAC;AAE3D,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,KAAK,GAAG,MAAM,0BAA0B,CAAC;AAGhD,OAAO,KAAK,aAAa,MAAM,yDAAyD,CAAC;AACzF,OAAO,KAAK,GAAG,MAAM,wBAAwB,CAAC;AAC9C,OAAO,KAAK,aAAa,MAAM,8CAA8C,CAAC;AAE9E,OAAO,+BAA+B,MAAM,iCAAiC,CAAC;AAE9E,4EAA4E;AAC5E,MAAM,4BAA4B,GAAG,IAAI,aAAa,EAAE,CAAC;AACzD,4BAA4B,CAAC,WAAW,CAAC,+BAA+B,CAAC,UAAU,CAAC,CAAC;AAErF,MAAM,EAAC,IAAI,EAAC,GAAG,GAAG,CAAC;AAEnB,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,UAAU,EAAE,YAAY;IACxB;;OAEG;IACH,IAAI,EAAE,MAAM;IACZ;;OAEG;IACH,aAAa,EAAE,gBAAgB;IAC/B;;OAEG;IACH,OAAO,EAAE,SAAS;IAClB;;OAEG;IACH,cAAc,EAAE,kBAAkB;IAClC;;OAEG;IACH,MAAM,EAAE,QAAQ;IAChB;;OAEG;IACH,MAAM,EAAE,QAAQ;IAChB;;OAEG;IACH,MAAM,EAAE,QAAQ;IAChB;;OAEG;IACH,oBAAoB,EAAE,yBAAyB;IAC/C;;;OAGG;IACH,OAAO,EAAE,SAAS;IAClB;;OAEG;IACH,OAAO,EAAE,SAAS;IAClB;;OAEG;IACH,gCAAgC,EAAE,8CAA8C;IAChF;;OAEG;IACH,+BAA+B,EAAE,2DAA2D;IAC5F;;OAEG;IACH,qCAAqC,EACjC,yHAAyH;IAC7H;;OAEG;IACH,0BAA0B,EAAE,gEAAgE;IAC5F;;OAEG;IACH,8BAA8B,EAC1B,+FAA+F;IACnG;;OAEG;IACH,gCAAgC,EAAE,0DAA0D;IAC5F;;OAEG;IACH,8BAA8B,EAAE,6CAA6C;IAC7E;;OAEG;IACH,YAAY,EAAE,gCAAgC;CACtC,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,qDAAqD,EAAE,SAAS,CAAC,CAAC;AAC3G,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,MAAM,OAAO,sBAAuB,SAAQ,aAAa,CAAC,aAAa,CAAC,kBAAkB;IAC/E,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAC5C,QAAQ,CAAoC;IAErD,YAAY,OAA0C;QACpD,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAEQ,QAAQ;QACf,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,wBAAwB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACtG,KAAK,IAAI,CAAC,MAAM,EAAE,CAAC;IACrB,CAAC;IAEQ,QAAQ;QACf,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,wBAAwB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC3G,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,CAAC,4BAA4B,CAAC,CAAC;IACnE,CAAC;IAEQ,KAAK,CAAC,MAAM;QACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC,CAAC;QAClF,CAAC;QAED,qDAAqD;QACrD,mBAAmB;QACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAA;UACT,IAAI,CAAC,uBAAuB,EAAE;UAC9B,IAAI,CAAC,oBAAoB,EAAE;;KAEhC,EAAE,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAC/B,kBAAkB;IACpB,CAAC;IAED,uBAAuB;QACrB,MAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;QAC1D,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACtB,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QAED,OAAO,IAAI,CAAA;8CAC+B,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;YACjF,MAAM,EAAE,IAAI;SACb,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC;QAClC,sBAAsB,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzF,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC;QAC3C,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC;QACrC,IAAI,CAAC,wCAAwC,EAAE;;KAElD,CAAC;IACJ,CAAC;IAED,oBAAoB,CAAC,MAAyC;QAC5D,IAAI,MAAM,CAAC,SAAS,2EAAwD,EAAE,CAAC;YAC7E,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QACD,OAAO,sBAAsB,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;IACtG,CAAC;IAED,cAAc,CAAC,MAAyC;QACtD,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACnD,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QAED,OAAO,IAAI,CAAA;6BACc,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC;;;YAG9C,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAA,OAAO,MAAM,OAAO,CAAC;;;KAG7D,CAAC;IACJ,CAAC;IAED,iFAAiF;IACjF,8EAA8E;IAC9E,8DAA8D;IAC9D,wCAAwC;QACtC,MAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,CAAC;QACtE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACtB,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QAED,OAAO,IAAI,CAAA;QACP,6BAA6B,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,gBAAgB,CAAC,cAAc,CAAC;QACpG,6BAA6B,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,gBAAgB,CAAC,YAAY,CAAC,EAAE,CAAC;IACnG,CAAC;IAED,oBAAoB;QAClB,MAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,CAAC;QACtE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACtB,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QACD,OAAO,IAAI,CAAA;wCACyB,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC;6BACvC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC;;;;oBAIrC,oBAAoB,CAAC,gBAAgB,CAAC,MAAM,CAAC;;oBAE7C,oCAAoC,CAAC,gBAAgB,CAAC,MAAM,CAAC;YACrE,4BAA4B,CAAC,gBAAgB,CAAC,MAAM,CAAC;;;QAGzD,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,CAAC;;OAE/C,CAAC;IACN,CAAC;IAED,uBAAuB,CAAC,MAAqD;QAC3E,IAAI,MAAM,CAAC,IAAI,uEAAsD,EAAE,CAAC;YACtE,OAAO,GAAG,CAAC,OAAO,CAAC;QACrB,CAAC;QACD,OAAO,6BAA6B,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAoB,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;IAC5G,CAAC;CACF;AAED,MAAM,iBAAiB,GAAiC;IACtD,KAAK,EAAE,6BAA6B;IACpC,QAAQ,EAAE,cAAc;IACxB,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,MAAM;CACf,CAAC;AAEF,MAAM,iBAAiB,GAAiC;IACtD,KAAK,EAAE,mBAAmB;IAC1B,QAAQ,EAAE,qBAAqB;IAC/B,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,MAAM;CACf,CAAC;AAEF,MAAM,UAAU,uBAAuB,CAAC,MAA2D;IACjG,OAAO,MAAM,sEAA2D;QACpE,MAAM,4FAAsE;QAC5E,MAAM,kGAAyE,CAAC;AACtF,CAAC;AAED,SAAS,oBAAoB,CAAC,MAA2D;IAEvF,OAAO,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,iBAAiB,CAAC;AACjF,CAAC;AAED,SAAS,oCAAoC,CAAC,MAA2D;IACvG,OAAO,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;AACzG,CAAC;AAED,SAAS,4BAA4B,CAAC,MAA2D;IAC/F,QAAQ,MAAM,EAAE,CAAC;QACf;YACE,OAAO,IAAI,CAAC;QACd;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;QAChE;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;QAC/D;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;QAC1D;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;QAC9D;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,gCAAgC,CAAC,CAAC;QAChE;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,qCAAqC,CAAC,CAAC;QACrE,uGAA4E;QAC5E,iGAAyE;QACzE,6FAAuE;QACvE,2FAAsE;QACtE;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;QAC9D;YACE,OAAO,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;IAC9C,CAAC;AACH,CAAC;AAED,SAAS,6BAA6B,CAAI,GAAW,EAAE,KAAkB;IACvE,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;QACxB,OAAO,GAAG,CAAC,OAAO,CAAC;IACrB,CAAC;IAED,OAAO,IAAI,CAAA;2BACc,GAAG;6BACD,KAAK;GAC/B,CAAC;AACJ,CAAC;AAED,SAAS,sBAAsB,CAAC,GAAW,EAAE,KAAa;IACxD,OAAO,IAAI,CAAA;2BACc,GAAG;0CACY,KAAK;GAC5C,CAAC;AACJ,CAAC;AAED,cAAc,CAAC,MAAM,CAAC,6BAA6B,EAAE,sBAAsB,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../../ui/components/report_view/report_view.js';\nimport '../../../ui/components/icon_button/icon_button.js';\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport type * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as LegacyWrapper from '../../../ui/components/legacy_wrapper/legacy_wrapper.js';\nimport * as Lit from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport requestTrustTokensViewStylesRaw from './RequestTrustTokensView.css.js';\n\n// TODO(crbug.com/391381439): Fully migrate off of constructed style sheets.\nconst requestTrustTokensViewStyles = new CSSStyleSheet();\nrequestTrustTokensViewStyles.replaceSync(requestTrustTokensViewStylesRaw.cssContent);\n\nconst {html} = Lit;\n\nconst UIStrings = {\n  /**\n   *@description Section heading in the Trust Token tab\n   */\n  parameters: 'Parameters',\n  /**\n   *@description Text that refers to some types\n   */\n  type: 'Type',\n  /**\n   *@description Label for a Trust Token parameter\n   */\n  refreshPolicy: 'Refresh policy',\n  /**\n   *@description Label for a list if origins in the Trust Token tab\n   */\n  issuers: 'Issuers',\n  /**\n   *@description Label for a report field in the Network panel\n   */\n  topLevelOrigin: 'Top level origin',\n  /**\n   *@description Text for the issuer of an item\n   */\n  issuer: 'Issuer',\n  /**\n   *@description Heading of a report section in the Network panel\n   */\n  result: 'Result',\n  /**\n   *@description Text for the status of something\n   */\n  status: 'Status',\n  /**\n   *@description Label for a field in the Network panel\n   */\n  numberOfIssuedTokens: 'Number of issued tokens',\n  /**\n   * @description Text for the success status in the Network panel. Refers to the outcome of a network\n   * request which will either be 'Success' or 'Failure'.\n   */\n  success: 'Success',\n  /**\n   *@description Text in the network panel for an error status\n   */\n  failure: 'Failure',\n  /**\n   *@description Detailed text for a success status in the Network panel\n   */\n  theOperationsResultWasServedFrom: 'The operations result was served from cache.',\n  /**\n   *@description Detailed text for a success status in the Network panel\n   */\n  theOperationWasFulfilledLocally: 'The operation was fulfilled locally, no request was sent.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  theKeysForThisPSTIssuerAreUnavailable:\n      'The keys for this PST issuer are unavailable. The issuer may need to be registered via the Chrome registration process.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  aClientprovidedArgumentWas: 'A client-provided argument was malformed or otherwise invalid.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  eitherNoInputsForThisOperation:\n      'Either no inputs for this operation are available or the output exceeds the operations quota.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  theServersResponseWasMalformedOr: 'The servers response was malformed or otherwise invalid.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  theOperationFailedForAnUnknown: 'The operation failed for an unknown reason.',\n  /**\n   *@description Text for an error status in the Network panel\n   */\n  perSiteLimit: 'Per-site issuer limit reached.',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/RequestTrustTokensView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class RequestTrustTokensView extends LegacyWrapper.LegacyWrapper.WrappableComponent {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #request: SDK.NetworkRequest.NetworkRequest;\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n    this.#request = request;\n  }\n\n  override wasShown(): void {\n    this.#request.addEventListener(SDK.NetworkRequest.Events.TRUST_TOKEN_RESULT_ADDED, this.render, this);\n    void this.render();\n  }\n\n  override willHide(): void {\n    this.#request.removeEventListener(SDK.NetworkRequest.Events.TRUST_TOKEN_RESULT_ADDED, this.render, this);\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [requestTrustTokensViewStyles];\n  }\n\n  override async render(): Promise<void> {\n    if (!this.#request) {\n      throw new Error('Trying to render a Trust Token report without providing data');\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    Lit.render(html`<devtools-report>\n        ${this.#renderParameterSection()}\n        ${this.#renderResultSection()}\n      </devtools-report>\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n\n  #renderParameterSection(): Lit.LitTemplate {\n    const trustTokenParams = this.#request.trustTokenParams();\n    if (!trustTokenParams) {\n      return Lit.nothing;\n    }\n\n    return html`\n      <devtools-report-section-header jslog=${VisualLogging.pane('trust-tokens').track({\n      resize: true,\n    })}>${i18nString(UIStrings.parameters)}</devtools-report-section-header>\n      ${renderRowWithCodeValue(i18nString(UIStrings.type), trustTokenParams.operation.toString())}\n      ${this.#renderRefreshPolicy(trustTokenParams)}\n      ${this.#renderIssuers(trustTokenParams)}\n      ${this.#renderIssuerAndTopLevelOriginFromResult()}\n      <devtools-report-divider></devtools-report-divider>\n    `;\n  }\n\n  #renderRefreshPolicy(params: Protocol.Network.TrustTokenParams): Lit.LitTemplate {\n    if (params.operation !== Protocol.Network.TrustTokenOperationType.Redemption) {\n      return Lit.nothing;\n    }\n    return renderRowWithCodeValue(i18nString(UIStrings.refreshPolicy), params.refreshPolicy.toString());\n  }\n\n  #renderIssuers(params: Protocol.Network.TrustTokenParams): Lit.LitTemplate {\n    if (!params.issuers || params.issuers.length === 0) {\n      return Lit.nothing;\n    }\n\n    return html`\n      <devtools-report-key>${i18nString(UIStrings.issuers)}</devtools-report-key>\n      <devtools-report-value>\n        <ul class=\"issuers-list\">\n          ${params.issuers.map(issuer => html`<li>${issuer}</li>`)}\n        </ul>\n      </devtools-report-value>\n    `;\n  }\n\n  // The issuer and top level origin are technically parameters but reported in the\n  // result structure due to the timing when they are calculated in the backend.\n  // Nonetheless, we show them as part of the parameter section.\n  #renderIssuerAndTopLevelOriginFromResult(): Lit.LitTemplate {\n    const trustTokenResult = this.#request.trustTokenOperationDoneEvent();\n    if (!trustTokenResult) {\n      return Lit.nothing;\n    }\n\n    return html`\n      ${renderSimpleRowIfValuePresent(i18nString(UIStrings.topLevelOrigin), trustTokenResult.topLevelOrigin)}\n      ${renderSimpleRowIfValuePresent(i18nString(UIStrings.issuer), trustTokenResult.issuerOrigin)}`;\n  }\n\n  #renderResultSection(): Lit.LitTemplate {\n    const trustTokenResult = this.#request.trustTokenOperationDoneEvent();\n    if (!trustTokenResult) {\n      return Lit.nothing;\n    }\n    return html`\n      <devtools-report-section-header>${i18nString(UIStrings.result)}</devtools-report-section-header>\n      <devtools-report-key>${i18nString(UIStrings.status)}</devtools-report-key>\n      <devtools-report-value>\n        <span>\n          <devtools-icon class=\"status-icon\"\n            .data=${getIconForStatusCode(trustTokenResult.status)}>\n          </devtools-icon>\n          <strong>${getSimplifiedStatusTextForStatusCode(trustTokenResult.status)}</strong>\n          ${getDetailedTextForStatusCode(trustTokenResult.status)}\n        </span>\n      </devtools-report-value>\n      ${this.#renderIssuedTokenCount(trustTokenResult)}\n      <devtools-report-divider></devtools-report-divider>\n      `;\n  }\n\n  #renderIssuedTokenCount(result: Protocol.Network.TrustTokenOperationDoneEvent): Lit.LitTemplate {\n    if (result.type !== Protocol.Network.TrustTokenOperationType.Issuance) {\n      return Lit.nothing;\n    }\n    return renderSimpleRowIfValuePresent(i18nString(UIStrings.numberOfIssuedTokens), result.issuedTokenCount);\n  }\n}\n\nconst SUCCESS_ICON_DATA: IconButton.Icon.IconWithName = {\n  color: 'var(--icon-checkmark-green)',\n  iconName: 'check-circle',\n  width: '16px',\n  height: '16px',\n};\n\nconst FAILURE_ICON_DATA: IconButton.Icon.IconWithName = {\n  color: 'var(--icon-error)',\n  iconName: 'cross-circle-filled',\n  width: '16px',\n  height: '16px',\n};\n\nexport function statusConsideredSuccess(status: Protocol.Network.TrustTokenOperationDoneEventStatus): boolean {\n  return status === Protocol.Network.TrustTokenOperationDoneEventStatus.Ok ||\n      status === Protocol.Network.TrustTokenOperationDoneEventStatus.AlreadyExists ||\n      status === Protocol.Network.TrustTokenOperationDoneEventStatus.FulfilledLocally;\n}\n\nfunction getIconForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus):\n    IconButton.Icon.IconWithName {\n  return statusConsideredSuccess(status) ? SUCCESS_ICON_DATA : FAILURE_ICON_DATA;\n}\n\nfunction getSimplifiedStatusTextForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus): string {\n  return statusConsideredSuccess(status) ? i18nString(UIStrings.success) : i18nString(UIStrings.failure);\n}\n\nfunction getDetailedTextForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus): string|null {\n  switch (status) {\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.Ok:\n      return null;\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.AlreadyExists:\n      return i18nString(UIStrings.theOperationsResultWasServedFrom);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.FulfilledLocally:\n      return i18nString(UIStrings.theOperationWasFulfilledLocally);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.InvalidArgument:\n      return i18nString(UIStrings.aClientprovidedArgumentWas);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.ResourceExhausted:\n      return i18nString(UIStrings.eitherNoInputsForThisOperation);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.BadResponse:\n      return i18nString(UIStrings.theServersResponseWasMalformedOr);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.MissingIssuerKeys:\n      return i18nString(UIStrings.theKeysForThisPSTIssuerAreUnavailable);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.FailedPrecondition:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.ResourceLimited:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.InternalError:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.Unauthorized:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.UnknownError:\n      return i18nString(UIStrings.theOperationFailedForAnUnknown);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.SiteIssuerLimit:\n      return i18nString(UIStrings.perSiteLimit);\n  }\n}\n\nfunction renderSimpleRowIfValuePresent<T>(key: string, value: T|undefined): Lit.LitTemplate {\n  if (value === undefined) {\n    return Lit.nothing;\n  }\n\n  return html`\n    <devtools-report-key>${key}</devtools-report-key>\n    <devtools-report-value>${value}</devtools-report-value>\n  `;\n}\n\nfunction renderRowWithCodeValue(key: string, value: string): Lit.TemplateResult {\n  return html`\n    <devtools-report-key>${key}</devtools-report-key>\n    <devtools-report-value class=\"code\">${value}</devtools-report-value>\n  `;\n}\n\ncustomElements.define('devtools-trust-token-report', RequestTrustTokensView);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-trust-token-report': RequestTrustTokensView;\n  }\n}\n"]}