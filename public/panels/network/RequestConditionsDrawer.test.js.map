{"version":3,"file":"RequestConditionsDrawer.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/RequestConditionsDrawer.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Logs from '../../models/logs/logs.js';\nimport {assertScreenshot, dispatchClickEvent, renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createTarget, registerNoopActions} from '../../testing/EnvironmentHelpers.js';\nimport {expectCall} from '../../testing/ExpectStubCall.js';\nimport {describeWithMockConnection, setMockConnectionResponseHandler} from '../../testing/MockConnection.js';\nimport {createViewFunctionStub} from '../../testing/ViewFunctionHelpers.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as PanelUtils from '../utils/utils.js';\n\nimport * as Network from './network.js';\n\nconst {urlString} = Platform.DevToolsPath;\n\ndescribeWithMockConnection(`RequestConditionsDrawer with individual request throttling enabled`, () => {\n  beforeEach(() => {\n    setMockConnectionResponseHandler('Debugger.enable', () => ({} as Protocol.Debugger.EnableResponse));\n    setMockConnectionResponseHandler('Storage.getStorageKey', () => ({} as Protocol.Storage.GetStorageKeyResponse));\n    registerNoopActions([\n      'network.add-network-request-blocking-pattern',\n      'network.remove-all-network-request-blocking-patterns',\n    ]);\n    SDK.NetworkManager.MultitargetNetworkManager.instance({forceNew: true}).requestConditions.conditionsEnabled =\n        (true);\n    sinon.stub(SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions, 'applyConditions')\n        .returns(false);\n  });\n\n  it('shows a placeholder', async () => {\n    const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n    renderElementIntoDOM(requestConditionsDrawer);\n    await requestConditionsDrawer.updateComplete;\n    const blockedElement = requestConditionsDrawer.contentElement.querySelector('.blocked-urls');\n    const placeholder = blockedElement?.shadowRoot?.querySelector('.empty-state');\n    assert.exists(placeholder);\n    assert.deepEqual(placeholder.querySelector('.empty-state-header')?.textContent, 'Nothing throttled or blocked');\n    assert.deepEqual(\n        placeholder.querySelector('.empty-state-description > span')?.textContent,\n        'To throttle or block a network request, add a rule here manually or via the network panel\\'s context menu. Learn more');\n\n    await assertScreenshot('request_conditions/throttling_placeholder.png');\n  });\n\n  it('Add pattern button triggers showing the editor view', async () => {\n    const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n    renderElementIntoDOM(requestConditionsDrawer);\n    await requestConditionsDrawer.updateComplete;\n    const blockedElement = requestConditionsDrawer.contentElement.querySelector('.blocked-urls');\n    const list = blockedElement?.shadowRoot?.querySelector('.list');\n    const placeholder = list?.querySelector('.empty-state');\n\n    const button = placeholder?.querySelector('devtools-button');\n    assert.exists(button);\n\n    assert.isNull(list?.querySelector('.editor-content'));\n    dispatchClickEvent(button);\n    await requestConditionsDrawer.updateComplete;\n    assert.exists(list?.querySelector('.editor-content'));\n\n    await assertScreenshot('request_conditions/throttling_editor.png');\n  });\n\n  describe('affected counts', () => {\n    const updatesOnRequestFinishedEvent = (inScope: boolean) => async () => {\n      const target = createTarget();\n      SDK.TargetManager.TargetManager.instance().setScopeTarget(inScope ? target : null);\n      const networkManager = target.model(SDK.NetworkManager.NetworkManager);\n\n      SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions.add(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: '*', enabled: true}));\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n      renderElementIntoDOM(requestConditionsDrawer);\n      await requestConditionsDrawer.updateComplete;\n      assert.exists(networkManager);\n      const list = requestConditionsDrawer.contentElement.querySelector('.blocked-urls')?.shadowRoot;\n      const countWidget =\n          list?.querySelector<UI.Widget.WidgetElement<UI.Widget.Widget>>('.blocked-url-count')?.getWidget();\n      assert.exists(countWidget);\n      const updateStub = sinon.spy(countWidget, 'requestUpdate');\n\n      const request = new SDK.NetworkRequest.NetworkRequest(\n          '', undefined, urlString`http://example.com`, urlString`http://example.com`, null, null, null);\n      request.setBlockedReason(Protocol.Network.BlockedReason.Inspector);\n\n      networkManager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestFinished, request);\n\n      assert.strictEqual(updateStub.calledOnce, inScope);\n      if (inScope) {\n        await countWidget.updateComplete;\n        await assertScreenshot(`request_conditions/throttling_blocked-matched.png`);\n      } else {\n        await assertScreenshot(`request_conditions/throttling_blocked-not-matched.png`);\n      }\n    };\n\n    it('are updated upon RequestFinished event (when target is in scope)', updatesOnRequestFinishedEvent(true));\n    it('are updated upon RequestFinished event (when target is out of scope)', updatesOnRequestFinishedEvent(false));\n\n    it('are updated upon Reset event', async () => {\n      const viewFunction = createViewFunctionStub(Network.RequestConditionsDrawer.AffectedCountWidget);\n      const widget = new Network.RequestConditionsDrawer.AffectedCountWidget(undefined, viewFunction);\n      widget.condition = SDK.NetworkManager.RequestCondition.createFromSetting({url: '*', enabled: true});\n      widget.lookUpRequestCount = sinon.stub();\n      await viewFunction.nextInput;\n      renderElementIntoDOM(widget);\n\n      Logs.NetworkLog.NetworkLog.instance().dispatchEventToListeners(\n          Logs.NetworkLog.Events.Reset, {clearIfPreserved: true});\n      await viewFunction.nextInput;\n    });\n  });\n});\n\ndescribeWithMockConnection('RequestConditionsDrawer', () => {\n  beforeEach(() => {\n    SDK.NetworkManager.MultitargetNetworkManager.instance({forceNew: true});\n  });\n\n  describe('shows information for upgrading wildcard patterns to URLPatterns', () => {\n    it('shows the URLPattern breakdown', () => {\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n      const index = 0;\n      const item = requestConditionsDrawer.renderItem(\n          SDK.NetworkManager.RequestCondition.createFromSetting({\n            urlPattern: 'http://example.com/*bar' as SDK.NetworkManager.URLPatternConstructorString,\n            enabled: true,\n            conditions: 'NO_THROTTLING' as SDK.NetworkManager.ThrottlingConditionKey,\n          }),\n          /* editable=*/ true, index);\n      assert.notExists(item.querySelector('devtools-icon'));\n      const hovered = item.querySelector(`[aria-details=url-pattern-${index}]`);\n      assert.exists(hovered);\n      assert.strictEqual(hovered.textContent, 'http://example.com/*bar');\n      const tooltip = item.querySelector(`devtools-tooltip[id=url-pattern-${index}]`);\n      assert.exists(tooltip);\n      assert.strictEqual(\n          tooltip.textContent,\n          'hash: *hostname: example.compassword: *pathname: /*barport: protocol: httpsearch: *username: *Learn more');\n    });\n\n    it('shows a warning icon when a pattern was upgraded', () => {\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n      const index = 1;\n      const item = requestConditionsDrawer.renderItem(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: 'example.com/*bar', enabled: true}),\n          /* editable=*/ true, index);\n      const hovered = item.querySelector(`[aria-details=url-pattern-${index}]`);\n      assert.exists(hovered);\n      assert.strictEqual(hovered.textContent, '*://example.com/*bar*');\n      assert.exists(item.querySelector('devtools-icon[name=warning-filled]'));\n      const tooltip = item.querySelector(`devtools-tooltip[id=url-pattern-warning-${index}]`);\n      assert.exists(tooltip);\n      assert.strictEqual(tooltip.textContent, 'This pattern was upgraded from \"example.com/*bar\"');\n    });\n\n    it('shows an error icon when a pattern is invalid', () => {\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n      const index = 3;\n      const item = requestConditionsDrawer.renderItem(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: 'ht tp://*', enabled: true}),\n          /* editable=*/ true, index);\n      assert.isTrue(item.querySelector('input')?.disabled);\n      assert.exists(item.querySelector('devtools-icon[name=cross-circle-filled]'));\n      const tooltip = item.querySelector(`devtools-tooltip[id=url-pattern-error-${index}]`);\n      assert.exists(tooltip);\n      assert.strictEqual(tooltip.textContent, 'This pattern failed to parse as a URLPatternLearn more');\n    });\n\n    it('shows an error icon when a pattern contains regexp groups', () => {\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n      const index = 0;\n      const item = requestConditionsDrawer.renderItem(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: 'http://*/(\\\\d+)', enabled: true}),\n          /* editable=*/ true, index);\n      assert.isTrue(item.querySelector('input')?.disabled);\n      assert.exists(item.querySelector('devtools-icon[name=cross-circle-filled]'));\n      const tooltip = item.querySelector(`devtools-tooltip[id=url-pattern-error-${index}]`);\n      assert.exists(tooltip);\n      assert.strictEqual(tooltip.textContent, 'RegExp groups are not allowedLearn more');\n    });\n\n    it('shows an error message in the editor when the pattern is invalid or has regexp groups', () => {\n      const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n\n      const regexpPatternEditor = requestConditionsDrawer.beginEdit(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: 'http://*/(\\\\d+)', enabled: true}));\n      regexpPatternEditor.requestValidation();\n      assert.strictEqual(\n          regexpPatternEditor.element.querySelector('.list-widget-input-validation-error')?.textContent,\n          'RegExp groups are not allowed');\n\n      const invalidPatternEditor = requestConditionsDrawer.beginEdit(\n          SDK.NetworkManager.RequestCondition.createFromSetting({url: 'ht tp://*', enabled: true}));\n      invalidPatternEditor.requestValidation();\n      assert.strictEqual(\n          invalidPatternEditor.element.querySelector('.list-widget-input-validation-error')?.textContent,\n          'This pattern failed to parse as a URLPattern');\n    });\n  });\n\n  it('can reorder the conditions', async () => {\n    const increasePriority =\n        sinon.stub(SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions, 'increasePriority');\n    const decreasePriority =\n        sinon.stub(SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions, 'decreasePriority');\n    SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions.conditionsEnabled = true;\n\n    const requestConditionsDrawer =\n        new Network.RequestConditionsDrawer.RequestConditionsDrawer(undefined, sinon.stub());\n    const condition = SDK.NetworkManager.RequestCondition.createFromSetting({url: 'example.com/*bar', enabled: true});\n    const item = requestConditionsDrawer.renderItem(condition, /* editable=*/ true, 0);\n\n    const [increaseButton, decreaseButton] = item.querySelectorAll('devtools-button');\n\n    increaseButton.click();\n    sinon.assert.calledOnceWithExactly(increasePriority, condition);\n    sinon.assert.notCalled(decreasePriority);\n    decreaseButton.click();\n    sinon.assert.calledOnceWithExactly(increasePriority, condition);\n    sinon.assert.calledOnceWithExactly(decreasePriority, condition);\n  });\n\n  it('highlights conditions', async () => {\n    const requestConditionsDrawer = new Network.RequestConditionsDrawer.RequestConditionsDrawer();\n    UI.Context.Context.instance().setFlavor(\n        Network.RequestConditionsDrawer.RequestConditionsDrawer, requestConditionsDrawer);\n    const index = 0;\n    const urlPattern = 'http://example.com/*bar' as SDK.NetworkManager.URLPatternConstructorString;\n    const conditions = SDK.NetworkManager.RequestCondition.createFromSetting({\n      urlPattern,\n      enabled: true,\n      conditions: 'NO_THROTTLING' as SDK.NetworkManager.ThrottlingConditionKey,\n    });\n    conditions.ruleIds.add('abc');\n    SDK.NetworkManager.MultitargetNetworkManager.instance().requestConditions.add(conditions);\n    const item = requestConditionsDrawer.renderItem(conditions, /* editable=*/ true, index);\n    const viewShown = expectCall(sinon.stub(UI.ViewManager.ViewManager.instance(), 'showView').resolves());\n    const highlighted = expectCall(sinon.stub(PanelUtils.PanelUtils, 'highlightElement'));\n    void Network.RequestConditionsDrawer.RequestConditionsDrawer.reveal(\n        new SDK.NetworkManager.AppliedNetworkConditions(SDK.NetworkManager.NoThrottlingConditions, 'abc', urlPattern));\n\n    assert.deepEqual(['network.blocked-urls'], await viewShown);\n    assert.deepEqual([item], await highlighted);\n  });\n});\n"]}