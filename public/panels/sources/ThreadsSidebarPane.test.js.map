{"version":3,"file":"ThreadsSidebarPane.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/sources/ThreadsSidebarPane.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as SDK from '../../core/sdk/sdk.js';\nimport {renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createTarget} from '../../testing/EnvironmentHelpers.js';\nimport {describeWithMockConnection} from '../../testing/MockConnection.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport * as Sources from './sources.js';\n\ndescribeWithMockConnection('ThreadsSidebarPane', () => {\n  const {ThreadsSidebarPane} = Sources.ThreadsSidebarPane;\n  let threadsSidebarPane: Sources.ThreadsSidebarPane.ThreadsSidebarPane;\n  let view: sinon.SinonSpy;\n\n  beforeEach(async () => {\n    view = sinon.spy();\n    threadsSidebarPane = new ThreadsSidebarPane(undefined, view);\n    threadsSidebarPane.markAsRoot();\n    renderElementIntoDOM(threadsSidebarPane);\n    await threadsSidebarPane.updateComplete;\n    sinon.assert.calledOnce(view);\n    view.resetHistory();\n  });\n\n  afterEach(() => {\n    threadsSidebarPane.detach();\n  });\n\n  it('shows and hides based on the number of debugger models', () => {\n    assert.isFalse(ThreadsSidebarPane.shouldBeShown());\n\n    const target = createTarget();\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    assert.exists(debuggerModel);\n    assert.isFalse(ThreadsSidebarPane.shouldBeShown());\n\n    const anotherTarget = createTarget();\n    const anotherDebuggerModel = anotherTarget.model(SDK.DebuggerModel.DebuggerModel);\n    assert.exists(anotherDebuggerModel);\n    assert.isTrue(ThreadsSidebarPane.shouldBeShown());\n\n    SDK.TargetManager.TargetManager.instance().removeTarget(target);\n    assert.isFalse(ThreadsSidebarPane.shouldBeShown());\n  });\n\n  it('updates the view when a model is added or removed', async () => {\n    const target = createTarget();\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    assert.exists(debuggerModel);\n    await threadsSidebarPane.updateComplete;\n    sinon.assert.calledOnce(view);\n  });\n\n  it('updates the view on target flavor change', async () => {\n    const target = createTarget();\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    assert.exists(debuggerModel);\n    await threadsSidebarPane.updateComplete;\n    view.resetHistory();\n\n    UI.Context.Context.instance().setFlavor(SDK.Target.Target, target);\n    await threadsSidebarPane.updateComplete;\n    sinon.assert.calledOnce(view);\n  });\n});\n"]}