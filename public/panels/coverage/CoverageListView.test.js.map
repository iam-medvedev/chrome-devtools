{"version":3,"file":"CoverageListView.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/coverage/CoverageListView.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,QAAQ,MAAM,iCAAiC,CAAC;AAC5D,OAAO,EAAC,gBAAgB,EAAC,MAAM,6BAA6B,CAAC;AAC7D,OAAO,EAAC,uBAAuB,EAAC,MAAM,qCAAqC,CAAC;AAC5E,OAAO,EACL,kBAAkB,GACnB,MAAM,+BAA+B,CAAC;AAEvC,OAAO,KAAK,QAAQ,MAAM,eAAe,CAAC;AAE1C,MAAM,EAAC,SAAS,EAAC,GAAG,QAAQ,CAAC,YAAY,CAAC;AAE1C,SAAS,QAAQ,CACb,GAAoC,EAAE,IAAyC,EAAE,IAAY,EAC7F,UAAkB;IACpB,MAAM,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC;IACnC,OAAO;QACL,GAAG;QACH,IAAI;QACJ,IAAI;QACJ,QAAQ;QACR,UAAU;QACV,cAAc,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAC9C,gBAAgB,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAClD,OAAO,EAAE,EAAE;QACX,eAAe,EAAE,KAAK;KACvB,CAAC;AACJ,CAAC;AAED,uBAAuB,CAAC,kBAAkB,EAAE,GAAG,EAAE;IAC/C,EAAE,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;QAC/B,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;QAC9D,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG;YAClB,QAAQ,CAAC,SAAS,CAAA,gCAAgC,2DAAmD,GAAG,EAAE,EAAE,CAAC;YAC7G,QAAQ,CACJ,SAAS,CAAA,0CAA0C,wEACW,GAAG,EAAE,CAAC,CAAC;YACzE,QAAQ,CAAC,SAAS,CAAA,0CAA0C,mDAA2C,GAAG,EAAE,EAAE,CAAC;YAC/G,QAAQ,CACJ,SAAS,CAAA,0CAA0C,2DAAmD,GAAG,EACzG,EAAE,CAAC;SACR,CAAC;QACF,MAAM,IAAI,CAAC,cAAc,CAAC;QAC1B,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,MAAM,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../core/platform/platform.js';\nimport {assertScreenshot} from '../../testing/DOMHelpers.js';\nimport {describeWithEnvironment} from '../../testing/EnvironmentHelpers.js';\nimport {\n  renderWidgetInVbox,\n} from '../../testing/TraceHelpers.js';\n\nimport * as Coverage from './coverage.js';\n\nconst {urlString} = Platform.DevToolsPath;\n\nfunction makeItem(\n    url: Platform.DevToolsPath.UrlString, type: Coverage.CoverageModel.CoverageType, size: number,\n    unusedSize: number): Coverage.CoverageListView.CoverageListItem {\n  const usedSize = size - unusedSize;\n  return {\n    url,\n    type,\n    size,\n    usedSize,\n    unusedSize,\n    usedPercentage: size > 0 ? usedSize / size : 0,\n    unusedPercentage: size > 0 ? unusedSize / size : 0,\n    sources: [],\n    isContentScript: false,\n  };\n}\n\ndescribeWithEnvironment('CoverageListView', () => {\n  it('basic rendering', async () => {\n    const view = new Coverage.CoverageListView.CoverageListView();\n    renderWidgetInVbox(view);\n    view.coverageInfo = [\n      makeItem(urlString`https://example.com/index.html`, Coverage.CoverageModel.CoverageType.JAVA_SCRIPT, 100, 10),\n      makeItem(\n          urlString`https://example.com/index.html?query=foo`,\n          Coverage.CoverageModel.CoverageType.JAVA_SCRIPT_PER_FUNCTION, 100, 0),\n      makeItem(urlString`https://example.com/index.html?query=baz`, Coverage.CoverageModel.CoverageType.CSS, 100, 50),\n      makeItem(\n          urlString`https://example.com/index.html?query=bar`, Coverage.CoverageModel.CoverageType.JAVA_SCRIPT, 100,\n          50),\n    ];\n    await view.updateComplete;\n    view.focus();\n\n    await assertScreenshot('coverage/basic.png');\n  });\n});\n"]}