{"version":3,"file":"TimelineUIUtils.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/timeline/TimelineUIUtils.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Trace from '../../models/trace/trace.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport {doubleRaf, renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createTarget, deinitializeGlobalVars, initializeGlobalVars} from '../../testing/EnvironmentHelpers.js';\nimport {\n  clearMockConnectionResponseHandler,\n  describeWithMockConnection,\n  setMockConnectionResponseHandler,\n} from '../../testing/MockConnection.js';\nimport {\n  loadBasicSourceMapExample,\n  setupPageResourceLoaderForSourceMap,\n} from '../../testing/SourceMapHelpers.js';\nimport {\n  getBaseTraceParseModelData,\n  getEventOfType,\n  getMainThread,\n  makeCompleteEvent,\n  makeInstantEvent,\n  makeMockRendererHandlerData,\n  makeMockSamplesHandlerData,\n  makeProfileCall,\n} from '../../testing/TraceHelpers.js';\nimport {TraceLoader} from '../../testing/TraceLoader.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as ThemeSupport from '../../ui/legacy/theme_support/theme_support.js';\n\nimport * as Timeline from './timeline.js';\nimport * as Utils from './utils/utils.js';\n\nconst {urlString} = Platform.DevToolsPath;\n\ndescribeWithMockConnection('TimelineUIUtils', function() {\n  before(async () => {\n    await initializeGlobalVars();\n  });\n\n  after(async () => await deinitializeGlobalVars());\n\n  let target: SDK.Target.Target;\n  // Trace events contain script ids as strings. However, the linkifier\n  // utilities assume it is a number because that's how it's defined at\n  // the protocol level. For practicality, we declare these two\n  // variables so that we can satisfy type checking throughout the tests.\n  const SCRIPT_ID_NUMBER = 1;\n  const SCRIPT_ID_STRING = String(SCRIPT_ID_NUMBER) as Protocol.Runtime.ScriptId;\n\n  beforeEach(() => {\n    target = createTarget();\n\n    const workspace = Workspace.Workspace.WorkspaceImpl.instance();\n    const targetManager = SDK.TargetManager.TargetManager.instance();\n    const resourceMapping = new Bindings.ResourceMapping.ResourceMapping(targetManager, workspace);\n    const debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance({\n      forceNew: true,\n      resourceMapping,\n      targetManager,\n    });\n    Bindings.IgnoreListManager.IgnoreListManager.instance({forceNew: true, debuggerWorkspaceBinding});\n  });\n\n  afterEach(() => {\n    clearMockConnectionResponseHandler('DOM.pushNodesByBackendIdsToFrontend');\n  });\n\n  it('creates top frame location text for function calls', async function() {\n    const {parsedTrace} = await TraceLoader.traceEngine(this, 'one-second-interaction.json.gz');\n    const functionCallEvent = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isFunctionCall);\n    assert.isOk(functionCallEvent);\n    assert.strictEqual(\n        'chrome-extension://blijaeebfebmkmekmdnehcmmcjnblkeo/lib/utils.js:11:43',\n        await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsTextForTraceEvent(functionCallEvent, parsedTrace));\n  });\n\n  it('creates top frame location text as a fallback', async function() {\n    const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n    const timerInstallEvent = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isTimerInstall);\n    assert.isOk(timerInstallEvent);\n    assert.strictEqual(\n        'https://web.dev/js/index-7b6f3de4.js:96:533',\n        await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsTextForTraceEvent(timerInstallEvent, parsedTrace));\n  });\n\n  describe('script location as an URL', function() {\n    it('makes the script location of a call frame a full URL when the inspected target is not the same the call frame was taken from (e.g. a loaded file)',\n       async function() {\n         // The actual trace doesn't matter here, just need one so we can pass\n         // it into buildDetailsNodeForTraceEvent\n         const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n\n         const fakeFunctionCall: Trace.Types.Events.FunctionCall = {\n           name: Trace.Types.Events.Name.FUNCTION_CALL,\n           ph: Trace.Types.Events.Phase.COMPLETE,\n           cat: 'devtools-timeline',\n           dur: Trace.Types.Timing.Micro(100),\n           ts: Trace.Types.Timing.Micro(100),\n           pid: Trace.Types.Events.ProcessID(1),\n           tid: Trace.Types.Events.ThreadID(1),\n           args: {\n             data: {\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: Number(SCRIPT_ID_STRING),\n               lineNumber: 1,\n               columnNumber: 1,\n             },\n           },\n         };\n\n         target.setInspectedURL(urlString`https://not-google.com`);\n         const node = await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForTraceEvent(\n             fakeFunctionCall, target, new Components.Linkifier.Linkifier(), false, parsedTrace);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         // URL path\n         assert.strictEqual(node.textContent, 'test @ /test.js:1:1');\n       });\n\n    it('makes the script location of a call frame a script name when the inspected target is the one the call frame was taken from',\n       async function() {\n         // The actual trace doesn't matter here, just need one so we can pass\n         // it into buildDetailsNodeForTraceEvent\n         const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n         const fakeFunctionCall: Trace.Types.Events.FunctionCall = {\n           name: Trace.Types.Events.Name.FUNCTION_CALL,\n           ph: Trace.Types.Events.Phase.COMPLETE,\n           cat: 'devtools-timeline',\n           dur: Trace.Types.Timing.Micro(100),\n           ts: Trace.Types.Timing.Micro(100),\n           pid: Trace.Types.Events.ProcessID(1),\n           tid: Trace.Types.Events.ThreadID(1),\n           args: {\n             data: {\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: Number(SCRIPT_ID_STRING),\n               lineNumber: 1,\n               columnNumber: 1,\n             },\n           },\n         };\n         target.setInspectedURL(urlString`https://google.com`);\n         const node = await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForTraceEvent(\n             fakeFunctionCall, target, new Components.Linkifier.Linkifier(), false, parsedTrace);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         assert.strictEqual(node.textContent, 'test @ /test.js:1:1');\n       });\n  });\n\n  describe('mapping to authored script when recording is fresh', function() {\n    beforeEach(async () => {\n      // Register mock script and source map.\n\n      const sourceMapContent = JSON.stringify({\n        version: 3,\n        names: ['unminified', 'par1', 'par2', 'console', 'log'],\n        sources: [\n          '/original-script.ts',\n        ],\n        file: '/test.js',\n        sourcesContent: ['function unminified(par1, par2) {\\n  console.log(par1, par2);\\n}\\n'],\n        mappings: 'AAAA,SAASA,EAAWC,EAAMC,GACxBC,QAAQC,IAAIH,EAAMC',\n      });\n      setupPageResourceLoaderForSourceMap(sourceMapContent);\n      target.setInspectedURL(urlString`https://google.com`);\n      const scriptUrl = urlString`https://google.com/script.js`;\n      const sourceMapUrl = urlString`script.js.map`;\n      const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n      assert.isNotNull(debuggerModel);\n      if (debuggerModel === null) {\n        return;\n      }\n      const sourceMapManager = debuggerModel.sourceMapManager();\n      const script = debuggerModel.parsedScriptSource(\n          SCRIPT_ID_STRING, scriptUrl, 0, 0, 0, 0, 0, '', undefined, false, sourceMapUrl, true, false, length, false,\n          null, null, null, null, null);\n      await sourceMapManager.sourceMapForClientPromise(script);\n    });\n    it('maps to the authored script when a call frame is provided', async function() {\n      const linkifier = new Components.Linkifier.Linkifier();\n      const node = Timeline.TimelineUIUtils.TimelineUIUtils.linkifyLocation({\n        scriptId: SCRIPT_ID_STRING,\n        url: 'https://google.com/test.js',\n        lineNumber: 0,\n        columnNumber: 0,\n        isFreshRecording: true,\n        target,\n        linkifier,\n      });\n      if (!node) {\n        throw new Error('Node was unexpectedly null');\n      }\n      // Wait for the location to be resolved using the registered source map.\n      await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().pendingLiveLocationChangesPromise();\n\n      assert.strictEqual(node.textContent, 'original-script.ts:1:1');\n    });\n\n    it('maps to the authored script when a trace event from the new engine with a stack trace is provided',\n       async function() {\n         const functionCallEvent = makeCompleteEvent('FunctionCall', 10, 100);\n         functionCallEvent.args = ({\n           data: {\n             stackTrace: [{\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: SCRIPT_ID_NUMBER,\n               lineNumber: 0,\n               columnNumber: 0,\n             }],\n           },\n         });\n         const linkifier = new Components.Linkifier.Linkifier();\n         const node =\n             Timeline.TimelineUIUtils.TimelineUIUtils.linkifyTopCallFrame(functionCallEvent, target, linkifier, true);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         // Wait for the location to be resolved using the registered source map.\n         await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n             .pendingLiveLocationChangesPromise();\n\n         assert.strictEqual(node.textContent, 'original-script.ts:1:1');\n       });\n  });\n\n  describe('mapping to authored function name when recording is fresh', function() {\n    it('maps to the authored name and script of a profile call', async function() {\n      const {script} = await loadBasicSourceMapExample(target);\n      // Ideally we would get a column number we can use from the source\n      // map however the current status of the source map helpers makes\n      // it difficult to do so.\n      const columnNumber = 51;\n      const profileCall =\n          makeProfileCall('function', 10, 100, Trace.Types.Events.ProcessID(1), Trace.Types.Events.ThreadID(1));\n\n      profileCall.callFrame = {\n        columnNumber,\n        functionName: 'minified',\n        lineNumber: 0,\n        scriptId: script.scriptId,\n        url: 'file://gen.js',\n      };\n      const workersData: Trace.Handlers.ModelHandlers.Workers.WorkersData = {\n        workerSessionIdEvents: [],\n        workerIdByThread: new Map(),\n        workerURLById: new Map(),\n      };\n      // This only includes data used in the SourceMapsResolver and\n      // TimelineUIUtils\n      const parsedTrace = getBaseTraceParseModelData({\n        Samples: makeMockSamplesHandlerData([profileCall]),\n        Workers: workersData,\n        Renderer: makeMockRendererHandlerData([profileCall]),\n      });\n\n      const resolver = new Timeline.Utils.SourceMapsResolver.SourceMapsResolver(parsedTrace);\n      await resolver.install();\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace, profileCall, new Components.Linkifier.Linkifier(), false, null);\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.exists(stackTraceData);\n      assert.isTrue(stackTraceData[0].startsWith('someFunction @'));\n    });\n    it('maps to the authored name and script of a function call', async function() {\n      const {script} = await loadBasicSourceMapExample(target);\n      const [lineNumber, columnNumber, ts, dur, pid, tid] =\n          [0, 51, 10, 100, Trace.Types.Events.ProcessID(1), Trace.Types.Events.ThreadID(1)];\n      const profileCall = makeProfileCall('function', ts, dur, pid, tid);\n\n      profileCall.callFrame = {\n        columnNumber,\n        functionName: 'minified',\n        lineNumber: 0,\n        scriptId: script.scriptId,\n        url: 'file://gen.js',\n      };\n\n      const functionCall = makeCompleteEvent(Trace.Types.Events.Name.FUNCTION_CALL, ts, dur, '', pid, tid) as\n          Trace.Types.Events.FunctionCall;\n      functionCall.args = {\n        data: {\n          // line and column number of function calls have an offset\n          // from CPU profile values.\n          columnNumber: columnNumber + 1,\n          lineNumber: lineNumber + 1,\n          functionName: 'minified',\n          scriptId: script.scriptId,\n          url: 'file://gen.js',\n        },\n      };\n      const workersData: Trace.Handlers.ModelHandlers.Workers.WorkersData = {\n        workerSessionIdEvents: [],\n        workerIdByThread: new Map(),\n        workerURLById: new Map(),\n      };\n      // This only includes data used in the SourceMapsResolver and\n      // TimelineUIUtils\n      const parsedTrace = getBaseTraceParseModelData({\n        Samples: makeMockSamplesHandlerData([profileCall]),\n        Workers: workersData,\n        Renderer: makeMockRendererHandlerData([functionCall]),\n      });\n\n      const resolver = new Timeline.Utils.SourceMapsResolver.SourceMapsResolver(parsedTrace);\n      await resolver.install();\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          functionCall,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const detailsData = getRowDataForDetailsElement(details).find(row => row.title?.startsWith('Function'));\n      assert.exists(detailsData);\n      assert.deepEqual(detailsData, {title: 'Function', value: 'someFunction @ gen.js:1:52'});\n    });\n  });\n  describe('adjusting timestamps for events and navigations', function() {\n    it('adjusts the time for a DCL event after a navigation', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n\n      const mainFrameID = parsedTrace.Meta.mainFrameId;\n\n      const dclEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(event => {\n        return Trace.Types.Events.isMarkDOMContent(event) && event.args.data?.frame === mainFrameID;\n      });\n      if (!dclEvent) {\n        throw new Error('Could not find DCL event');\n      }\n\n      const traceMinBound = parsedTrace.Meta.traceBounds.min;\n\n      // Round the time to 2DP to avoid needlessly long expectation numbers!\n      const unadjustedStartTimeMilliseconds = Trace.Helpers.Timing\n                                                  .microToMilli(\n                                                      Trace.Types.Timing.Micro(dclEvent.ts - traceMinBound),\n                                                      )\n                                                  .toFixed(2);\n      assert.strictEqual(unadjustedStartTimeMilliseconds, String(190.79));\n\n      const adjustedTime =\n          Timeline.TimelineUIUtils.timeStampForEventAdjustedForClosestNavigationIfPossible(dclEvent, parsedTrace);\n      assert.strictEqual(adjustedTime.toFixed(2), String(178.92));\n    });\n\n    it('can adjust the times for events that are not PageLoad markers', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'user-timings.json.gz');\n      // Use a performance.mark event. Exact event is unimportant except that\n      // it should not be a Page Load event as those are covered by the tests\n      // above.\n      const userMark = parsedTrace.UserTimings.performanceMarks.find(event => event.name === 'mark1');\n      if (!userMark) {\n        throw new Error('Could not find user mark');\n      }\n\n      const adjustedMarkTime =\n          Timeline.TimelineUIUtils.timeStampForEventAdjustedForClosestNavigationIfPossible(userMark, parsedTrace);\n      assert.strictEqual(adjustedMarkTime.toFixed(2), String(79.88));\n    });\n  });\n\n  function getInnerTextAcrossShadowRoots(root: Node|null): string {\n    // Don't recurse into elements that are not displayed\n    if (!root || (root instanceof HTMLElement && !root.checkVisibility())) {\n      return '';\n    }\n    if (root.nodeType === Node.TEXT_NODE) {\n      return root.nodeValue || '';\n    }\n    if (root instanceof HTMLElement && root.shadowRoot) {\n      return getInnerTextAcrossShadowRoots(root.shadowRoot);\n    }\n    return Array.from(root.childNodes).map(getInnerTextAcrossShadowRoots).join('');\n  }\n\n  function getRowDataForDetailsElement(details: DocumentFragment) {\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    container.appendChild(details);\n    return Array.from(container.querySelectorAll<HTMLDivElement>('.timeline-details-view-row')).map(row => {\n      const title = row.querySelector<HTMLDivElement>('.timeline-details-view-row-title')?.innerText;\n      const valueEl = row.querySelector<HTMLDivElement>('.timeline-details-view-row-value') ??\n          row.querySelector<HTMLElement>('div,span');\n      let value = valueEl?.innerText || '';\n      if (!value && valueEl) {\n        // Stack traces and renderEventJson have the contents within a shadowRoot.\n        value = getInnerTextAcrossShadowRoots(valueEl).trim();\n      }\n      return {title, value};\n    });\n  }\n\n  function getStackTraceForDetailsElement(details: DocumentFragment): string[]|null {\n    const stackTraceContainer =\n        details\n            .querySelector<HTMLDivElement>(\n                '.timeline-details-view-row.timeline-details-stack-values .stack-preview-container')\n            ?.shadowRoot;\n    if (!stackTraceContainer) {\n      return null;\n    }\n    return Array.from(stackTraceContainer.querySelectorAll<HTMLTableRowElement>('tbody tr')).map(row => {\n      const functionName = row.querySelector<HTMLElement>('.function-name')?.innerText;\n      const url = row.querySelector<HTMLElement>('.link')?.innerText;\n      return `${functionName || ''} @ ${url || ''}`;\n    });\n  }\n\n  function getPieChartDataForDetailsElement(details: DocumentFragment) {\n    const pieChartComp = details.querySelector<HTMLDivElement>('devtools-perf-piechart');\n    if (!pieChartComp?.shadowRoot) {\n      return [];\n    }\n    return Array.from(pieChartComp.shadowRoot.querySelectorAll<HTMLElement>('.pie-chart-legend-row')).map(row => {\n      const title = row.querySelector<HTMLDivElement>('.pie-chart-name')?.innerText;\n      const value = row.querySelector<HTMLDivElement>('.pie-chart-size')?.innerText;\n      return {title, value};\n    });\n  }\n\n  describe('colors', function() {\n    before(() => {\n      // Rather than use the real colours here and burden the test with having to\n      // inject loads of CSS, we fake out the colours. this is fine for our tests as\n      // the exact value of the colours is not important; we just make sure that it\n      // parses them out correctly. Each variable is given a different rgb() value to\n      // ensure we know the code is working and using the right one.\n      const styleElement = document.createElement('style');\n      styleElement.id = 'fake-perf-panel-colors';\n      styleElement.textContent = `\n:root {\n  --app-color-loading: rgb(0 0 0);\n  --app-color-loading-children: rgb(1 1 1);\n  --app-color-scripting: rgb(2 2 2);\n  --app-color-scripting-children: rgb(3 3 3);\n  --app-color-rendering: rgb(4 4 4);\n  --app-color-rendering-children: rgb(5 5 5);\n  --app-color-painting: rgb(6 6 6);\n  --app-color-painting-children: rgb(7 7 7);\n  --app-color-task: rgb(8 8 8);\n  --app-color-task-children: rgb(9 9 9);\n  --app-color-system: rgb(10 10 10);\n  --app-color-system-children: rgb(11 11 11);\n  --app-color-idle: rgb(12 12 12);\n  --app-color-idle-children: rgb(13 13 13);\n  --app-color-async: rgb(14 14 14);\n  --app-color-async-children: rgb(15 15 15);\n  --app-color-other: rgb(16 16 16);\n}\n`;\n      document.documentElement.appendChild(styleElement);\n      ThemeSupport.ThemeSupport.clearThemeCache();\n    });\n\n    after(() => {\n      const styleElementToRemove = document.documentElement.querySelector('#fake-perf-panel-colors');\n      if (styleElementToRemove) {\n        document.documentElement.removeChild(styleElementToRemove);\n      }\n      ThemeSupport.ThemeSupport.clearThemeCache();\n    });\n\n    it('should return the correct rgb value for a corresponding CSS variable', function() {\n      const parsedColor = Utils.EntryStyles.getCategoryStyles().scripting.getComputedColorValue();\n      assert.strictEqual('rgb(2 2 2)', parsedColor);\n    });\n\n    it('should return the color as a CSS variable', function() {\n      const cssVariable = Utils.EntryStyles.getCategoryStyles().scripting.getCSSValue();\n      assert.strictEqual('var(--app-color-scripting)', cssVariable);\n    });\n\n    it('treats the v8.parseOnBackgroundWaiting as scripting even though it would usually be idle', function() {\n      const event = makeCompleteEvent(\n          Trace.Types.Events.Name.STREAMING_COMPILE_SCRIPT_WAITING,\n          1,\n          1,\n          'v8,devtools.timeline,disabled-by-default-v8.compile',\n      );\n      assert.strictEqual('rgb(2 2 2)', Timeline.TimelineUIUtils.TimelineUIUtils.eventColor(event));\n    });\n\n    it('assigns the correct color to the swatch of an event\\'s title', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'lcp-web-font.json.gz');\n      const events = parsedTrace.Renderer.allTraceEntries;\n      const task = events.find(event => {\n        return event.name.includes('RunTask');\n      });\n      if (!task) {\n        throw new Error('Could not find expected event.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          task,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const titleSwatch: HTMLElement|null = details.querySelector('.timeline-details-chip-title div');\n      assert.strictEqual(titleSwatch?.style.backgroundColor, 'rgb(10, 10, 10)');\n    });\n  });\n\n  describe('testContentMatching', () => {\n    it('matches call frame events based on a regular expression and the contents of the event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'react-hello-world.json.gz');\n      // Find an event from the trace that represents some work that React did. This\n      // event is not chosen for any particular reason other than it was the example\n      // used in the bug report: crbug.com/1484504\n      const mainThread = getMainThread(parsedTrace.Renderer);\n      const performConcurrentWorkEvent = mainThread.entries.find(entry => {\n        if (Trace.Types.Events.isProfileCall(entry)) {\n          return entry.callFrame.functionName === 'performConcurrentWorkOnRoot';\n        }\n        return false;\n      });\n      if (!performConcurrentWorkEvent) {\n        throw new Error('Could not find expected event');\n      }\n      assert.isTrue(Timeline.TimelineUIUtils.TimelineUIUtils.testContentMatching(\n          performConcurrentWorkEvent, /perfo/, parsedTrace));\n    });\n  });\n\n  describe('traceEventDetails', function() {\n    it('shows the interaction ID and INP breakdown metrics for a given interaction', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'one-second-interaction.json.gz');\n      const interactionEvent = parsedTrace.UserInteractions.interactionEventsWithNoNesting.find(entry => {\n        return entry.dur === 979974 && entry.type === 'click';\n      });\n      if (!interactionEvent) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          interactionEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Warning',\n          value: 'Long interaction is indicating poor page responsiveness.',\n        },\n        {title: 'Duration', value: '979.97\\xA0ms'},\n        {\n          title: 'ID',\n          value: '4122',\n        },\n        {\n          title: 'Input delay',\n          value: '1\\xA0ms',\n        },\n        {\n          title: 'Processing duration',\n          value: '977\\xA0ms',\n        },\n        {\n          title: 'Presentation delay',\n          value: '2\\xA0ms',\n        },\n      ]);\n    });\n\n    it('renders all event data for a generic trace', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'generic-about-tracing.json.gz');\n      const event = parsedTrace.Renderer.allTraceEntries.find(entry => {\n        return entry.name === 'ThreadControllerImpl::RunTask';\n      });\n      if (!event) {\n        throw new Error('Could not find event.');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          event,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {title: 'Duration', value: '0.22\\xA0ms (self 0.20\\xA0ms)'},\n        {\n          title: '',\n          // Generic traces get their events rendered as JSON\n          value:\n              '{   \"args\": {\\n        \"chrome_task_annotator\": {\\n            \"delay_policy\": \"PRECISE\",\\n            \"task_delay_us\": 7159\\n        },\\n        \"src_file\": \"cc/scheduler/scheduler.cc\",\\n        \"src_func\": \"ScheduleBeginImplFrameDeadline\"\\n    },\\n    \"cat\": \"toplevel\",\\n    \"dur\": 222,\\n    \"name\": \"ThreadControllerImpl::RunTask\",\\n    \"ph\": \"X\",\\n    \"pid\": 1214129,\\n    \"tdur\": 163,\\n    \"tid\": 7,\\n    \"ts\": 1670373249790,\\n    \"tts\": 5752392\\n}',\n        },\n      ]);\n    });\n\n    it('renders invalidations correctly', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'style-invalidation-change-attribute.json.gz');\n      TraceLoader.initTraceBoundsManager(parsedTrace);\n\n      // Set up a fake DOM so that we can request nodes by backend Ids (even\n      // though we return none, we need to mock these calls else the frontend\n      // will not work.)\n      const documentNode = {nodeId: 1 as Protocol.DOM.BackendNodeId};\n      setMockConnectionResponseHandler('DOM.getDocument', () => ({root: documentNode}));\n      setMockConnectionResponseHandler('DOM.pushNodesByBackendIdsToFrontend', () => {\n        return {\n          nodeIds: [],\n        };\n      });\n\n      const updateLayoutTreeEvent = parsedTrace.Renderer.allTraceEntries.find(event => {\n        return Trace.Types.Events.isUpdateLayoutTree(event) &&\n            event.args.beginData?.stackTrace?.[0].functionName === 'testFuncs.changeAttributeAndDisplay';\n      });\n      if (!updateLayoutTreeEvent) {\n        throw new Error('Could not find update layout tree event');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          updateLayoutTreeEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {title: 'Duration', value: '0.19\\xA0ms'},\n        {\n          title: 'Elements affected',\n          value: '3',\n        },\n        {\n          title: 'Selector stats',\n          value: 'Select \"\" to collect detailed CSS selector matching statistics.',\n        },\n        {\n          // The \"Recalculation forced\" Stack trace\n          title: undefined,\n          value:\n              'testFuncs.changeAttributeAndDisplay @ chromedevtools.github.io/performance-stories/style-invalidations/app.js:47:40',\n        },\n        {\n          title: 'Initiated by',\n          value: 'Schedule style recalculation',\n        },\n        {\n          title: 'Pending for',\n          value: '7.1 ms',\n        },\n        {\n          title: 'PseudoClass:active',\n          value: 'BUTTON id=\\'changeAttributeAndDisplay\\'',\n        },\n        {\n          title: 'Attribute (dir)',\n          value:\n              'DIV id=\\'testElementFour\\' at chromedevtools.github.io/performance-stories/style-invalidations/app.js:46',\n        },\n        {\n          title: 'Attribute (dir)',\n          value:\n              'DIV id=\\'testElementFive\\' at chromedevtools.github.io/performance-stories/style-invalidations/app.js:47',\n        },\n        {\n          title: 'Element has pending invalidation list',\n          value: 'DIV id=\\'testElementFour\\'',\n        },\n        {\n          title: 'Element has pending invalidation list',\n          value: 'DIV id=\\'testElementFive\\'',\n        },\n      ]);\n    });\n\n    it('renders details for performance.mark', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'user-timings-details.json.gz');\n      const mark = parsedTrace.UserTimings.performanceMarks[0];\n      if (!mark) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          mark,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Timestamp',\n          value: '1,058.3\\xA0ms',\n        },\n        {title: 'Details', value: '{   \"hello\": \"world\"\\n}'},\n        {title: undefined, value: '(anonymous) @ localhost:8787/perf-details/app.js:1:12'}\n      ]);\n    });\n\n    it('renders details for performance.measure', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'user-timings-details.json.gz');\n      const measure = parsedTrace.UserTimings.performanceMeasures[0];\n      if (!measure) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          measure,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Timestamp',\n          value: '1,005.5\\xA0ms',\n        },\n        {title: 'Duration', value: '500.00\\xA0ms'},\n        {\n          title: 'Details',\n          value:\n              '{   \"devtools\": {\\n        \"metadata\": {\\n            \"extensionName\": \"hello\",\\n            \"dataType\": \"track-entry\"\\n        },\\n        \"color\": \"error\",\\n        \"track\": \"An extension track\"\\n    }\\n}',\n        },\n      ]);\n    });\n\n    it('renders details for a v8.compile (\"Compile Script\") event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'user-timings.json.gz');\n\n      const compileEvent = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isV8Compile);\n      if (!compileEvent) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          compileEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {title: 'Duration', value: '0.98\\xA0ms (self 34\\xA0μs)'},\n        {\n          title: 'Script',\n          // URL path plus line/col number\n          value: '/lib/utils.js:1:1',\n        },\n        {\n          title: 'Streamed',\n          value: 'false: inline script',\n        },\n        {title: 'Compilation cache status', value: 'script not eligible'},\n      ]);\n    });\n\n    it('renders the details for an extension entry properly', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'extension-tracks-and-marks.json.gz');\n      const extensionEntry =\n          parsedTrace.ExtensionTraceData.extensionTrackData[1].entriesByTrack['An Extension Track'][0];\n\n      if (!extensionEntry) {\n        throw new Error('Could not find extension entry.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          extensionEntry,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details).slice(0, 3);\n      assert.deepEqual(\n          rowData,\n          [\n            {title: 'Duration', value: '1.00\\xA0s (self 400.50\\xA0ms)'},\n            {\n              title: 'Description',\n              value: 'This is a child task',\n            },\n            {title: 'Tip', value: 'Do something about it'},\n          ],\n      );\n    });\n\n    it('renders the details for an extension marker properly', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'extension-tracks-and-marks.json.gz');\n      const extensionMark = parsedTrace.ExtensionTraceData.extensionMarkers[0];\n\n      if (!extensionMark) {\n        throw new Error('Could not find extension mark.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          extensionMark,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details)[0];\n      assert.deepEqual(\n          rowData,\n          {\n            title: 'Description',\n            value: 'This marks the start of a task',\n          },\n      );\n    });\n\n    it('renders the details for a profile call properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n      const [process] = parsedTrace.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const profileCalls = thread.entries.filter(entry => Trace.Types.Events.isProfileCall(entry));\n\n      if (!profileCalls) {\n        throw new Error('Could not find renderer events');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          profileCalls[0],\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.exists(stackTraceData);\n      assert.strictEqual(stackTraceData[0], '(anonymous) @ www.google.com:21:17');\n    });\n    it('renders the stack trace of a ScheduleStyleRecalculation properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      TraceLoader.initTraceBoundsManager(parsedTrace);\n      const [process] = parsedTrace.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const scheduleStyleRecalcs =\n          thread.entries.filter(entry => Trace.Types.Events.isScheduleStyleRecalculation(entry));\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          scheduleStyleRecalcs[1],\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.deepEqual(\n          stackTraceData,\n          ['(anonymous) @ web.dev/js/app.js?v=1423cda3:1:183'],\n      );\n      const rowData = getRowDataForDetailsElement(details)[0];\n      assert.deepEqual(\n          rowData,\n          {\n            title: 'Details',\n            value: 'web.dev/js/app.js?v=1423cda3:1:183',\n          },\n      );\n    });\n\n    it('renders the stack trace of a RecalculateStyles properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      TraceLoader.initTraceBoundsManager(parsedTrace);\n      const [process] = parsedTrace.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const stylesRecalc = thread.entries.filter(entry => entry.name === Trace.Types.Events.Name.UPDATE_LAYOUT_TREE);\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          stylesRecalc[3],\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.deepEqual(\n          stackTraceData,\n          ['(anonymous) @ web.dev/js/app.js?v=1423cda3:1:183'],\n      );\n    });\n    async function basicStackTraceParsedTrace():\n        Promise<Readonly<Trace.Handlers.Types.EnabledHandlerDataWithMeta<typeof Trace.Handlers.ModelHandlers>>> {\n      const pid = 0;\n      const traceId = 0;\n      const tid = 0;\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      // Build the following hierarchy\n      //       |-----------------v8.run--------------------|\n      //        |--V8.ParseFuntion--||---------f1-------|\n      //                             |---f2---||---f3---|\n      //                             |measure|  |mark|\n      const evaluateScript = makeCompleteEvent(Trace.Types.Events.Name.EVALUATE_SCRIPT, 0, 500, '', pid, tid);\n      const v8Run = makeCompleteEvent('v8.run', 10, 490, '', pid, tid);\n      const parseFunction = makeCompleteEvent('V8.ParseFunction', 12, 1, '', pid, tid);\n      const function1 = makeProfileCall('function 1', 300, 130, pid, tid);\n      const function2 = makeProfileCall('function 2', 300, 50, pid, tid);\n      const function3 = makeProfileCall('function 3', 351, 20, pid, tid);\n      const measure = makeCompleteEvent(Trace.Types.Events.Name.USER_TIMING, 300, 50, 'blink.user_timing', pid, tid) as\n          unknown as Trace.Types.Events.PerformanceMeasureBegin;\n      const measureTrace = makeCompleteEvent(Trace.Types.Events.Name.USER_TIMING_MEASURE, 300, 50, 'cat', pid, tid) as\n          Trace.Types.Events.UserTimingMeasure;\n      const mark = makeInstantEvent('Mark', 352, 'blink.user_timing', pid, tid);\n\n      const rendererHandlerData = makeMockRendererHandlerData(\n          [evaluateScript, v8Run, parseFunction, function1, function2, measure, measureTrace, function3, mark]);\n      measureTrace.args.traceId = traceId;\n      measure.args.traceId = traceId;\n      Trace.Handlers.ModelHandlers.UserTimings.handleEvent(measureTrace);\n      await Trace.Handlers.ModelHandlers.UserTimings.finalize();\n      const timingsData = Trace.Handlers.ModelHandlers.UserTimings.data();\n\n      const traceData = getBaseTraceParseModelData({UserTimings: timingsData, Renderer: rendererHandlerData});\n      TraceLoader.initTraceBoundsManager(traceData);\n      return traceData;\n    }\n    it('renders the stack trace of extension entries properly', async function() {\n      const traceData = await basicStackTraceParsedTrace();\n      const [function1, function2, function3] =\n          traceData.Renderer.allTraceEntries.filter(Trace.Types.Events.isProfileCall);\n      const mark = traceData.Renderer.allTraceEntries.find(event => event.name === 'Mark');\n      const measure =\n          traceData.Renderer.allTraceEntries.find(event => event.name === Trace.Types.Events.Name.USER_TIMING) as\n          Trace.Types.Events.UserTimingMeasure;\n      assert.exists(mark);\n      assert.exists(measure);\n\n      const markerExtensionEntry = {\n        cat: 'devtools.extension',\n        ts: function3.ts,\n        pid: function3.pid,\n        tid: function3.tid,\n        args: {},\n        rawSourceEvent: mark,\n      } as unknown as Trace.Types.Extensions.SyntheticExtensionEntry;\n\n      const markerDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceData,\n          markerExtensionEntry,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const markerStackTraceData = getStackTraceForDetailsElement(markerDetails);\n      assert.exists(markerStackTraceData);\n      assert.deepEqual(\n          markerStackTraceData,\n          [\n            `${function3.callFrame.functionName} @ `,\n            `${function1.callFrame.functionName} @ `,\n          ],\n      );\n\n      const mockExtensionTrackEntry = {\n        cat: 'devtools.extension',\n        ts: function2.ts,\n        pid: function2.pid,\n        tid: function2.tid,\n        args: {},\n        rawSourceEvent: {\n          cat: 'blink.user_timing',\n          args: {traceId: measure.args.traceId},\n          ph: Trace.Types.Events.Phase.ASYNC_NESTABLE_START,\n        },\n      } as Trace.Types.Extensions.SyntheticExtensionEntry;\n\n      const trackEntryDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceData,\n          mockExtensionTrackEntry,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const trackEntryStackTraceData = getStackTraceForDetailsElement(trackEntryDetails);\n      assert.exists(trackEntryStackTraceData);\n      assert.deepEqual(trackEntryStackTraceData, [\n        `${function2.callFrame.functionName} @ `,\n        `${function1.callFrame.functionName} @ `,\n      ]);\n    });\n    it('renders the stack trace of user timings properly', async function() {\n      const traceData = await basicStackTraceParsedTrace();\n      const [function1, function2, function3] =\n          traceData.Renderer.allTraceEntries.filter(Trace.Types.Events.isProfileCall);\n      const mark = traceData.Renderer.allTraceEntries.find(event => event.name === 'Mark');\n      const measure =\n          traceData.Renderer.allTraceEntries.find(event => event.name === Trace.Types.Events.Name.USER_TIMING);\n      assert.exists(mark);\n      assert.exists(measure);\n\n      const markerDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceData,\n          mark,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const markerStackTraceData = getStackTraceForDetailsElement(markerDetails);\n      assert.exists(markerStackTraceData);\n      assert.deepEqual(\n          markerStackTraceData,\n          [\n            `${function3.callFrame.functionName} @ `,\n            `${function1.callFrame.functionName} @ `,\n          ],\n      );\n\n      const trackEntryDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceData,\n          measure,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const trackEntryStackTraceData = getStackTraceForDetailsElement(trackEntryDetails);\n      assert.exists(trackEntryStackTraceData);\n      assert.deepEqual(trackEntryStackTraceData, [\n        `${function2.callFrame.functionName} @ `,\n        `${function1.callFrame.functionName} @ `,\n      ]);\n    });\n    it('renders the warning for a trace event in its details', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n\n      const events = parsedTrace.Renderer.allTraceEntries;\n      const longTask = events.find(e => (e.dur || 0) > 1_000_000);\n      if (!longTask) {\n        throw new Error('Could not find Long Task event.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          longTask,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Warning',\n              value: 'Long task took 1.30\\u00A0s.',\n            },\n            {title: 'Duration', value: '1.30\\xA0s (self 47\\xA0μs)'},\n          ],\n      );\n    });\n\n    it('shows information for the WebSocketCreate initiator when viewing a WebSocketSendHandshakeRequest event',\n       async function() {\n         const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-sockets.json.gz');\n         TraceLoader.initTraceBoundsManager(parsedTrace);\n\n         const sendHandshake =\n             parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isWebSocketSendHandshakeRequest);\n         if (!sendHandshake) {\n           throw new Error('Could not find handshake event.');\n         }\n\n         const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n             parsedTrace,\n             sendHandshake,\n             new Components.Linkifier.Linkifier(),\n             false,\n             null,\n         );\n         const rowData = getRowDataForDetailsElement(details);\n         const expectedRowData = [\n           {title: 'URL', value: 'wss://socketsbay.com/wss/v2/1/demo/'},\n           // The 'First Invalidated' Stack trace\n           {title: undefined, value: 'connect @ socketsbay.com/test-websockets:314:25'},\n           {title: 'Initiated by', value: 'Create WebSocket'},\n           {title: 'Pending for', value: '72.0 ms'},\n         ];\n         assert.deepEqual(\n             rowData,\n             expectedRowData,\n         );\n       });\n\n    it('shows information for the events initiated by WebSocketCreate when viewing a WebSocketCreate event',\n       async function() {\n         const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-sockets.json.gz');\n         TraceLoader.initTraceBoundsManager(parsedTrace);\n\n         const sendHandshake = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isWebSocketCreate);\n         if (!sendHandshake) {\n           throw new Error('Could not find handshake event.');\n         }\n\n         const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n             parsedTrace,\n             sendHandshake,\n             new Components.Linkifier.Linkifier(),\n             false,\n             null,\n         );\n         const rowData = getRowDataForDetailsElement(details);\n         const expectedRowData = [\n           {title: 'URL', value: 'wss://socketsbay.com/wss/v2/1/demo/'},\n           // The initiator stack trace\n           {title: undefined, value: 'connect @ socketsbay.com/test-websockets:314:25'},\n           // The 2 entries under \"Initiator for\" are displayed as seperate links and in the UI it is obvious they are seperate\n           {title: 'Initiator for', value: 'Send WebSocket handshake Receive WebSocket handshake'},\n         ];\n         assert.deepEqual(\n             rowData,\n             expectedRowData,\n         );\n       });\n\n    it('shows the aggregated time information for an event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const event = parsedTrace.Renderer.allTraceEntries.find(e => e.ts === 1020034919877 && e.name === 'RunTask');\n      if (!event) {\n        throw new Error('Could not find renderer events');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          event,\n          new Components.Linkifier.Linkifier(),\n          true,\n          null,\n      );\n      const pieChartData = getPieChartDataForDetailsElement(details);\n\n      const expectedPieChartData = [\n        {title: 'System (self)', value: '2\\u00A0ms'},\n        {title: 'System (children)', value: '2\\u00A0ms'},\n        {title: 'Rendering', value: '28\\u00A0ms'},\n        {title: 'Painting', value: '2\\u00A0ms'},\n        {title: 'Total', value: '34\\u00A0ms'},\n      ];\n      assert.deepEqual(\n          pieChartData,\n          expectedPieChartData,\n      );\n    });\n\n    it('renders details for synthetic server timings', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'server-timings.json.gz');\n      const serverTimings = parsedTrace.ServerTimings.serverTimings;\n      const serverTiming = serverTimings[0];\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          serverTiming,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {title: 'Duration', value: '1.00\\xA0s'},\n        {\n          title: 'Description',\n          value: 'Description of top level task 1',\n        },\n      ]);\n    });\n\n    it('renders details for SchedulePostTaskCallback events', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'scheduler-post-task.json.gz');\n\n      const scheduleEvent = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isSchedulePostTaskCallback);\n      assert(scheduleEvent, 'Could not find SchedulePostTaskCallback event');\n      const scheduleDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          scheduleEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(scheduleDetails);\n      assert.deepEqual(rowData, [\n        {title: 'Delay', value: '200\\xA0ms'},\n        {title: 'Priority', value: 'user-visible'},\n        {\n          title: undefined,\n          value: '(anonymous) @ localhost:8787/scheduler/app.js:49:18',\n        },\n        {title: 'Initiator for', value: 'Fire postTask'},\n      ]);\n    });\n\n    it('renders details for RunPostTaskCallback events', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'scheduler-post-task.json.gz');\n\n      const runEvent = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isRunPostTaskCallback);\n      assert(runEvent, 'Could not find RunPostTaskCallback event');\n      const runDetails = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          runEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const rowData = getRowDataForDetailsElement(runDetails);\n      assert.deepEqual(rowData, [\n        {title: 'Duration', value: '161.18\\xA0ms (self 63\\xA0μs)'},\n        {title: 'Delay', value: '200\\xA0ms'},\n        {title: 'Priority', value: 'user-visible'},\n        {\n          title: undefined,\n          value: '(anonymous) @ localhost:8787/scheduler/app.js:49:18',\n        },\n        {title: 'Initiated by', value: 'Schedule postTask'},\n        {title: 'Pending for', value: '200.1\\xA0ms'},\n      ]);\n    });\n    it('renders the stack trace of a profile call event', async function() {\n      // uses source maps\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'async-js-calls.json.gz');\n      const jsCall = parsedTrace.Renderer.allTraceEntries.find(\n          e => Trace.Types.Events.isProfileCall(e) && e.callFrame.functionName === 'baz');\n      assert.exists(jsCall);\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          parsedTrace,\n          jsCall,\n          new Components.Linkifier.Linkifier(),\n          false,\n          null,\n      );\n      const container = document.createElement('div');\n      renderElementIntoDOM(container);\n      container.appendChild(details);\n      const stackTraceContainer = container.querySelector('.stack-preview-container');\n      const stackTracesElements =\n          stackTraceContainer?.shadowRoot?.querySelector('.stack-preview-container')?.querySelectorAll('tbody');\n      assert.exists(stackTracesElements);\n      const testData = [...stackTracesElements].map(stackTraceElement => {\n        const description = stackTraceElement.querySelector<HTMLTableRowElement>('.stack-preview-async-row');\n        const stackFrameElements =\n            stackTraceElement.querySelectorAll<HTMLTableRowElement>('tr:not(.stack-preview-async-row)');\n        const stackFrames = [...stackFrameElements].map(frame => frame.innerText);\n        return {description: description?.innerText || '', stackFrames};\n      });\n      assert.deepEqual(\n          testData,\n          [\n            {description: '', stackFrames: ['\\tbaz\\t@\\tunknown']},\n            {description: '\\trequestIdleCallback\\t\\t', stackFrames: ['\\tbar\\t@\\tunknown']},\n            {description: '\\tsetTimeout\\t\\t', stackFrames: ['\\tfoo\\t@\\tunknown']},\n            {\n              description: '\\trequestAnimationFrame\\t\\t',\n              stackFrames: ['\\tstartExample\\t@\\tunknown', '\\t(anonymous)\\t@\\tunknown'],\n            },\n          ],\n      );\n    });\n  });\n\n  it('renders 3p details for profile call properly', async function() {\n    const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n    const entityMapper = new Timeline.Utils.EntityMapper.EntityMapper(parsedTrace);\n    const jsCall = parsedTrace.Renderer.allTraceEntries.find(\n        e => Trace.Types.Events.isProfileCall(e) && e.callFrame.functionName === 'z');\n    assert.exists(jsCall);\n\n    const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n        parsedTrace,\n        jsCall,\n        new Components.Linkifier.Linkifier(),\n        true,\n        entityMapper,\n    );\n\n    const rowData = getRowDataForDetailsElement(details).find(row => row.title?.startsWith('Origin'));\n    assert.deepEqual(rowData, {\n      title: 'Origin',\n      value: 'www.google-analytics.com (Google Analytics)',\n    });\n  });\n\n  it('can generate details for a frame with the old screenshots format', async function() {\n    const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n    const frame = parsedTrace.Frames.frames.at(0);\n    if (!frame) {\n      throw new Error('Could not find expected frame');\n    }\n    const filmStrip = Trace.Extras.FilmStrip.fromParsedTrace(parsedTrace);\n    const details =\n        Timeline.TimelineUIUtils.TimelineUIUtils.generateDetailsContentForFrame(frame, filmStrip, filmStrip.frames[0]);\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    container.appendChild(details);\n    // Give the image element time to render and load.\n    await doubleRaf();\n    const img = container.querySelector<HTMLImageElement>('.timeline-filmstrip-preview img');\n    assert.isOk(img);\n    const filmStripFrame = filmStrip.frames[0];\n    assert.isTrue(\n        Trace.Types.Events.isLegacySyntheticScreenshot(filmStripFrame.screenshotEvent) &&\n        img.currentSrc.includes(filmStripFrame.screenshotEvent.args.dataUri));\n\n    const durationRow = container.querySelector<HTMLElement>('[data-row-title=\"Duration\"]');\n    const durationValue = durationRow?.querySelector<HTMLSpanElement>('.timeline-details-view-row-value span');\n    if (!durationValue) {\n      throw new Error('Could not find duration');\n    }\n    // Strip the unicode spaces out and replace with simple spaces for easy\n    // assertions.\n    const value = (durationValue.innerText.replaceAll(/\\s/g, ' '));\n    assert.strictEqual(value, '37.85 ms (at 109.82 ms)');\n  });\n\n  it('can generate details for a frame with the new screenshots format', async function() {\n    const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-screenshot-source-ids.json.gz');\n    const frame = parsedTrace.Frames.frames.at(0);\n    if (!frame) {\n      throw new Error('Could not find expected frame');\n    }\n    const filmStrip = Trace.Extras.FilmStrip.fromParsedTrace(parsedTrace);\n    const details =\n        Timeline.TimelineUIUtils.TimelineUIUtils.generateDetailsContentForFrame(frame, filmStrip, filmStrip.frames[0]);\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    container.appendChild(details);\n    // Give the image element time to render and load.\n    await doubleRaf();\n    const img = container.querySelector<HTMLImageElement>('.timeline-filmstrip-preview img');\n    assert.isOk(img);\n    const filmStripFrame = filmStrip.frames[0];\n    assert.isTrue(\n        Trace.Types.Events.isScreenshot(filmStripFrame.screenshotEvent) &&\n        img.currentSrc.includes(\n            Trace.Handlers.ModelHandlers.Screenshots.screenshotImageDataUri(filmStripFrame.screenshotEvent)));\n\n    const durationRow = container.querySelector<HTMLElement>('[data-row-title=\"Duration\"]');\n    const durationValue = durationRow?.querySelector<HTMLSpanElement>('.timeline-details-view-row-value span');\n    if (!durationValue) {\n      throw new Error('Could not find duration');\n    }\n    // Strip the unicode spaces out and replace with simple spaces for easy\n    // assertions.\n    const value = (durationValue.innerText.replaceAll(/\\s/g, ' '));\n    assert.strictEqual(value, '208.33 ms (at 1.53 s)');\n  });\n\n  describe('eventTitle', function() {\n    it('renders the correct title for an EventTiming interaction event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'slow-interaction-button-click.json.gz');\n      const interactionEvent = parsedTrace.UserInteractions.interactionEventsWithNoNesting[0];\n      const details = Timeline.TimelineUIUtils.TimelineUIUtils.eventTitle(interactionEvent);\n      assert.deepEqual(details, 'Pointer');\n    });\n\n    it('will use the resolved function name for a profile node that has a sourcemap', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'slow-interaction-button-click.json.gz');\n\n      const mainThread = getMainThread(parsedTrace.Renderer);\n      const profileEntry = mainThread.entries.find(entry => {\n        return Trace.Types.Events.isProfileCall(entry);\n      });\n      if (!profileEntry || !Trace.Types.Events.isProfileCall(profileEntry)) {\n        throw new Error('Could not find a profile entry');\n      }\n\n      // Fake that we resolved the entry's name from a sourcemap.\n      Timeline.Utils.SourceMapsResolver.SourceMapsResolver.storeResolvedCodeDataForCallFrame(\n          profileEntry.callFrame, {name: 'resolved-function-test', devtoolsLocation: null, script: null});\n\n      const title = Timeline.TimelineUIUtils.TimelineUIUtils.eventTitle(profileEntry);\n      assert.strictEqual(title, 'resolved-function-test');\n    });\n  });\n\n  describe('eventStyle', function() {\n    it('returns the correct style for profile calls', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n      const rendererHandler = parsedTrace.Renderer;\n      if (!rendererHandler) {\n        throw new Error('RendererHandler is undefined');\n      }\n      const [process] = rendererHandler.processes.values();\n      const [thread] = process.threads.values();\n      const profileCalls = thread.entries.filter(entry => Trace.Types.Events.isProfileCall(entry));\n      const style = Timeline.TimelineUIUtils.TimelineUIUtils.eventStyle(profileCalls[0]);\n      assert.strictEqual(style.category.name, 'scripting');\n      assert.strictEqual(style.category.color, 'rgb(250 204 21 / 100%)');\n    });\n  });\n\n  describe('statsForTimeRange', () => {\n    it('correctly aggregates up stats', async () => {\n      const mainThread = Trace.Types.Events.ThreadID(1);\n      const pid = Trace.Types.Events.ProcessID(100);\n      function microsec(x: number): Trace.Types.Timing.Micro {\n        return Trace.Types.Timing.Micro(x);\n      }\n\n      const events: Trace.Types.Events.Event[] = [\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'TracingStartedInBrowser',\n          ph: Trace.Types.Events.Phase.INSTANT,\n          pid,\n          tid: mainThread,\n          ts: microsec(100),\n          args: {\n            data: {\n              frames: [\n                {frame: 'frame1', url: 'frameurl', name: 'frame-name'},\n              ],\n            },\n          },\n        } as Trace.Types.Events.TracingStartedInBrowser,\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'SetLayerTreeId',\n          ph: Trace.Types.Events.Phase.INSTANT,\n          pid,\n          tid: mainThread,\n          ts: microsec(101),\n          args: {data: {frame: 'frame1', layerTreeId: 17}},\n        } as Trace.Types.Events.SetLayerTreeId,\n        {\n          cat: 'toplevel',\n          name: 'Program',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(100000),\n          dur: microsec(3000),\n          tid: mainThread,\n          pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'FunctionCall',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(100500),\n          dur: microsec(1500),\n          tid: mainThread,\n          pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'Layout',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(101000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid,\n          args: {\n            beginData: {\n              frame: 'FAKE_FRAME_ID',\n              dirtyObjects: 0,\n              partialLayout: false,\n              totalObjects: 1,\n            },\n            endData: {layoutRoots: []},\n          },\n        } as Trace.Types.Events.Layout,\n\n        {\n          cat: 'toplevel',\n          name: 'Program',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(104000),\n          dur: microsec(4000),\n          tid: mainThread,\n          pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'FunctionCall',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(104000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'CommitLoad',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(105000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'Layout',\n          ph: Trace.Types.Events.Phase.COMPLETE,\n          ts: microsec(107000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid,\n          args: {\n            beginData: {\n              frame: 'FAKE_FRAME_ID',\n              dirtyObjects: 0,\n              partialLayout: false,\n              totalObjects: 1,\n            },\n            endData: {layoutRoots: []},\n          },\n        } as Trace.Types.Events.Layout,\n      ];\n\n      const rangeStats101To103 = Timeline.TimelineUIUtils.TimelineUIUtils.statsForTimeRange(\n          events,\n          Trace.Types.Timing.Milli(101),\n          Trace.Types.Timing.Milli(103),\n      );\n      assert.deepEqual(rangeStats101To103, {\n        other: 1,\n        rendering: 1,\n        scripting: 0,\n        idle: 0,\n      });\n      const rangeStats104To109 = Timeline.TimelineUIUtils.TimelineUIUtils.statsForTimeRange(\n          events,\n          Trace.Types.Timing.Milli(104),\n          Trace.Types.Timing.Milli(109),\n      );\n      assert.deepEqual(rangeStats104To109, {\n        other: 2,\n        rendering: 1,\n        scripting: 1,\n        idle: 1,\n      });\n    });\n  });\n\n  describe('isMarkerEvent', () => {\n    it('is true for a timestamp event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const timestamp = parsedTrace.Renderer.allTraceEntries.find(Trace.Types.Events.isConsoleTimeStamp);\n      assert.isOk(timestamp);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, timestamp));\n    });\n\n    it('is true for a Mark First Paint event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFirstPaint = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isFirstPaint);\n      assert.isOk(markFirstPaint);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, markFirstPaint));\n    });\n\n    it('is true for a Mark FCP event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFCPEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isFirstContentfulPaint);\n      assert.isOk(markFCPEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, markFCPEvent));\n    });\n\n    it('is false for a Mark FCP event not on the main frame', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFCPEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isFirstContentfulPaint);\n      assert.isOk(markFCPEvent);\n      assert.isOk(markFCPEvent.args);\n      // Now make a copy (so we do not mutate any data) and pretend it is not on the main frame.\n      const copyOfEvent = {...markFCPEvent, args: {...markFCPEvent.args}};\n      copyOfEvent.args.frame = 'not-the-main-frame';\n      assert.isFalse(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, copyOfEvent));\n    });\n\n    it('is true for a MarkDOMContent event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markDOMContentEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isMarkDOMContent);\n      assert.isOk(markDOMContentEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, markDOMContentEvent));\n    });\n\n    it('is true for a MarkLoad event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markLoadEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isMarkLoad);\n      assert.isOk(markLoadEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, markLoadEvent));\n    });\n\n    it('is true for a LCP candiadate event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markLCPCandidate =\n          parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isLargestContentfulPaintCandidate);\n      assert.isOk(markLCPCandidate);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, markLCPCandidate));\n    });\n\n    it('is false for a MarkDOMContent event not on outermost main frame', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markDOMContentEvent = parsedTrace.PageLoadMetrics.allMarkerEvents.find(Trace.Types.Events.isMarkDOMContent);\n      assert.isOk(markDOMContentEvent);\n      assert.isOk(markDOMContentEvent.args);\n      assert.isOk(markDOMContentEvent.args.data);\n\n      const copyOfEventNotOutermostFrame = {\n        ...markDOMContentEvent,\n        args: {\n          ...markDOMContentEvent.args,\n          data: {\n            ...markDOMContentEvent.args.data,\n            isOutermostMainFrame: false,\n          },\n        },\n\n      };\n      assert.isFalse(Timeline.TimelineUIUtils.isMarkerEvent(parsedTrace, copyOfEventNotOutermostFrame));\n    });\n  });\n\n  describe('displayNameForFrame', () => {\n    it('trims the URL at 80 chars by default', async () => {\n      const frame: Trace.Types.Events.TraceFrame = {\n        name: 'test-frame',\n        url: 'https://' +\n            'a'.repeat(80),\n        frame: 'frame-id',\n        processId: Trace.Types.Events.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame);\n      assert.strictEqual(name, `https://${'a'.repeat(72) /* 80 minus the 8 chars for 'https://' */}`);\n      assert.lengthOf(name, 80);\n    });\n\n    it('uses the frame name if the URL is about:', async () => {\n      const frame: Trace.Types.Events.TraceFrame = {\n        name: 'test-frame',\n        url: 'about:blank',\n        frame: 'frame-id',\n        processId: Trace.Types.Events.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame);\n      assert.strictEqual(name, '\"test-frame\"');\n    });\n\n    it('trims the frame name from the middle if it is too long', async () => {\n      const frame: Trace.Types.Events.TraceFrame = {\n        name: 'test-frame-that-is-long',\n        url: 'about:blank',\n        frame: 'frame-id',\n        processId: Trace.Types.Events.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame, 10);\n      assert.strictEqual(name, '\"test-…long\"');\n    });\n  });\n\n  describe('buildDetailsNodeForMarkerEvents', () => {\n    it('builds the right link for an LCP Event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markLCPEvent = getEventOfType(\n          parsedTrace.PageLoadMetrics.allMarkerEvents, Trace.Types.Events.isLargestContentfulPaintCandidate);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markLCPEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/lcp/');\n      assert.strictEqual(html.innerText, 'Learn more about largest contentful paint.');\n    });\n\n    it('builds the right link for an FCP Event', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markFCPEvent =\n          getEventOfType(parsedTrace.PageLoadMetrics.allMarkerEvents, Trace.Types.Events.isFirstContentfulPaint);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markFCPEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/first-contentful-paint/');\n      assert.strictEqual(html.innerText, 'Learn more about first contentful paint.');\n    });\n\n    it('builds a generic event for other marker events', async function() {\n      const {parsedTrace} = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markLoadEvent = getEventOfType(parsedTrace.PageLoadMetrics.allMarkerEvents, Trace.Types.Events.isMarkLoad);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markLoadEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/user-centric-performance-metrics/');\n      assert.strictEqual(html.innerText, 'Learn more about page performance metrics.');\n    });\n  });\n});\n"]}