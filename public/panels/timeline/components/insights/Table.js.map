{"version":3,"file":"Table.js","sourceRoot":"","sources":["../../../../../../../../front_end/panels/timeline/components/insights/Table.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,gBAAgB,MAAM,8CAA8C,CAAC;AACjF,OAAO,KAAK,OAAO,MAAM,qCAAqC,CAAC;AAE/D,OAAO,WAAW,MAAM,gBAAgB,CAAC;AAQzC,MAAM,OAAO,KAAM,SAAQ,WAAW;IACpC,MAAM,CAAU,UAAU,GAAG,OAAO,CAAC,OAAO,CAAA,4BAA4B,CAAC;IAEhE,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAC5C,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,QAAQ,CAAY;IACpB,KAAK,CAA+B;IAEpC,IAAI,IAAI,CAAC,IAAe;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,KAAK,gBAAgB,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAChF,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,OAAO;QACX,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAClC,OAAO;QACT,CAAC;QAED,OAAO,CAAC,MAAM,CACV,OAAO,CAAC,IAAI,CAAA;;;YAGR,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAA,mBAAmB,CAAC,OAAO,CAAC;;;;YAI/D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;YACvB,MAAM,OAAO,GAAG,GAAG,CAAC,GAAG,CACnB,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAA,mBAAmB,KAAK,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAA,OAAO,KAAK,OAAO,CAAC,CAAC;YAC3G,OAAO,OAAO,CAAC,IAAI,CAAA,OAAO,OAAO,OAAO,CAAC;QAC3C,CAAC,CAAC;;aAEG,EACL,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;IAClC,CAAC;;AASH,cAAc,CAAC,MAAM,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ComponentHelpers from '../../../../ui/components/helpers/helpers.js';\nimport * as LitHtml from '../../../../ui/lit-html/lit-html.js';\n\nimport tableStyles from './table.css.js';\n\nexport interface TableData {\n  headers: string[];\n  /** Each row is a tuple of values. */\n  rows: Array<Array<string|number>>;\n}\n\nexport class Table extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-performance-table`;\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #boundRender = this.#render.bind(this);\n  #headers?: string[];\n  #rows?: Array<Array<string|number>>;\n\n  set data(data: TableData) {\n    this.#headers = data.headers;\n    this.#rows = data.rows;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#boundRender);\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets.push(tableStyles);\n  }\n\n  async #render(): Promise<void> {\n    if (!this.#headers || !this.#rows) {\n      return;\n    }\n\n    LitHtml.render(\n        LitHtml.html`<table>\n        <thead>\n          <tr>\n          ${this.#headers.map(h => LitHtml.html`<th scope=\"col\">${h}</th>`)}\n          </tr>\n        </thead>\n        <tbody>\n          ${this.#rows.map(row => {\n          const rowsEls = row.map(\n              (value, i) => i === 0 ? LitHtml.html`<th scope=\"row\">${value}</th>` : LitHtml.html`<td>${value}</td>`);\n          return LitHtml.html`<tr>${rowsEls}</tr>`;\n        })}\n        </tbody>\n      </div>`,\n        this.#shadow, {host: this});\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-performance-table': Table;\n  }\n}\n\ncustomElements.define('devtools-performance-table', Table);\n"]}