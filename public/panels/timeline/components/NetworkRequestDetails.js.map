{"version":3,"file":"NetworkRequestDetails.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/timeline/components/NetworkRequestDetails.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport type * as SDK from '../../../core/sdk/sdk.js';\nimport * as TraceEngine from '../../../models/trace/trace.js';\nimport * as PerfUI from '../../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as LegacyComponents from '../../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as TimelineUtils from '../utils/utils.js';\n\nimport NetworkRequestDetailsStyles from './networkRequestDetails.css.js';\nimport {colorForNetworkRequest} from './Utils.js';\n\nconst MAX_URL_LENGTH = 80;\n\nconst UIStrings = {\n  /**\n   *@description Text that refers to updated priority of network request\n   */\n  initialPriority: 'Initial Priority',\n  /**\n   *@description Text that refers to the network request method\n   */\n  requestMethod: 'Request Method',\n  /**\n   *@description Text to show the priority of an item\n   */\n  priority: 'Priority',\n  /**\n   *@description Text used when referring to the data sent in a network request that is encoded as a particular file format.\n   */\n  encodedData: 'Encoded Data',\n  /**\n   *@description Text used to refer to the data sent in a network request that has been decoded.\n   */\n  decodedBody: 'Decoded Body',\n  /**\n   *@description Text in Timeline indicating that input has happened recently\n   */\n  yes: 'Yes',\n  /**\n   *@description Text in Timeline indicating that input has not happened recently\n   */\n  no: 'No',\n  /**\n   *@description Text for previewing items\n   */\n  preview: 'Preview',\n  /**\n   *@description Text to indicate to the user they are viewing an event representing a network request.\n   */\n  networkRequest: 'Network request',\n  /**\n   *@description Text for the duration of something\n   */\n  duration: 'Duration',\n  /**\n   *@description Text for the data source of a network request.\n   */\n  fromCache: 'From cache',\n  /**\n   *@description Text used to show the mime-type of the data transferred with a network request (e.g. \"application/json\").\n   */\n  mimeType: 'Mime Type',\n  /**\n   *@description Text used to show the user that a request was served from the browser's in-memory cache.\n   */\n  FromMemoryCache: ' (from memory cache)',\n  /**\n   *@description Text used to show the user that a request was served from the browser's file cache.\n   */\n  FromCache: ' (from cache)',\n  /**\n   *@description Label for a network request indicating that it was a HTTP2 server push instead of a regular network request, in the Performance panel\n   */\n  FromPush: ' (from push)',\n  /**\n   *@description Text used to show a user that a request was served from an installed, active service worker.\n   */\n  FromServiceWorker: ' (from `service worker`)',\n  /**\n   *@description Text for the event initiated by another one\n   */\n  initiatedBy: 'Initiated by',\n  /**\n   *@description Text that refers to the queueing and connecting time of a network request\n   */\n  queuingAndConnecting: 'Queuing and connecting',\n  /**\n   *@description Text that refers to the request sent and waiting time of a network request\n   */\n  requestSentAndWaiting: 'Request sent and waiting',\n  /**\n   *@description Text that refers to the content downloading time of a network request\n   */\n  contentDownloading: 'Content downloading',\n  /**\n   *@description Text that refers to the waiting on main thread time of a network request\n   */\n  waitingOnMainThread: 'Waiting on main thread',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/timeline/components/NetworkRequestDetails.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class NetworkRequestDetails extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-performance-network-request-details`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n\n  #networkRequest: TraceEngine.Types.TraceEvents.SyntheticNetworkRequest|null = null;\n  #maybeTarget: SDK.Target.Target|null = null;\n  #requestPreviewElements = new WeakMap<TraceEngine.Types.TraceEvents.SyntheticNetworkRequest, HTMLImageElement>();\n  #linkifier: LegacyComponents.Linkifier.Linkifier;\n  constructor(linkifier: LegacyComponents.Linkifier.Linkifier) {\n    super();\n    this.#linkifier = linkifier;\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [NetworkRequestDetailsStyles];\n  }\n\n  async setData(\n      networkRequest: TraceEngine.Types.TraceEvents.SyntheticNetworkRequest,\n      maybeTarget: SDK.Target.Target|null): Promise<void> {\n    if (this.#networkRequest === networkRequest) {\n      return;\n    }\n    this.#networkRequest = networkRequest;\n    this.#maybeTarget = maybeTarget;\n    await this.#render();\n  }\n\n  #renderTitle(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    const style = {\n      backgroundColor: `${colorForNetworkRequest(this.#networkRequest)}`,\n    };\n    return LitHtml.html`\n      <div class=\"network-request-details-title\">\n        <div style=${LitHtml.Directives.styleMap(style)}\"></div>\n        ${i18nString(UIStrings.networkRequest)}\n      </div>\n    `;\n  }\n\n  #renderRow(title: string, value?: string|Node|LitHtml.TemplateResult): LitHtml.TemplateResult|null {\n    if (!value) {\n      return null;\n    }\n    return LitHtml.html`\n      <div class=\"network-request-details-row\"><div class=\"title\">${title}</div><div class=\"value\">${value}</div></div>\n    `;\n  }\n\n  #renderURL(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    const options: LegacyComponents.Linkifier.LinkifyURLOptions = {\n      tabStop: true,\n      showColumnNumber: false,\n      inlineFrameIndex: 0,\n      maxLength: MAX_URL_LENGTH,\n    };\n    const linkifiedURL = LegacyComponents.Linkifier.Linkifier.linkifyURL(\n        this.#networkRequest.args.data.url as Platform.DevToolsPath.UrlString, options);\n    linkifiedURL.addEventListener('contextmenu', (event: MouseEvent) => {\n      if (!this.#networkRequest) {\n        return;\n      }\n      // Add a wrapper class here. The reason is the `Reveal in Network panel` option is handled by the context menu\n      // provider, which will add this option for all supporting types. And there are a lot of context menu providers that\n      // support `SDK.NetworkRequest.NetworkRequest`, for example `Override content` by PersistenceActions, but we so far\n      // just want the one to reveal in network panel, so add a new class which will only be supported by Network panel.\n      const request = new TimelineUtils.NetworkRequest.TimelineNetworkRequest(this.#networkRequest);\n      const contextMenu = new UI.ContextMenu.ContextMenu(event, {useSoftMenu: true});\n      contextMenu.appendApplicableItems(request);\n      void contextMenu.show();\n    });\n    return this.#renderRow(i18n.i18n.lockedString('URL'), linkifiedURL);\n  }\n\n  #renderFromCache(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    const cached = this.#networkRequest.args.data.syntheticData.isMemoryCached ||\n        this.#networkRequest.args.data.syntheticData.isDiskCached;\n    return this.#renderRow(\n        i18nString(UIStrings.fromCache), cached ? i18nString(UIStrings.yes) : i18nString(UIStrings.no));\n  }\n\n  #renderDuration(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    const fullDuration = this.#networkRequest.dur;\n    if (!isFinite(fullDuration)) {\n      return null;\n    }\n    const durationValue = i18n.TimeUtilities.formatMicroSecondsTime(fullDuration);\n    const durationElement = LitHtml.html`\n      <div>\n        ${durationValue}\n        ${this.#renderTimings()}\n      </div>\n    `;\n\n    return this.#renderRow(i18nString(UIStrings.duration), durationElement);\n  }\n\n  #renderEncodedDataLength(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    let lengthText = '';\n    if (this.#networkRequest.args.data.syntheticData.isMemoryCached) {\n      lengthText += i18nString(UIStrings.FromMemoryCache);\n    } else if (this.#networkRequest.args.data.syntheticData.isDiskCached) {\n      lengthText += i18nString(UIStrings.FromCache);\n    } else if (this.#networkRequest.args.data.timing?.pushStart) {\n      lengthText += i18nString(UIStrings.FromPush);\n    }\n    if (this.#networkRequest.args.data.fromServiceWorker) {\n      lengthText += i18nString(UIStrings.FromServiceWorker);\n    }\n    if (this.#networkRequest.args.data.encodedDataLength || !lengthText) {\n      lengthText =\n          `${Platform.NumberUtilities.bytesToString(this.#networkRequest.args.data.encodedDataLength)}${lengthText}`;\n    }\n    return this.#renderRow(i18nString(UIStrings.encodedData), lengthText);\n  }\n\n  #renderInitiatedBy(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n\n    const topFrame = TraceEngine.Helpers.Trace.getZeroIndexedStackTraceForEvent(this.#networkRequest)?.at(0) ?? null;\n    if (topFrame) {\n      const link = this.#linkifier.maybeLinkifyConsoleCallFrame(\n          this.#maybeTarget, topFrame, {tabStop: true, inlineFrameIndex: 0, showColumnNumber: true});\n      if (link) {\n        return this.#renderRow(i18nString(UIStrings.initiatedBy), link);\n      }\n    }\n    return null;\n  }\n\n  async #renderPreviewElement(): Promise<LitHtml.TemplateResult|null> {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    if (!this.#requestPreviewElements.get(this.#networkRequest) && this.#networkRequest.args.data.url &&\n        this.#maybeTarget) {\n      const previewElement =\n          (await LegacyComponents.ImagePreview.ImagePreview.build(\n               this.#maybeTarget, this.#networkRequest.args.data.url as Platform.DevToolsPath.UrlString, false, {\n                 imageAltText: LegacyComponents.ImagePreview.ImagePreview.defaultAltTextForImageURL(\n                     this.#networkRequest.args.data.url as Platform.DevToolsPath.UrlString),\n                 precomputedFeatures: undefined,\n               }) as HTMLImageElement);\n\n      this.#requestPreviewElements.set(this.#networkRequest, previewElement);\n    }\n\n    const requestPreviewElement = this.#requestPreviewElements.get(this.#networkRequest);\n    if (requestPreviewElement) {\n      return this.#renderRow(i18nString(UIStrings.preview), requestPreviewElement);\n    }\n    return null;\n  }\n\n  #renderLeftWhisker(): LitHtml.TemplateResult {\n    // So the outside span will be a transparent rectangle with a left border.\n    // The inside span is just a rectangle with background color, and it is vertical centered.\n    // |\n    // |----\n    // |\n    return LitHtml.html`<span class=\"whisker-left\"> <span class=\"horizontal\"></span> </span>`;\n  }\n\n  #renderRightWhisker(): LitHtml.TemplateResult {\n    // So the outside span will be a transparent rectangle with a right border.\n    // The inside span is just a rectangle with background color, and it is vertical centered.\n    //      |\n    //  ----|\n    //      |\n    return LitHtml.html`<span class=\"whisker-right\"> <span class=\"horizontal\"></span> </span>`;\n  }\n\n  #renderTimings(): LitHtml.TemplateResult|null {\n    if (!this.#networkRequest) {\n      return null;\n    }\n    const syntheticData = this.#networkRequest.args.data.syntheticData;\n    const queueing = (syntheticData.sendStartTime - this.#networkRequest.ts) as TraceEngine.Types.Timing.MicroSeconds;\n    const requestPlusWaiting =\n        (syntheticData.downloadStart - syntheticData.sendStartTime) as TraceEngine.Types.Timing.MicroSeconds;\n    const download = (syntheticData.finishTime - syntheticData.downloadStart) as TraceEngine.Types.Timing.MicroSeconds;\n    const waitingOnMainThread = (this.#networkRequest.ts + this.#networkRequest.dur - syntheticData.finishTime) as\n        TraceEngine.Types.Timing.MicroSeconds;\n\n    const color = colorForNetworkRequest(this.#networkRequest);\n    const styleForWaiting = {\n      backgroundColor: `color-mix(in srgb, ${color}, hsla(0, 100%, 100%, 0.8))`,\n    };\n    const styleForDownloading = {\n      backgroundColor: color,\n    };\n\n    return LitHtml.html`\n      <div class=\"timings-row\">\n        ${this.#renderLeftWhisker()}\n        ${i18nString(UIStrings.queuingAndConnecting)}\n        <span class=\"time\">${i18n.TimeUtilities.formatMicroSecondsTime(queueing)}</span>\n      </div>\n      <div class=\"timings-row\">\n        <span class=\"indicator\" style=${LitHtml.Directives.styleMap(styleForWaiting)}></span>\n        ${i18nString(UIStrings.requestSentAndWaiting)}\n        <span class=\"time\">${i18n.TimeUtilities.formatMicroSecondsTime(requestPlusWaiting)}</span>\n      </div>\n      <div class=\"timings-row\">\n        <span class=\"indicator\" style=${LitHtml.Directives.styleMap(styleForDownloading)}></span>\n        ${i18nString(UIStrings.contentDownloading)}\n        <span class=\"time\">${i18n.TimeUtilities.formatMicroSecondsTime(download)}</span>\n      </div>\n      <div class=\"timings-row\">\n        ${this.#renderRightWhisker()}\n        ${i18nString(UIStrings.waitingOnMainThread)}\n        <span class=\"time\">${i18n.TimeUtilities.formatMicroSecondsTime(waitingOnMainThread)}</span>\n      </div>\n    `;\n  }\n\n  async #render(): Promise<void> {\n    if (!this.#networkRequest) {\n      return;\n    }\n    const networkData = this.#networkRequest.args.data;\n    // clang-format off\n    const output = LitHtml.html`\n      ${this.#renderTitle()}\n      <div class=\"network-request-details-body\">\n        <div class=\"network-request-details-col\">\n          ${this.#renderURL()}\n          ${this.#renderRow(i18nString(UIStrings.requestMethod), networkData.requestMethod)}\n          ${this.#renderRow(i18nString(UIStrings.initialPriority), PerfUI.NetworkPriorities.uiLabelForNetworkPriority(networkData.initialPriority))}\n          ${this.#renderRow(i18nString(UIStrings.priority), PerfUI.NetworkPriorities.uiLabelForNetworkPriority(networkData.priority))}\n          ${this.#renderRow(i18nString(UIStrings.mimeType), networkData.mimeType)}\n          ${this.#renderEncodedDataLength()}\n          ${this.#renderRow(i18nString(UIStrings.decodedBody), Platform.NumberUtilities.bytesToString(this.#networkRequest.args.data.decodedBodyLength))}\n          ${this.#renderInitiatedBy()}\n          ${await this.#renderPreviewElement()}\n        </div>\n        <div class=\"network-request-details-col\">\n          ${this.#renderFromCache()}\n          ${this.#renderDuration()}\n        </div>\n      </div>\n    `;\n    // clang-format on\n    LitHtml.render(output, this.#shadow, {host: this});\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-performance-network-request-details': NetworkRequestDetails;\n  }\n}\n\ncustomElements.define('devtools-performance-network-request-details', NetworkRequestDetails);\n"]}