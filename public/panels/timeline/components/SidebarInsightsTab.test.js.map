{"version":3,"file":"SidebarInsightsTab.test.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/timeline/components/SidebarInsightsTab.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AACpE,OAAO,EAAC,uBAAuB,EAAC,MAAM,wCAAwC,CAAC;AAC/E,OAAO,EAAC,WAAW,EAAC,MAAM,iCAAiC,CAAC;AAE5D,OAAO,KAAK,UAAU,MAAM,iBAAiB,CAAC;AAE9C,uBAAuB,CAAC,oBAAoB,EAAE,GAAG,EAAE;IACjD,EAAE,CAAC,0DAA0D,EAAE,KAAK;QAClE,MAAM,WAAW,GAAG,MAAM,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,8BAA8B,CAAC,CAAC;QAExF,MAAM,SAAS,GAAG,IAAI,UAAU,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC;QACzE,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;QACpC,MAAM,SAAS,CAAC,cAAc,CAAC;QAC/B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAE1C,MAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAc,mBAAmB,CAAC,CAAC;aACtF,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpD,MAAM,CAAC,SAAS,CAAC,cAAc,EAAE;YAC/B,yBAAyB;YACzB,yBAAyB;YACzB,yCAAyC;YACzC,mWAAmW;SACpW,CAAC,CAAC;QAEH,MAAM,mBAAmB,GACrB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAc,mBAAmB,CAAC,CAAC;aACtF,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrC,MAAM,CAAC,SAAS,CAAC,mBAAmB,EAAE;YACpC,GAAG;YACH,GAAG;YACH,mBAAmB;YACnB,6HAA6H;SAC9H,CAAC,CAAC;QAEH,MAAM,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;QACrF,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAE,+CAA+C;IAC5E,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {renderElementIntoDOM} from '../../../testing/DOMHelpers.js';\nimport {describeWithEnvironment} from '../../../testing/EnvironmentHelpers.js';\nimport {TraceLoader} from '../../../testing/TraceLoader.js';\n\nimport * as Components from './components.js';\n\ndescribeWithEnvironment('SidebarInsightsTab', () => {\n  it('renders a list of insights per navigation in the sidebar', async function() {\n    const parsedTrace = await TraceLoader.traceEngine(this, 'multiple-navigations.json.gz');\n\n    const component = new Components.SidebarInsightsTab.SidebarInsightsTab();\n    renderElementIntoDOM(component);\n    component.parsedTrace = parsedTrace;\n    await component.updateComplete;\n    assert.isOk(component.element.shadowRoot);\n\n    const navigationURLs = Array.from(component.element.shadowRoot.querySelectorAll<HTMLElement>('details > summary'))\n                               .map(elem => elem.title);\n    assert.deepEqual(navigationURLs, [\n      'https://www.google.com/',\n      'https://www.google.com/',\n      'https://www.google.com/imghp?hl=en&ogbl',\n      'https://www.google.com/search?q=dogs&hl=en&tbm=isch&source=hp&biw=738&bih=893&ei=_ER4YPD6D4zka4u2t8gM&oq=dogs&gs_lcp=CgNpbWcQAzICCAAyBQgAELEDMgUIABCxAzICCAAyBQgAELEDMgUIABCxAzIFCAAQsQMyAggAMgUIABCxAzIFCAAQsQM6CAgAELEDEIMBOgQIABADUI4QWOISYPsTaABwAHgAgAEiiAFxkgEBNJgBAKABAaoBC2d3cy13aXotaW1n&sclient=img&ved=0ahUKEwjw6IjVsoDwAhUM8hoKHQvbDckQ4dUDCAc&uact=5',\n    ]);\n\n    const navigationURLLabels =\n        Array.from(component.element.shadowRoot.querySelectorAll<HTMLElement>('details > summary'))\n            .map(elem => elem.innerText);\n    assert.deepEqual(navigationURLLabels, [\n      '/',\n      '/',\n      '/imghp?hl=en&ogbl',\n      '/search?q=dogs&hl=en&tbm=isch&source=hp&biw=738&bih=893&ei=_ER4YPD…&oq=dogs&gs_lcp=CgNpbWc…&sclient=img&ved=0ahUKEw…&uact=5',\n    ]);\n\n    const sets = component.element.shadowRoot.querySelectorAll('[data-insight-set-key]');\n    assert.lengthOf(sets, 4);  // same number of sets as there are navigations\n  });\n});\n"]}