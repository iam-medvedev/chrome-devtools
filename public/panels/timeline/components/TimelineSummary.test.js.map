{"version":3,"file":"TimelineSummary.test.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/timeline/components/TimelineSummary.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {describeWithMockConnection} from '../../../testing/MockConnection.js';\nimport {createViewFunctionStub, type ViewFunctionStub} from '../../../testing/ViewFunctionHelpers.js';\n\nimport * as TimelineComponents from './components.js';\n\ndescribeWithMockConnection('TimelineSummary', () => {\n  async function setupWidget(): Promise<{\n    widget: TimelineComponents.TimelineSummary.CategorySummary,\n    view: ViewFunctionStub<typeof TimelineComponents.TimelineSummary.CategorySummary>,\n  }> {\n    const view = createViewFunctionStub(TimelineComponents.TimelineSummary.CategorySummary);\n    const widget = new TimelineComponents.TimelineSummary.CategorySummary(view);\n    await view.nextInput;\n    return {widget, view};\n  }\n\n  it('correctly renders categories', async function() {\n    const categories: TimelineComponents.TimelineSummary.CategoryData[] = [\n      {title: 'System', value: 100, color: 'blue'},\n      {title: 'Scripting', value: 5, color: 'red'},\n      {title: 'Painting', value: 2, color: 'green'},\n      {title: 'Loading', value: 1, color: 'white'},\n      {title: 'Rendering', value: 0, color: 'black'},\n    ];\n\n    const {widget, view} = await setupWidget();\n    widget.rangeStart = 0;\n    widget.rangeEnd = 110;\n    widget.total = 110;\n    widget.categories = categories;\n    await view.nextInput;\n\n    assert.deepEqual(view.input.categories, categories);\n    assert.deepEqual(view.input.total, 110);\n    assert.deepEqual(view.input.rangeStart, 0);\n    assert.deepEqual(view.input.rangeEnd, 110);\n  });\n  it('no categories should just render Total', async function() {\n    const categories: TimelineComponents.TimelineSummary.CategoryData[] = [];\n\n    const {widget, view} = await setupWidget();\n    widget.rangeStart = 0;\n    widget.rangeEnd = 110;\n    widget.total = 110;\n    widget.categories = categories;\n    await view.nextInput;\n\n    assert.deepEqual(view.input.categories, []);\n    assert.deepEqual(view.input.total, 110);\n    assert.deepEqual(view.input.rangeStart, 0);\n    assert.deepEqual(view.input.rangeEnd, 110);\n  });\n});\n"]}