{"version":3,"file":"StylesSidebarPane.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/StylesSidebarPane.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport {renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {\n  describeWithEnvironment,\n  describeWithLocale,\n} from '../../testing/EnvironmentHelpers.js';\nimport {describeWithRealConnection} from '../../testing/RealConnection.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\n\nimport * as Elements from './elements.js';\n\nconst {assert} = chai;\n\ndescribe('StylesSidebarPane', () => {\n  describeWithRealConnection('StylesSidebarPane', () => {\n    it('unescapes CSS strings', () => {\n      assert.strictEqual(\n          Elements.StylesSidebarPane.unescapeCssString(\n              String.raw`\"I\\F1 t\\EB rn\\E2 ti\\F4 n\\E0 liz\\E6 ti\\F8 n\\2603 \\1F308  can be \\t\\r\\ic\\k\\y\"`),\n          '\"I\\xF1t\\xEBrn\\xE2ti\\xF4n\\xE0liz\\xE6ti\\xF8n\\u2603\\u{1F308} can be tricky\"');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.unescapeCssString(String.raw`\"_\\DBFF_\\\\DBFF_\\\\\\DBFF_\\\\\\\\DBFF_\\\\\\\\\\DBFF_\"`),\n          '\"_\\uFFFD_\\\\DBFF_\\\\\\\\DBFF_\\\\\\\\\\\\DBFF_\\\\\\\\\\\\\\\\DBFF_\"');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.unescapeCssString(String.raw`\"\\0_\\DBFF_\\DFFF_\\110000\"`),\n          '\"\\uFFFD_\\uFFFD_\\uFFFD_\\uFFFD\"', 'U+0000, lone surrogates, and values above U+10FFFF should become U+FFFD');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.unescapeCssString(String.raw`\"_\\D83C\\DF08_\"`), '\"_\\uFFFD\\uFFFD_\"',\n          'surrogates should not be combined');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.unescapeCssString('\"_\\\\41\\n_\\\\41\\t_\\\\41\\x20_\"'), '\"_A_A_A_\"',\n          'certain trailing whitespace characters should be consumed as part of the escape sequence');\n    });\n\n    it('escapes URL as CSS comments', () => {\n      assert.strictEqual(Elements.StylesSidebarPane.escapeUrlAsCssComment('https://abc.com/'), 'https://abc.com/');\n      assert.strictEqual(Elements.StylesSidebarPane.escapeUrlAsCssComment('https://abc.com/*/'), 'https://abc.com/*/');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.escapeUrlAsCssComment('https://abc.com/*/?q=*'), 'https://abc.com/*/?q=*');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.escapeUrlAsCssComment('https://abc.com/*/?q=*/'), 'https://abc.com/*/?q=*%2F');\n      assert.strictEqual(\n          Elements.StylesSidebarPane.escapeUrlAsCssComment('https://abc.com/*/?q=*/#hash'),\n          'https://abc.com/*/?q=*%2F#hash');\n    });\n\n    describe('rebuildSectionsForMatchedStyleRulesForTest', () => {\n      it('should add @position-fallback section to the end', async () => {\n        const stylesSidebarPane = Elements.StylesSidebarPane.StylesSidebarPane.instance({forceNew: true});\n        const matchedStyles = await SDK.CSSMatchedStyles.CSSMatchedStyles.create({\n          cssModel: stylesSidebarPane.cssModel() as SDK.CSSModel.CSSModel,\n          node: stylesSidebarPane.node() as SDK.DOMModel.DOMNode,\n          inlinePayload: null,\n          attributesPayload: null,\n          matchedPayload: [],\n          pseudoPayload: [],\n          inheritedPayload: [],\n          inheritedPseudoPayload: [],\n          animationsPayload: [],\n          parentLayoutNodeId: undefined,\n          positionFallbackRules: [{\n            name: {text: '--compass'},\n            tryRules: [{\n              origin: Protocol.CSS.StyleSheetOrigin.Regular,\n              style: {\n                cssProperties: [{name: 'bottom', value: 'anchor(--anchor-name bottom)'}],\n                shorthandEntries: [],\n              },\n            }],\n          }],\n          propertyRules: [],\n          cssPropertyRegistrations: [],\n          fontPaletteValuesRule: undefined,\n        });\n\n        const sectionBlocks =\n            await stylesSidebarPane.rebuildSectionsForMatchedStyleRulesForTest(matchedStyles, new Map(), new Map());\n\n        assert.strictEqual(sectionBlocks.length, 2);\n        assert.strictEqual(sectionBlocks[1].titleElement()?.textContent, '@position-fallback --compass');\n        assert.strictEqual(sectionBlocks[1].sections.length, 1);\n        assert.instanceOf(sectionBlocks[1].sections[0], Elements.StylePropertiesSection.TryRuleSection);\n      });\n    });\n\n    it('should add @font-palette-values section to the end', async () => {\n      const stylesSidebarPane = Elements.StylesSidebarPane.StylesSidebarPane.instance({forceNew: true});\n      const matchedStyles = await SDK.CSSMatchedStyles.CSSMatchedStyles.create({\n        cssModel: stylesSidebarPane.cssModel() as SDK.CSSModel.CSSModel,\n        node: stylesSidebarPane.node() as SDK.DOMModel.DOMNode,\n        inlinePayload: null,\n        attributesPayload: null,\n        matchedPayload: [],\n        pseudoPayload: [],\n        inheritedPayload: [],\n        inheritedPseudoPayload: [],\n        animationsPayload: [],\n        parentLayoutNodeId: undefined,\n        positionFallbackRules: [],\n        propertyRules: [],\n        cssPropertyRegistrations: [],\n        fontPaletteValuesRule: {\n          fontPaletteName: {text: '--palette'},\n          origin: Protocol.CSS.StyleSheetOrigin.Regular,\n          style: {\n            cssProperties: [{name: 'font-family', value: 'Bixa'}, {'name': 'override-colors', value: '0 red'}],\n            shorthandEntries: [],\n\n          },\n        },\n      });\n\n      const sectionBlocks =\n          await stylesSidebarPane.rebuildSectionsForMatchedStyleRulesForTest(matchedStyles, new Map(), new Map());\n\n      assert.strictEqual(sectionBlocks.length, 2);\n      assert.strictEqual(sectionBlocks[1].titleElement()?.textContent, '@font-palette-values --palette');\n      assert.strictEqual(sectionBlocks[1].sections.length, 1);\n      assert.instanceOf(sectionBlocks[1].sections[0], Elements.StylePropertiesSection.FontPaletteValuesRuleSection);\n    });\n  });\n\n  interface RendererTracePoint {\n    text: string;\n    matchType: string;\n  }\n\n  class RendererTrace {\n    #points: RendererTracePoint[] = [];\n\n    push(point: RendererTracePoint): void {\n      this.#points.push(point);\n    }\n\n    toString(): string|undefined {\n      if (!this.#points.length) {\n        return undefined;\n      }\n      const indent = this.#points.map(({text}) => text.length).reduce((a, b) => Math.max(a, b));\n      return this.#points.map(({text, matchType}) => `${text.padEnd(indent, ' ')}: ${matchType}`).join('\\n');\n    }\n\n    reset(): void {\n      this.#points.splice(0);\n    }\n  }\n\n  describeWithEnvironment('StylesSidebarPropertyRenderer', () => {\n    const trace = new RendererTrace();\n    beforeEach(() => {\n      sinon.stub(Elements.PropertyParser.Renderer.prototype, 'renderedMatchForTest').callsFake((nodes, match) => {\n        trace.push({text: match.text, matchType: match.type});\n      });\n    });\n\n    afterEach(() => trace.reset());\n\n    it('runs animation handler for animation property', () => {\n      const renderer =\n          new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(null, null, 'animation', 'example 5s');\n      renderer.setAnimationHandler(() => document.createTextNode(nodeContents));\n\n      const nodeContents = 'nodeContents';\n\n      const node = renderer.renderValue();\n      assert.deepEqual(node.textContent, nodeContents, trace.toString());\n    });\n\n    it('parses lengths correctly', () => {\n      Root.Runtime.experiments.disableForTest('css-type-component-length-deprecate');\n      const renderer =\n          new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(null, null, 'width', 'calc(6em + 7em)');\n      renderer.setLengthHandler(() => document.createTextNode('MATCH'));\n\n      const node = renderer.renderValue();\n\n      assert.deepEqual(node.textContent, 'calc(MATCH + MATCH)', trace.toString());\n    });\n\n    it('parses font-family correctly', () => {\n      const renderer = new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(\n          null, null, 'font-family', '\"Gill Sans\", sans-serif');\n      renderer.setFontHandler(() => document.createTextNode('MATCH'));\n      const node = renderer.renderValue();\n      assert.deepEqual(node.textContent, 'MATCH, MATCH', trace.toString());\n    });\n\n    it('parses font-* correctly', () => {\n      for (const fontSize of ['-.23', 'smaller', '17px']) {\n        const renderer =\n            new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(null, null, 'font-size', fontSize);\n        renderer.setFontHandler(() => document.createTextNode('MATCH'));\n        const node = renderer.renderValue();\n        assert.deepEqual(node.textContent, 'MATCH', trace.toString());\n      }\n      const renderer =\n          new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(null, null, 'font-size', 'calc(17px + 17px)');\n      renderer.setFontHandler(() => document.createTextNode('MATCH'));\n      const node = renderer.renderValue();\n\n      // The bogus match on `calc` is expected.\n      assert.deepEqual(node.textContent, 'MATCH(MATCH + MATCH)', trace.toString());\n    });\n\n    it('parses font-family correctly', () => {\n      const renderer = new Elements.StylesSidebarPane.StylesSidebarPropertyRenderer(\n          null, null, 'font-family', '\"Gill Sans\", sans-serif');\n      renderer.setFontHandler(() => document.createTextNode('MATCH'));\n      const node = renderer.renderValue();\n      assert.deepEqual(node.textContent, 'MATCH, MATCH', trace.toString());\n    });\n  });\n\n  describe('IdleCallbackManager', () => {\n    // IdleCallbackManager delegates work using requestIdleCallback, which does not generally execute requested callbacks\n    // in order. This test verifies that callbacks do happen in order even if timeouts are run out.\n    it('schedules callbacks in order', async () => {\n      // Override the default timeout with a very short one\n      class QuickIdleCallbackManager extends Elements.StylesSidebarPane.IdleCallbackManager {\n        protected override scheduleIdleCallback(_: number): void {\n          super.scheduleIdleCallback(1);\n        }\n      }\n\n      const timeout = (time: number) => new Promise<void>(resolve => setTimeout(resolve, time));\n\n      const elements: number[] = [];\n\n      const callbacks = new QuickIdleCallbackManager();\n      callbacks.schedule(() => elements.push(0));\n      callbacks.schedule(() => elements.push(1));\n      callbacks.schedule(() => elements.push(2));\n      callbacks.schedule(() => elements.push(3));\n      await timeout(10);\n      callbacks.schedule(() => elements.push(4));\n      callbacks.schedule(() => elements.push(5));\n      callbacks.schedule(() => elements.push(6));\n      callbacks.schedule(() => elements.push(7));\n      await timeout(10);\n\n      await callbacks.awaitDone();\n\n      assert.deepEqual(elements, [0, 1, 2, 3, 4, 5, 6, 7]);\n    });\n  });\n\n  describeWithLocale('CSSPropertyPrompt', () => {\n    const CSSPropertyPrompt = Elements.StylesSidebarPane.CSSPropertyPrompt;\n\n    const CSS_VARIABLES_FOR_TEST: Record<string, string> = {\n      '--rgb-color': 'rgb(0 0 0)',\n      '--wide-gamut-color': 'lch(0 0 0)',\n    };\n\n    const mockTreeItem = {\n      property: {\n        name: 'color',\n      },\n      node() {\n        return {\n          isSVGNode() {\n            return false;\n          },\n          domModel() {\n            return {\n              cssModel() {\n                return {\n                  getComputedStyle() {\n                    return new Map<string, string>();\n                  },\n                };\n              },\n            };\n          },\n        };\n      },\n      matchedStyles() {\n        return {\n          availableCSSVariables(): string[] {\n            return ['--rgb-color', '--wide-gamut-color'];\n          },\n          computeCSSVariable(_: unknown, completion: string): {value: string, declaration: null} |\n              undefined {\n                return {value: CSS_VARIABLES_FOR_TEST[completion], declaration: null};\n              },\n        };\n      },\n    } as unknown as Elements.StylePropertyTreeElement.StylePropertyTreeElement;\n\n    const noop = () => {};\n\n    describeWithEnvironment('value autocompletion', () => {\n      it('shows autocomplete item with color swatch for CSS variables with RGB color', async () => {\n        const attachedElement = document.createElement('div');\n        renderElementIntoDOM(attachedElement);\n        const cssPropertyPrompt = new CSSPropertyPrompt(mockTreeItem, false);\n\n        cssPropertyPrompt.attachAndStartEditing(attachedElement, noop);\n        const spyObj = sinon.spy(cssPropertyPrompt.suggestBoxForTest());\n        cssPropertyPrompt.setText('var(--rgb');\n        await cssPropertyPrompt.complete(true);\n\n        const colorCompletions = spyObj?.updateSuggestions.firstCall.args[1];\n        const renderedElement = colorCompletions?.[0].subtitleRenderer?.();\n        assert.instanceOf(renderedElement, InlineEditor.ColorSwatch.ColorSwatch);\n      });\n\n      it('shows autocomplete item with color swatch for CSS variables with wide gamut color', async () => {\n        const attachedElement = document.createElement('div');\n        renderElementIntoDOM(attachedElement);\n        const cssPropertyPrompt = new CSSPropertyPrompt(mockTreeItem, false);\n\n        cssPropertyPrompt.attachAndStartEditing(attachedElement, noop);\n        const spyObj = sinon.spy(cssPropertyPrompt.suggestBoxForTest());\n        cssPropertyPrompt.setText('var(--wide');\n        await cssPropertyPrompt.complete(true);\n\n        const colorCompletions = spyObj?.updateSuggestions.firstCall.args[1];\n        const renderedElement = colorCompletions?.[0].subtitleRenderer?.();\n        assert.instanceOf(renderedElement, InlineEditor.ColorSwatch.ColorSwatch);\n      });\n\n      it('shows autocomplete property names for CSS aliases', async () => {\n        const attachedElement = document.createElement('div');\n        renderElementIntoDOM(attachedElement);\n        const cssPropertyPrompt = new CSSPropertyPrompt(mockTreeItem, true);\n\n        cssPropertyPrompt.attachAndStartEditing(attachedElement, noop);\n        const spyObj = sinon.spy(cssPropertyPrompt.suggestBoxForTest());\n        cssPropertyPrompt.setText('word-wra');\n        await cssPropertyPrompt.complete(true);\n        const completions = spyObj?.updateSuggestions.firstCall.args[1];\n        assert.strictEqual(completions?.[0].text, 'word-wrap');\n        assert.strictEqual(completions?.[1].text, 'overflow-wrap');\n        assert.strictEqual(completions?.[1].subtitle, '= word-wrap');\n      });\n    });\n  });\n});\n"]}