{"version":3,"file":"CSSPropertyDocsView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/elements/components/CSSPropertyDocsView.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAC7B,2DAA2D;AAE3D,OAAO,8BAA8B,CAAC;AAEtC,OAAO,KAAK,MAAM,MAAM,gCAAgC,CAAC;AACzD,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,EAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAC,MAAM,wBAAwB,CAAC;AAC7D,OAAO,KAAK,aAAa,MAAM,8CAA8C,CAAC;AAE9E,OAAO,yBAAyB,MAAM,8BAA8B,CAAC;AAErE,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,SAAS,EAAE,YAAY;IACvB;;OAEG;IACH,QAAQ,EAAE,aAAa;CACf,CAAC;AACX,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,mDAAmD,EAAE,SAAS,CAAC,CAAC;AACzG,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAWtE,MAAM,OAAO,mBAAoB,SAAQ,WAAW;IACzC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;IAC5C,YAAY,CAAc;IAEnC,YAAY,WAAwB;QAClC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,gBAAgB,CAAC,CAAQ;QACvB,MAAM,iBAAiB,GAAG,CAAE,CAAC,CAAC,MAA2B,CAAC,OAAO,CAAC;QAClE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE;aAC9B,aAAa,CAAC,0CAA0C,CAAC;aACzD,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAC9B,CAAC;IAED,OAAO;QACL,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;QAClD,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAEnD,qDAAqD;QACrD,mBAAmB;QACnB,MAAM,CAAC,IAAI,CAAA;eACA,yBAAyB;;UAE9B,WAAW,CAAC,CAAC,CAAC,IAAI,CAAA;;cAEd,WAAW;;SAEhB,CAAC,CAAC,CAAC,OAAO;UACT,IAAI,CAAC,CAAC,CAAC,IAAI,CAAA;;;;qBAIA,IAAI;;;gBAGT,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;;;wBAGvB,IAAI,CAAC,gBAAgB;sBACvB,aAAa,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACtE,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;;;SAGrC,CAAC,CAAC,CAAC,OAAO;;KAEd,EAAE,IAAI,CAAC,OAAO,EAAE;YACb,IAAI,EAAE,IAAI;SACX,CAAC,CAAC;QACL,kBAAkB;IACpB,CAAC;CACF;AAED,cAAc,CAAC,MAAM,CAAC,iCAAiC,EAAE,mBAAmB,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable rulesdir/no-lit-render-outside-of-view */\n\nimport '../../../ui/legacy/legacy.js';\n\nimport * as Common from '../../../core/common/common.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport {html, nothing, render} from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport CSSPropertyDocsViewStyles from './cssPropertyDocsView.css.js';\n\nconst UIStrings = {\n  /**\n   *@description Text for button that redirects to CSS property documentation.\n   */\n  learnMore: 'Learn more',\n  /**\n   *@description Text for a checkbox to turn off the CSS property documentation.\n   */\n  dontShow: 'Don\\'t show',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/components/CSSPropertyDocsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\ninterface CSSProperty {\n  name: string;\n  description?: string;\n  references?: Array<{\n    name: string,\n    url: string,\n  }>;\n}\n\nexport class CSSPropertyDocsView extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #cssProperty: CSSProperty;\n\n  constructor(cssProperty: CSSProperty) {\n    super();\n    this.#cssProperty = cssProperty;\n    this.#render();\n  }\n\n  #dontShowChanged(e: Event): void {\n    const showDocumentation = !(e.target as HTMLInputElement).checked;\n    Common.Settings.Settings.instance()\n        .moduleSetting('show-css-property-documentation-on-hover')\n        .set(showDocumentation);\n  }\n\n  #render(): void {\n    const description = this.#cssProperty.description;\n    const link = this.#cssProperty.references?.[0].url;\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <style>${CSSPropertyDocsViewStyles}</style>\n      <div class=\"docs-popup-wrapper\">\n        ${description ? html`\n          <div id=\"description\">\n            ${description}\n          </div>\n        ` : nothing}\n        ${link ? html`\n          <div class=\"docs-popup-section footer\">\n            <x-link\n              id=\"learn-more\"\n              href=${link}\n              class=\"clickable underlined unbreakable-text\"\n            >\n              ${i18nString(UIStrings.learnMore)}\n            </x-link>\n            <devtools-checkbox\n              @change=${this.#dontShowChanged}\n              jslog=${VisualLogging.toggle('css-property-doc').track({ change: true })}>\n              ${i18nString(UIStrings.dontShow)}\n            </devtools-checkbox>\n          </div>\n        ` : nothing}\n      </div>\n    `, this.#shadow, {\n        host: this,\n      });\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-css-property-docs-view', CSSPropertyDocsView);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-css-property-docs-view': CSSPropertyDocsView;\n  }\n}\n"]}