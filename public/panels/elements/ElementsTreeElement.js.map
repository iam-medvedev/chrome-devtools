{"version":3,"file":"ElementsTreeElement.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/ElementsTreeElement.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable @devtools/no-imperative-dom-api */\n\n/*\n * Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport '../../ui/components/adorners/adorners.js';\nimport '../../ui/components/buttons/buttons.js';\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as AIAssistance from '../../models/ai_assistance/ai_assistance.js';\nimport * as Badges from '../../models/badges/badges.js';\nimport type * as Elements from '../../models/elements/elements.js';\nimport type * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport type * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as CodeHighlighter from '../../ui/components/code_highlighter/code_highlighter.js';\nimport * as Highlighting from '../../ui/components/highlighting/highlighting.js';\nimport * as TextEditor from '../../ui/components/text_editor/text_editor.js';\nimport {Icon, Link} from '../../ui/kit/kit.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nimport type {DirectiveResult} from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as PanelsCommon from '../common/common.js';\nimport * as Emulation from '../emulation/emulation.js';\nimport * as Media from '../media/media.js';\n\nimport * as ElementsComponents from './components/components.js';\nimport {canGetJSPath, cssPath, jsPath, xPath} from './DOMPath.js';\nimport {getElementIssueDetails} from './ElementIssueUtils.js';\nimport {ElementsPanel} from './ElementsPanel.js';\nimport {type ElementsTreeOutline, MappedCharToEntity} from './ElementsTreeOutline.js';\nimport {ImagePreviewPopover} from './ImagePreviewPopover.js';\nimport {getRegisteredDecorators, type MarkerDecorator, type MarkerDecoratorRegistration} from './MarkerDecorator.js';\n\nconst {html, nothing, render, Directives: {ref}} = Lit;\nconst {animateOn} = UI.UIUtils;\n\nconst UIStrings = {\n  /**\n   * @description Title for Ad adorner. This iframe is marked as advertisement frame.\n   */\n  thisFrameWasIdentifiedAsAnAd: 'This frame was identified as an ad frame',\n  /**\n   * @description A context menu item in the Elements panel. Force is used as a verb, indicating intention to make the state change.\n   */\n  forceState: 'Force state',\n  /**\n   * @description Hint element title in Elements Tree Element of the Elements panel\n   * @example {0} PH1\n   */\n  useSInTheConsoleToReferToThis: 'Use {PH1} in the console to refer to this element.',\n  /**\n   * @description A context menu item in the Elements Tree Element of the Elements panel\n   */\n  addAttribute: 'Add attribute',\n  /**\n   * @description Text to modify the attribute of an item\n   */\n  editAttribute: 'Edit attribute',\n  /**\n   * @description Text to focus on something\n   */\n  focus: 'Focus',\n  /**\n   * @description Text to scroll the displayed content into view\n   */\n  scrollIntoView: 'Scroll into view',\n  /**\n   * @description A context menu item in the Elements Tree Element of the Elements panel\n   */\n  editText: 'Edit text',\n  /**\n   * @description A context menu item in the Elements Tree Element of the Elements panel\n   */\n  editAsHtml: 'Edit as HTML',\n  /**\n   * @description Text to cut an element, cut should be used as a verb\n   */\n  cut: 'Cut',\n  /**\n   * @description Text for copying, copy should be used as a verb\n   */\n  copy: 'Copy',\n  /**\n   * @description Text to paste an element, paste should be used as a verb\n   */\n  paste: 'Paste',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copyOuterhtml: 'Copy outerHTML',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copySelector: 'Copy `selector`',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel\n   */\n  copyJsPath: 'Copy JS path',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copyStyles: 'Copy styles',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copyXpath: 'Copy XPath',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copyFullXpath: 'Copy full XPath',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copyElement: 'Copy element',\n  /**\n   * @description A context menu item in the Elements Tree Element of the Elements panel\n   */\n  duplicateElement: 'Duplicate element',\n  /**\n   * @description Text to hide an element\n   */\n  hideElement: 'Hide element',\n  /**\n   * @description A context menu item in the Elements Tree Element of the Elements panel\n   */\n  deleteElement: 'Delete element',\n  /**\n   * @description Text to expand something recursively\n   */\n  expandRecursively: 'Expand recursively',\n  /**\n   * @description Text to collapse children of a parent group\n   */\n  collapseChildren: 'Collapse children',\n  /**\n   * @description Title of an action in the emulation tool to capture node screenshot\n   */\n  captureNodeScreenshot: 'Capture node screenshot',\n  /**\n   * @description Title of a context menu item. When clicked DevTools goes to the Application panel and shows this specific iframe's details\n   */\n  showFrameDetails: 'Show `iframe` details',\n  /**\n   * @description Text in Elements Tree Element of the Elements panel\n   */\n  valueIsTooLargeToEdit: '<value is too large to edit>',\n  /**\n   * @description Element text content in Elements Tree Element of the Elements panel\n   */\n  children: 'Children:',\n  /**\n   * @description ARIA label for Elements Tree adorners\n   */\n  enableGridMode: 'Enable grid mode',\n  /**\n   * @description ARIA label for Elements Tree adorners\n   */\n  disableGridMode: 'Disable grid mode',\n  /**\n   * @description ARIA label for Elements Tree adorners\n   */\n  /**\n   * @description ARIA label for Elements Tree adorners\n   */\n  enableGridLanesMode: 'Enable grid-lanes mode',\n  /**\n   * @description ARIA label for Elements Tree adorners\n   */\n  disableGridLanesMode: 'Disable grid-lanes mode',\n  /**\n   * @description ARIA label for an elements tree adorner\n   */\n  forceOpenPopover: 'Keep this popover open',\n  /**\n   * @description ARIA label for an elements tree adorner\n   */\n  stopForceOpenPopover: 'Stop keeping this popover open',\n  /**\n   * @description Label of the adorner for flex elements in the Elements panel\n   */\n  enableFlexMode: 'Enable flex mode',\n  /**\n   * @description Label of the adorner for flex elements in the Elements panel\n   */\n  disableFlexMode: 'Disable flex mode',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it enables\n   * the overlay showing CSS scroll snapping for the current element.\n   */\n  enableScrollSnap: 'Enable scroll-snap overlay',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it disables\n   * the overlay showing CSS scroll snapping for the current element.\n   */\n  disableScrollSnap: 'Disable scroll-snap overlay',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it enables\n   * the overlay showing the container overlay for the current element.\n   */\n  enableContainer: 'Enable container overlay',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it disables\n   * the overlay showing container for the current element.\n   */\n  disableContainer: 'Disable container overlay',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it forces\n   * the element into applying its starting-style rules.\n   */\n  enableStartingStyle: 'Enable @starting-style mode',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it no longer\n   * forces the element into applying its starting-style rules.\n   */\n  disableStartingStyle: 'Disable @starting-style mode',\n  /**\n   * @description Label of an adorner in the Elements panel. When clicked, it redirects\n   * to the Media Panel.\n   */\n  openMediaPanel: 'Jump to Media panel',\n  /**\n   * @description Text of a tooltip to redirect to another element in the Elements panel\n   */\n  showPopoverTarget: 'Show element associated with the `popovertarget` attribute',\n  /**\n   * @description Text of a tooltip to redirect to another element in the Elements panel, associated with the `interesttarget` attribute\n   */\n  showInterestTarget: 'Show element associated with the `interesttarget` attribute',\n  /**\n   * @description Text of a tooltip to redirect to another element in the Elements panel, associated with the `commandfor` attribute\n   */\n  showCommandForTarget: 'Show element associated with the `commandfor` attribute',\n  /**\n   * @description Text of the tooltip for scroll adorner.\n   */\n  elementHasScrollableOverflow: 'This element has a scrollable overflow',\n  /**\n   * @description Text of a context menu item to redirect to the AI assistance panel and to start a chat.\n   */\n  startAChat: 'Start a chat',\n  /**\n * @description Label of an adorner next to the html node in the Elements panel.\n */\n  viewSourceCode: 'View source code',\n  /**\n   * @description Context menu item in Elements panel to assess visibility of an element via AI.\n   */\n  assessVisibility: 'Assess visibility',\n  /**\n   * @description Context menu item in Elements panel to center an element via AI.\n   */\n  centerElement: 'Center element',\n  /**\n   * @description Context menu item in Elements panel to wrap flex items via AI.\n   */\n  wrapTheseItems: 'Wrap these items',\n  /**\n   * @description Context menu item in Elements panel to distribute flex items evenly via AI.\n   */\n  distributeItemsEvenly: 'Distribute items evenly',\n  /**\n   * @description Context menu item in Elements panel to explain flexbox via AI.\n   */\n  explainFlexbox: 'Explain flexbox',\n  /**\n   * @description Context menu item in Elements panel to align grid items via AI.\n   */\n  alignItems: 'Align items',\n  /**\n   * @description Context menu item in Elements panel to add padding/gap to grid via AI.\n   */\n  addPadding: 'Add padding',\n  /**\n   * @description Context menu item in Elements panel to explain grid layout via AI.\n   */\n  explainGridLayout: 'Explain grid layout',\n  /**\n   * @description Context menu item in Elements panel to find grid definition for a subgrid item via AI.\n   */\n  findGridDefinition: 'Find grid definition',\n  /**\n   * @description Context menu item in Elements panel to change parent grid properties for a subgrid item via AI.\n   */\n  changeParentProperties: 'Change parent properties',\n  /**\n   * @description Context menu item in Elements panel to explain subgrids via AI.\n   */\n  explainSubgrids: 'Explain subgrids',\n  /**\n   * @description Context menu item in Elements panel to remove scrollbars via AI.\n   */\n  removeScrollbars: 'Remove scrollbars',\n  /**\n   * @description Context menu item in Elements panel to style scrollbars via AI.\n   */\n  styleScrollbars: 'Style scrollbars',\n  /**\n   * @description Context menu item in Elements panel to explain scrollbars via AI.\n   */\n  explainScrollbars: 'Explain scrollbars',\n  /**\n   * @description Context menu item in Elements panel to explain container queries via AI.\n   */\n  explainContainerQueries: 'Explain container queries',\n  /**\n   * @description Context menu item in Elements panel to explain container types via AI.\n   */\n  explainContainerTypes: 'Explain container types',\n  /**\n   * @description Context menu item in Elements panel to explain container context via AI.\n   */\n  explainContainerContext: 'Explain container context',\n  /**\n   * @description Link text content in Elements Tree Outline of the Elements panel. When clicked, it \"reveals\" the true location of an element.\n   */\n  reveal: 'reveal',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/ElementsTreeElement.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst enum TagType {\n  OPENING = 'OPENING_TAG',\n  CLOSING = 'CLOSING_TAG',\n}\n\ninterface OpeningTagContext {\n  tagType: TagType.OPENING;\n  canAddAttributes: boolean;\n}\n\ninterface ClosingTagContext {\n  tagType: TagType.CLOSING;\n}\n\nexport type TagTypeContext = OpeningTagContext|ClosingTagContext;\n\nexport function isOpeningTag(context: TagTypeContext): context is OpeningTagContext {\n  return context.tagType === TagType.OPENING;\n}\n\nexport interface ViewInput {\n  node: SDK.DOMModel.DOMNode|null;\n  isClosingTag: boolean;\n  expanded: boolean;\n  isExpandable: boolean;\n  isXMLMimeType: boolean;\n  updateRecord: Elements.ElementUpdateRecord.ElementUpdateRecord|null;\n  onHighlightSearchResults: () => void;\n  onExpand: () => void;\n\n  containerAdornerActive: boolean;\n  flexAdornerActive: boolean;\n  gridAdornerActive: boolean;\n  popoverAdornerActive: boolean;\n\n  showAdAdorner: boolean;\n  showContainerAdorner: boolean;\n  containerType?: string;\n  showFlexAdorner: boolean;\n  showGridAdorner: boolean;\n  showGridLanesAdorner: boolean;\n  showMediaAdorner: boolean;\n  showPopoverAdorner: boolean;\n  showTopLayerAdorner: boolean;\n  isSubgrid: boolean;\n\n  showViewSourceAdorner: boolean;\n  showScrollAdorner: boolean;\n  showScrollSnapAdorner: boolean;\n  topLayerIndex: number;\n  scrollSnapAdornerActive: boolean;\n\n  onGutterClick: (e: Event) => void;\n  onContainerAdornerClick: (e: Event) => void;\n  onFlexAdornerClick: (e: Event) => void;\n  onGridAdornerClick: (e: Event) => void;\n  onMediaAdornerClick: (e: Event) => void;\n  onPopoverAdornerClick: (e: Event) => void;\n  onScrollSnapAdornerClick: (e: Event) => void;\n  onTopLayerAdornerClick: (e: Event) => void;\n  onViewSourceAdornerClick: () => void;\n  onSlotAdornerClick: (e: Event) => void;\n  showSlotAdorner: boolean;\n  slotName?: string;\n  showStartingStyleAdorner: boolean;\n  startingStyleAdornerActive: boolean;\n  onStartingStyleAdornerClick: (e: Event) => void;\n\n  isHovered: boolean;\n  isSelected: boolean;\n  showAiButton: boolean;\n  aiButtonTitle?: string;\n  onAiButtonClick: (e: Event) => void;\n\n  decorations: Decoration[];\n  descendantDecorations: Decoration[];\n  decorationsTooltip: string;\n  indent: number;\n}\n\nexport interface ViewOutput {\n  contentElement?: HTMLElement;\n}\n\nexport function adornerRef(): DirectiveResult<typeof Lit.Directives.RefDirective> {\n  let adorner: Adorners.Adorner.Adorner|undefined;\n  return ref(el => {\n    if (adorner) {\n      ElementsPanel.instance().deregisterAdorner(adorner);\n    }\n    adorner = el as Adorners.Adorner.Adorner;\n    if (adorner) {\n      if (ElementsPanel.instance().isAdornerEnabled(adorner.name)) {\n        adorner.show();\n      } else {\n        adorner.hide();\n      }\n      ElementsPanel.instance().registerAdorner(adorner);\n    }\n  });\n}\n\nexport interface Decoration {\n  title: string;\n  color: string;\n}\n\nconst DOM_UPDATE_ANIMATION_CLASS_NAME = 'dom-update-highlight';\n\nfunction handleAdornerKeydown(cb: (event: Event) => void): (event: KeyboardEvent) => void {\n  return (event: KeyboardEvent) => {\n    if (event.code === 'Enter' || event.code === 'Space') {\n      cb(event);\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n}\n\nfunction renderTitle(\n    node: SDK.DOMModel.DOMNode,\n    isClosingTag: boolean,\n    expanded: boolean,\n    isExpandable: boolean,\n    isXMLMimeType: boolean,\n    updateRecord: Elements.ElementUpdateRecord.ElementUpdateRecord|null,\n    onUpdateSearchHighlight: () => void,\n    onExpand: () => void,\n    ): Lit.LitTemplate {\n  switch (node.nodeType()) {\n    case Node.ATTRIBUTE_NODE:\n      return renderAttribute({name: node.name as string, value: node.value as string}, updateRecord, true, node);\n\n    case Node.ELEMENT_NODE: {\n      if (node.pseudoType()) {\n        let pseudoElementName = node.nodeName();\n        const pseudoIdentifier = node.pseudoIdentifier();\n        if (pseudoIdentifier) {\n          pseudoElementName += `(${pseudoIdentifier})`;\n        }\n        return html`<span class=\"webkit-html-pseudo-element\">${pseudoElementName}</span>\\u200B`;\n      }\n\n      const tagName = node.nodeNameInCorrectCase();\n      if (isClosingTag) {\n        return renderTag(node, tagName, true, expanded, true, updateRecord);\n      }\n\n      const openingTag = renderTag(node, tagName, false, expanded, false, updateRecord);\n\n      if (isExpandable) {\n        if (!expanded) {\n          return html`${openingTag}<devtools-elements-tree-expand-button .data=${\n              {clickHandler: onExpand} as\n              ElementsComponents.ElementsTreeExpandButton\n                  .ElementsTreeExpandButtonData}></devtools-elements-tree-expand-button><span style=\"font-size: 0;\"\n                  ></span>\\u200B${renderTag(node, tagName, true, expanded, false, updateRecord)}`;\n        }\n        return openingTag;\n      }\n\n      if (ElementsTreeElement.canShowInlineText(node)) {\n        const firstChild = node.firstChild;\n        if (!firstChild) {\n          throw new Error('ElementsTreeElement._nodeTitleInfo expects node.firstChild to be defined.');\n        }\n        const result = convertUnicodeCharsToHTMLEntities(firstChild.nodeValue());\n        const textContent = Platform.StringUtilities.collapseWhitespace(result.text);\n\n        const renderTextNode = ref(el => {\n          if (el) {\n            el.textContent = textContent;\n            Highlighting.highlightRangesWithStyleClass(el, result.entityRanges, 'webkit-html-entity-value');\n          }\n        });\n\n        return html`${openingTag}<span class=\"webkit-html-text-node\" jslog=${\n            VisualLogging.value('text-node').track({change: true, dblclick: true})} ${\n            animateOn(\n                Boolean((updateRecord?.hasChangedChildren() || updateRecord?.isCharDataModified())),\n                DOM_UPDATE_ANIMATION_CLASS_NAME)} ${renderTextNode}></span>\\u200B${\n            renderTag(node, tagName, true, expanded, false, updateRecord)}`;\n      }\n\n      if (isXMLMimeType || !ForbiddenClosingTagElements.has(tagName)) {\n        return html`${openingTag}${renderTag(node, tagName, true, expanded, false, updateRecord)}`;\n      }\n      return openingTag;\n    }\n\n    case Node.TEXT_NODE: {\n      if (node.parentNode && node.parentNode.nodeName().toLowerCase() === 'script') {\n        const text = node.nodeValue();\n        const highlightNode = ref(el => {\n          if (el) {\n            el.textContent = text.replace(/^[\\n\\r]+|\\s+$/g, '');\n            void CodeHighlighter.CodeHighlighter.highlightNode(el, 'text/javascript').then(onUpdateSearchHighlight);\n          }\n        });\n        return html`<span class=\"webkit-html-text-node webkit-html-js-node\" jslog=${\n            VisualLogging.value('script-text-node').track({change: true, dblclick: true})} ${highlightNode}></span>`;\n      }\n      if (node.parentNode && node.parentNode.nodeName().toLowerCase() === 'style') {\n        const text = node.nodeValue();\n        const highlightNode = ref(el => {\n          if (el) {\n            el.textContent = text.replace(/^[\\n\\r]+|\\s+$/g, '');\n            void CodeHighlighter.CodeHighlighter.highlightNode(el, 'text/css').then(onUpdateSearchHighlight);\n          }\n        });\n        return html`<span class=\"webkit-html-text-node webkit-html-css-node\" jslog=${\n            VisualLogging.value('css-text-node').track({change: true, dblclick: true})} ${highlightNode}></span>`;\n      }\n\n      const result = convertUnicodeCharsToHTMLEntities(node.nodeValue());\n      const textContent = Platform.StringUtilities.collapseWhitespace(result.text);\n      const renderTextNode = ref(el => {\n        if (el) {\n          el.textContent = textContent;\n          Highlighting.highlightRangesWithStyleClass(el, result.entityRanges, 'webkit-html-entity-value');\n        }\n      });\n      return html`\"<span class=\"webkit-html-text-node\" jslog=${VisualLogging.value('text-node').track({\n        change: true,\n        dblclick: true\n      })} ${animateOn(Boolean(updateRecord?.isCharDataModified()), DOM_UPDATE_ANIMATION_CLASS_NAME)} ${\n          renderTextNode}></span>\"`;\n    }\n\n    case Node.COMMENT_NODE: {\n      return html`<span class=\"webkit-html-comment\">&lt;!--${node.nodeValue()}--&gt;</span>`;\n    }\n\n    case Node.DOCUMENT_TYPE_NODE: {\n      let doctype = '<!DOCTYPE ' + node.nodeName();\n      if (node.publicId) {\n        doctype += ' PUBLIC \"' + node.publicId + '\"';\n        if (node.systemId) {\n          doctype += ' \"' + node.systemId + '\"';\n        }\n      } else if (node.systemId) {\n        doctype += ' SYSTEM \"' + node.systemId + '\"';\n      }\n      if (node.internalSubset) {\n        doctype += ' [' + node.internalSubset + ']';\n      }\n      doctype += '>';\n      return html`<span class=\"webkit-html-doctype\">${doctype}</span>`;\n    }\n\n    case Node.CDATA_SECTION_NODE: {\n      return html`<span class=\"webkit-html-text-node\">&lt;![CDATA[${node.nodeValue()}]]&gt;</span>`;\n    }\n\n    case Node.DOCUMENT_NODE: {\n      const text = (node as SDK.DOMModel.DOMDocument).documentURL;\n      const linkify = ref(el => {\n        if (el) {\n          el.removeChildren();\n          el.appendChild(Components.Linkifier.Linkifier.linkifyURL(text, {\n            text,\n            preventClick: true,\n            showColumnNumber: false,\n            inlineFrameIndex: 0,\n          }));\n        }\n      });\n      return html`<span>#document (<span ${linkify}></span>)</span>`;\n    }\n\n    case Node.DOCUMENT_FRAGMENT_NODE: {\n      return html`<span class=\"webkit-html-fragment\">${\n          Platform.StringUtilities.collapseWhitespace(node.nodeNameInCorrectCase())}</span>`;\n    }\n\n    default: {\n      return html`${Platform.StringUtilities.collapseWhitespace(node.nodeNameInCorrectCase())}`;\n    }\n  }\n}\n\nfunction renderAttribute(\n    attr: {name: string, value?: string}, updateRecord: Elements.ElementUpdateRecord.ElementUpdateRecord|null,\n    isDiff: boolean, node: SDK.DOMModel.DOMNode): Lit.LitTemplate {\n  const name = attr.name;\n  const value = attr.value || '';\n  const forceValue = isDiff;\n  const closingPunctuationRegex = /[\\/;:\\)\\]\\}]/g;\n  let highlightIndex = 0;\n  let highlightCount = 0;\n  let additionalHighlightOffset = 0;\n\n  function setValueWithEntities(element: Element, value: string): void {\n    const result = convertUnicodeCharsToHTMLEntities(value);\n    highlightCount = result.entityRanges.length;\n    const newValue = result.text.replace(closingPunctuationRegex, (match, replaceOffset) => {\n      while (highlightIndex < highlightCount && result.entityRanges[highlightIndex].offset < replaceOffset) {\n        result.entityRanges[highlightIndex].offset += additionalHighlightOffset;\n        ++highlightIndex;\n      }\n      additionalHighlightOffset += 1;\n      return match + '\\u200B';\n    });\n\n    while (highlightIndex < highlightCount) {\n      result.entityRanges[highlightIndex].offset += additionalHighlightOffset;\n      ++highlightIndex;\n    }\n    element.setTextContentTruncatedIfNeeded(newValue);\n    Highlighting.highlightRangesWithStyleClass(element, result.entityRanges, 'webkit-html-entity-value');\n  }\n\n  const hasText = (forceValue || value.length > 0);\n  const jslog = VisualLogging.value(name === 'style' ? 'style-attribute' : 'attribute').track({\n    change: true,\n    dblclick: true,\n  });\n\n  function linkifyValue(value: string): Element {\n    const rewrittenHref = node ? node.resolveURL(value) : null;\n    if (rewrittenHref === null) {\n      const span = document.createElement('span');\n      setValueWithEntities(span, value);\n      return span;\n    }\n    value = value.replace(closingPunctuationRegex, '$&\\u200B');\n    if (value.startsWith('data:')) {\n      value = Platform.StringUtilities.trimMiddle(value, 60);\n    }\n    const link = node && node.nodeName().toLowerCase() === 'a' ?\n        Link.create(rewrittenHref, value, undefined, 'image-url') :\n        Components.Linkifier.Linkifier.linkifyURL(rewrittenHref, {\n          text: value,\n          preventClick: true,\n          showColumnNumber: false,\n          inlineFrameIndex: 0,\n        });\n    return ImagePreviewPopover.setImageUrl(link, rewrittenHref);\n  }\n\n  function linkifySrcset(value: string): DocumentFragment {\n    // Splitting normally on commas or spaces will break on valid srcsets \"foo 1x,bar 2x\" and \"data:,foo 1x\".\n    const fragment = document.createDocumentFragment();\n    let i = 0;\n    while (value.length) {\n      if (i++ > 0) {\n        UI.UIUtils.createTextChild(fragment, ' ');\n      }\n      value = value.trim();\n      let url = '';\n      let descriptor = '';\n      const indexOfSpace = value.search(/\\s/);\n      if (indexOfSpace === -1) {\n        url = value;\n      } else if (indexOfSpace > 0 && value[indexOfSpace - 1] === ',') {\n        url = value.substring(0, indexOfSpace);\n      } else {\n        url = value.substring(0, indexOfSpace);\n        const indexOfComma = value.indexOf(',', indexOfSpace);\n        if (indexOfComma !== -1) {\n          descriptor = value.substring(indexOfSpace, indexOfComma + 1);\n        } else {\n          descriptor = value.substring(indexOfSpace);\n        }\n      }\n\n      if (url) {\n        if (url.endsWith(',')) {\n          fragment.appendChild(linkifyValue(url.substring(0, url.length - 1)));\n          UI.UIUtils.createTextChild(fragment, ',');\n        } else {\n          fragment.appendChild(linkifyValue(url));\n        }\n      }\n      if (descriptor) {\n        UI.UIUtils.createTextChild(fragment, descriptor);\n      }\n      value = value.substring(url.length + descriptor.length);\n    }\n    return fragment;\n  }\n\n  const nodeName = node ? node.nodeName().toLowerCase() : '';\n  const setAttrValue = ref(el => {\n    if (!el) {\n      return;\n    }\n    const valueElement = el as HTMLElement;\n    valueElement.removeChildren();\n    if (nodeName && (name === 'src' || name === 'href') && value) {\n      valueElement.appendChild(linkifyValue(value));\n    } else if ((nodeName === 'img' || nodeName === 'source') && name === 'srcset') {\n      valueElement.appendChild(linkifySrcset(value));\n    } else if (nodeName === 'image' && (name === 'xlink:href' || name === 'href')) {\n      valueElement.appendChild(linkifySrcset(value));\n    } else {\n      setValueWithEntities(valueElement, value);\n    }\n  });\n\n  const relationRef =\n      (relation: Protocol.DOM.GetElementByRelationRequestRelation, tooltip: string): ReturnType<typeof ref> =>\n          ref((el): void => {\n            if (!el) {\n              return;\n            }\n            void (async(): Promise<void> => {\n              const relatedElementId = await node.domModel().getElementByRelation(node.id, relation);\n              const relatedElement = node.domModel().nodeForId(relatedElementId);\n              if (!relatedElement) {\n                return;\n              }\n              const link = PanelsCommon.DOMLinkifier.Linkifier.instance().linkify(relatedElement, {\n                preventKeyboardFocus: true,\n                tooltip,\n                textContent: el.textContent || undefined,\n                isDynamicLink: true,\n              });\n              el.removeChildren();\n              el.append(link);\n            })();\n          });\n\n  let relationRefDirective: ReturnType<typeof relationRef> = ref(() => {});\n  if (!value) {\n    if (name === 'popovertarget') {\n      relationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.PopoverTarget, i18nString(UIStrings.showPopoverTarget));\n    } else if (name === 'interesttarget') {\n      relationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.InterestTarget, i18nString(UIStrings.showInterestTarget));\n    } else if (name === 'commandfor') {\n      relationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.CommandFor, i18nString(UIStrings.showCommandForTarget));\n    }\n  }\n\n  let valueRelationRefDirective: ReturnType<typeof relationRef> = ref(() => {});\n  if (value) {\n    if (name === 'popovertarget') {\n      valueRelationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.PopoverTarget, i18nString(UIStrings.showPopoverTarget));\n    } else if (name === 'interesttarget') {\n      valueRelationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.InterestTarget, i18nString(UIStrings.showInterestTarget));\n    } else if (name === 'commandfor') {\n      valueRelationRefDirective = relationRef(\n          Protocol.DOM.GetElementByRelationRequestRelation.CommandFor, i18nString(UIStrings.showCommandForTarget));\n    }\n  }\n\n  return html`<span class=\"webkit-html-attribute\" jslog=${jslog}><span class=\"webkit-html-attribute-name\"\n      ${animateOn(Boolean(updateRecord?.isAttributeModified(name) && !hasText), DOM_UPDATE_ANIMATION_CLASS_NAME)} ${\n      relationRefDirective}>${name}</span>${\n      hasText ? html`=\\u200B\"<span class=\"webkit-html-attribute-value\" ${\n                    animateOn(\n                        Boolean(updateRecord?.isAttributeModified(name) && hasText),\n                        DOM_UPDATE_ANIMATION_CLASS_NAME)} ${setAttrValue} ${valueRelationRefDirective}></span>\"` :\n                nothing}</span>`;\n}\n\nfunction renderTag(\n    node: SDK.DOMModel.DOMNode, tagName: string, isClosingTag: boolean, expanded: boolean,\n    isDistinctTreeElement: boolean,\n    updateRecord: Elements.ElementUpdateRecord.ElementUpdateRecord|null): Lit.LitTemplate {\n  const classMap = {\n    'webkit-html-tag': true,\n    close: isClosingTag && isDistinctTreeElement,\n  };\n\n  let hasUpdates = false;\n  const attributes = !isClosingTag && node.hasAttributes() ? node.attributes() : [];\n\n  if (!isClosingTag && updateRecord) {\n    hasUpdates = updateRecord.hasRemovedAttributes() || updateRecord.hasRemovedChildren();\n    hasUpdates = hasUpdates || (!expanded && updateRecord.hasChangedChildren());\n  }\n\n  // We are taking full text content of the tag, including attributes and children, to set the aria label.\n  // FIXME: we should compute the aria label ourselves if it is event needed.\n  const setAriaLabel = ref(el => {\n    if (el?.textContent) {\n      UI.ARIAUtils.setLabel(el, el.textContent);\n    }\n  });\n\n  const tagNameClass = isClosingTag ? 'webkit-html-close-tag-name' : 'webkit-html-tag-name';\n  const tagString = (isClosingTag ? '/' : '') + tagName;\n  const jslog = !isClosingTag ? VisualLogging.value('tag-name').track({change: true, dblclick: true}) : '';\n\n  return html`<span\n      class=${Lit.Directives.classMap(classMap)} ${setAriaLabel}\n      >&lt;<span class=${tagNameClass} jslog=${jslog || nothing} ${\n      animateOn(hasUpdates, DOM_UPDATE_ANIMATION_CLASS_NAME)}>${tagString}</span>${\n      attributes.map(attr => html` ${renderAttribute(attr, updateRecord, false, node)}`)}&gt;</span>\\u200B`;\n}\n\nexport const DEFAULT_VIEW = (input: ViewInput, output: ViewOutput, target: HTMLElement): void => {\n  const hasAdorners = input.showAdAdorner || input.showContainerAdorner || input.showFlexAdorner ||\n      input.showGridAdorner || input.showGridLanesAdorner || input.showMediaAdorner || input.showPopoverAdorner ||\n      input.showTopLayerAdorner || input.showViewSourceAdorner || input.showScrollAdorner ||\n      input.showScrollSnapAdorner || input.showSlotAdorner || input.showStartingStyleAdorner;\n  const gutterContainerClasses = {\n    'has-decorations': input.decorations.length || input.descendantDecorations.length,\n    'gutter-container': true,\n  };\n  // clang-format off\n  render(html`\n    <div ${ref(el => { output.contentElement = el as HTMLElement; })}>\n      ${input.node ? html`<span class=\"highlight\">${renderTitle(\n          input.node,\n          input.isClosingTag,\n          input.expanded,\n          input.isExpandable,\n          input.isXMLMimeType,\n          input.updateRecord,\n          input.onHighlightSearchResults,\n          input.onExpand,\n      )}</span>` : nothing}\n      ${input.isHovered || input.isSelected ? html`\n        <div class=\"selection fill\" style=${`margin-left: ${-input.indent}px`}></div>\n      ` : nothing}\n      <div class=${Lit.Directives.classMap(gutterContainerClasses)}\n           style=\"left: ${-input.indent}px\"\n           @click=${input.onGutterClick}>\n        <devtools-icon name=\"dots-horizontal\"></devtools-icon>\n        ${input.decorations.length || input.descendantDecorations.length ? html`\n        <div class=\"elements-gutter-decoration-container\"\n             title=${input.decorationsTooltip}>\n             ${input.decorations.map(d => html`<div class=\"elements-gutter-decoration\" style=\"--decoration-color: ${d.color}\"></div>`)}\n             ${input.descendantDecorations.map(d => html`<div class=\"elements-gutter-decoration elements-has-decorated-children\" style=\"--decoration-color: ${d.color}\"></div>`)}\n        </div>` : nothing}\n      </div>\n      ${hasAdorners ? html`<div class=\"adorner-container ${!hasAdorners ? 'hidden' : ''}\">\n        ${input.showAdAdorner ? html`<devtools-adorner\n          aria-label=${i18nString(UIStrings.thisFrameWasIdentifiedAsAnAd)}\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.AD}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.AD)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.AD}</span>\n        </devtools-adorner>` : nothing}\n        ${input.showViewSourceAdorner ? html`<devtools-adorner\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.VIEW_SOURCE}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.VIEW_SOURCE)}\n          aria-label=${i18nString(UIStrings.viewSourceCode)}\n          @click=${input.onViewSourceAdornerClick}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.VIEW_SOURCE}</span>\n        </devtools-adorner>` : nothing}\n        ${input.showContainerAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          toggleable=true\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.CONTAINER}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.CONTAINER).track({click: true})}\n          active=${input.containerAdornerActive}\n          aria-label=${input.containerAdornerActive ? i18nString(UIStrings.enableContainer) : i18nString(UIStrings.disableContainer)}\n          @click=${input.onContainerAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onContainerAdornerClick)}\n          ${adornerRef()}>\n          <span class=\"adorner-with-icon\">\n            <devtools-icon name=\"container\"></devtools-icon>\n            <span>${input.containerType}</span>\n          </span>\n        </devtools-adorner>`: nothing}\n        ${input.showFlexAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          toggleable=true\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.FLEX}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.FLEX).track({click: true})}\n          active=${input.flexAdornerActive}\n          aria-label=${input.flexAdornerActive ? i18nString(UIStrings.disableFlexMode) : i18nString(UIStrings.enableFlexMode)}\n          @click=${input.onFlexAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onFlexAdornerClick)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.FLEX}</span>\n        </devtools-adorner>`: nothing}\n        ${input.showGridAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          toggleable=true\n          tabindex=0\n          .name=${input.isSubgrid ? ElementsComponents.AdornerManager.RegisteredAdorners.SUBGRID : ElementsComponents.AdornerManager.RegisteredAdorners.GRID}\n          jslog=${VisualLogging.adorner(input.isSubgrid ? ElementsComponents.AdornerManager.RegisteredAdorners.SUBGRID : ElementsComponents.AdornerManager.RegisteredAdorners.GRID).track({click: true})}\n          active=${input.gridAdornerActive}\n          aria-label=${input.gridAdornerActive ? i18nString(UIStrings.disableGridMode) : i18nString(UIStrings.enableGridMode)}\n          @click=${input.onGridAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onGridAdornerClick)}\n          ${adornerRef()}>\n          <span>${input.isSubgrid ? ElementsComponents.AdornerManager.RegisteredAdorners.SUBGRID : ElementsComponents.AdornerManager.RegisteredAdorners.GRID}</span>\n        </devtools-adorner>`: nothing}\n        ${input.showGridLanesAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          toggleable=true\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.GRID_LANES}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.GRID_LANES).track({click: true})}\n          active=${input.gridAdornerActive}\n          aria-label=${input.gridAdornerActive ? i18nString(UIStrings.disableGridLanesMode) : i18nString(UIStrings.enableGridLanesMode)}\n          @click=${input.onGridAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onGridAdornerClick)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.GRID_LANES}</span>\n        </devtools-adorner>`: nothing}\n        ${input.showMediaAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.MEDIA}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.MEDIA).track({click: true})}\n          aria-label=${i18nString(UIStrings.openMediaPanel)}\n          @click=${input.onMediaAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onMediaAdornerClick)}\n          ${adornerRef()}>\n          <span class=\"adorner-with-icon\">\n            ${ElementsComponents.AdornerManager.RegisteredAdorners.MEDIA}<devtools-icon name=\"select-element\"></devtools-icon>\n          </span>\n        </devtools-adorner>`: nothing}\n        ${input.showPopoverAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          toggleable=true\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.POPOVER}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.POPOVER).track({click: true})}\n          active=${input.popoverAdornerActive}\n          aria-label=${input.popoverAdornerActive ? i18nString(UIStrings.stopForceOpenPopover) : i18nString(UIStrings.forceOpenPopover)}\n          @click=${input.onPopoverAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onPopoverAdornerClick)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.POPOVER}</span>\n        </devtools-adorner>`: nothing}\n        ${input.showTopLayerAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.TOP_LAYER}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.TOP_LAYER).track({click: true})}\n          aria-label=${i18nString(UIStrings.reveal)}\n          @click=${input.onTopLayerAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onTopLayerAdornerClick)}\n          ${adornerRef()}>\n          <span class=\"adorner-with-icon\">\n            ${`top-layer (${input.topLayerIndex})`}<devtools-icon name=\"select-element\"></devtools-icon>\n          </span>\n        </devtools-adorner>`: nothing}\n        ${input.showStartingStyleAdorner ? html`<devtools-adorner\n          class=\"starting-style\"\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.STARTING_STYLE}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.STARTING_STYLE).track({click: true})}\n          active=${input.startingStyleAdornerActive}\n          toggleable=true\n          aria-label=${input.startingStyleAdornerActive ? i18nString(UIStrings.disableStartingStyle) : i18nString(UIStrings.enableStartingStyle)}\n          @click=${input.onStartingStyleAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onStartingStyleAdornerClick)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.STARTING_STYLE}</span>\n        </devtools-adorner>` : nothing}\n        ${input.showScrollAdorner ? html`<devtools-adorner\n          class=\"scroll\"\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL).track({click: true})}\n          aria-label=${i18nString(UIStrings.elementHasScrollableOverflow)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL}</span>\n        </devtools-adorner>` : nothing}\n        ${input.showSlotAdorner ? html`<devtools-adorner\n          class=clickable\n          role=button\n          tabindex=0\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.SLOT}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.SLOT).track({click: true})}\n          @click=${input.onSlotAdornerClick}\n          @mousedown=${(e: Event) => e.stopPropagation()}\n          ${adornerRef()}>\n          <span class=\"adorner-with-icon\">\n            <devtools-icon name=\"select-element\"></devtools-icon>\n            <span>${ElementsComponents.AdornerManager.RegisteredAdorners.SLOT}</span>\n          </span>\n        </devtools-adorner>`: nothing}\n        ${input.showScrollSnapAdorner ? html`<devtools-adorner\n          class=\"scroll-snap\"\n          .name=${ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL_SNAP}\n          jslog=${VisualLogging.adorner(ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL_SNAP).track({click: true})}\n          active=${input.scrollSnapAdornerActive}\n          toggleable=true\n          aria-label=${input.scrollSnapAdornerActive ? i18nString(UIStrings.disableScrollSnap) : i18nString(UIStrings.enableScrollSnap)}\n          @click=${input.onScrollSnapAdornerClick}\n          @keydown=${handleAdornerKeydown(input.onScrollSnapAdornerClick)}\n          ${adornerRef()}>\n          <span>${ElementsComponents.AdornerManager.RegisteredAdorners.SCROLL_SNAP}</span>\n        </devtools-adorner>` : nothing}\n      </div>`: nothing}\n      ${input.isSelected ? html`\n        <span class=\"selected-hint\" title=${i18nString(UIStrings.useSInTheConsoleToReferToThis, {PH1: '$0'})} aria-hidden=\"true\"></span>\n      ` : nothing}\n      ${input.showAiButton ? html`\n        <span class=\"ai-button-container\">\n          <devtools-floating-button\n            icon-name=${AIAssistance.AiUtils.getIconName()}\n            title=${input.aiButtonTitle || ''}\n            jslogcontext=\"ask-ai\"\n            @click=${input.onAiButtonClick}\n            @mousedown=${(e: Event) => e.stopPropagation()}>\n          </devtools-floating-button>\n        </span>\n      ` : nothing}\n    </div>\n  `, target);\n  // clang-format on\n};\n\nexport class ElementsTreeElement extends UI.TreeOutline.TreeElement {\n  nodeInternal: SDK.DOMModel.DOMNode;\n  override treeOutline: ElementsTreeOutline|null;\n\n  private searchQuery: string|null;\n  #expandedChildrenLimit: number;\n  private readonly decorationsThrottler: Common.Throttler.Throttler;\n  private inClipboard: boolean;\n  #hovered: boolean;\n  private editing: EditorHandles|null;\n  private htmlEditElement?: HTMLElement;\n  expandAllButtonElement: UI.TreeOutline.TreeElement|null;\n  #elementIssues = new Map<string, IssuesManager.Issue.Issue>();\n  #nodeElementToIssue = new Map<Element, IssuesManager.Issue.Issue[]>();\n  #highlights: Range[] = [];\n\n  readonly tagTypeContext: TagTypeContext;\n\n  #adornersThrottler = new Common.Throttler.Throttler(100);\n  #containerAdornerActive = false;\n  #flexAdornerActive = false;\n  #gridAdornerActive = false;\n  #popoverAdornerActive = false;\n\n  #scrollSnapAdornerActive = false;\n  #startingStyleAdornerActive = false;\n  #layout: SDK.CSSModel.LayoutProperties|null = null;\n\n  #decorations: Decoration[] = [];\n  #descendantDecorations: Decoration[] = [];\n  #decorationsTooltip = '';\n\n  #updateRecord: Elements.ElementUpdateRecord.ElementUpdateRecord|null = null;\n\n  // Used to add the content to TreeElement's title element.\n  // Relied on by web tests.\n  #contentElement?: HTMLElement;\n\n  constructor(node: SDK.DOMModel.DOMNode, isClosingTag?: boolean) {\n    // The title will be updated in onattach.\n    super();\n    this.nodeInternal = node;\n    this.treeOutline = null;\n    this.listItemElement.setAttribute(\n        'jslog', `${VisualLogging.treeItem().parent('elementsTreeOutline').track({\n          keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Backspace|Delete|Enter|Space|Home|End',\n          drag: true,\n          click: true,\n        })}`);\n\n    this.searchQuery = null;\n    this.#expandedChildrenLimit = InitialChildrenLimit;\n    this.decorationsThrottler = new Common.Throttler.Throttler(100);\n\n    this.inClipboard = false;\n    this.#hovered = false;\n\n    this.editing = null;\n\n    if (isClosingTag) {\n      this.tagTypeContext = {tagType: TagType.CLOSING};\n    } else {\n      this.tagTypeContext = {\n        tagType: TagType.OPENING,\n        canAddAttributes: this.nodeInternal.nodeType() === Node.ELEMENT_NODE,\n      };\n      void this.#updateAdorners();\n    }\n    this.expandAllButtonElement = null;\n    this.performUpdate();\n\n    if (this.nodeInternal.retained && !this.isClosingTag()) {\n      const icon = new Icon();\n      icon.name = 'small-status-dot';\n      icon.style.color = 'var(--icon-error)';\n      icon.classList.add('extra-small');\n      icon.style.setProperty('vertical-align', 'middle');\n      this.setLeadingIcons([icon]);\n      this.listItemNode.classList.add('detached-elements-detached-node');\n      this.listItemNode.style.setProperty('display', '-webkit-box');\n      this.listItemNode.setAttribute('title', 'Retained Node');\n    }\n\n    if (this.nodeInternal.detached && !this.isClosingTag()) {\n      this.listItemNode.setAttribute('title', 'Detached Tree Node');\n    }\n  }\n\n  static animateOnDOMUpdate(treeElement: ElementsTreeElement): void {\n    const tagName = treeElement.listItemElement.querySelector('.webkit-html-tag-name');\n    UI.UIUtils.runCSSAnimationOnce(tagName || treeElement.listItemElement, DOM_UPDATE_ANIMATION_CLASS_NAME);\n  }\n\n  static visibleShadowRoots(node: SDK.DOMModel.DOMNode): SDK.DOMModel.DOMNode[] {\n    let roots = node.shadowRoots();\n    if (roots.length && !Common.Settings.Settings.instance().moduleSetting('show-ua-shadow-dom').get()) {\n      roots = roots.filter(filter);\n    }\n\n    function filter(root: SDK.DOMModel.DOMNode): boolean {\n      return root.shadowRootType() !== SDK.DOMModel.DOMNode.ShadowRootTypes.UserAgent;\n    }\n    return roots;\n  }\n\n  static canShowInlineText(node: SDK.DOMModel.DOMNode): boolean {\n    if (node.contentDocument() || node.templateContent() || ElementsTreeElement.visibleShadowRoots(node).length ||\n        node.hasPseudoElements()) {\n      return false;\n    }\n    if (node.nodeType() !== Node.ELEMENT_NODE) {\n      return false;\n    }\n    if (!node.firstChild || node.firstChild !== node.lastChild || node.firstChild.nodeType() !== Node.TEXT_NODE) {\n      return false;\n    }\n    const textChild = node.firstChild;\n    const maxInlineTextChildLength = 80;\n    if (textChild.nodeValue().length < maxInlineTextChildLength) {\n      return true;\n    }\n    return false;\n  }\n\n  static populateForcedPseudoStateItems(contextMenu: UI.ContextMenu.ContextMenu, node: SDK.DOMModel.DOMNode): void {\n    const pseudoClasses = ['active', 'hover', 'focus', 'visited', 'focus-within', 'focus-visible'];\n    const forcedPseudoState = node.domModel().cssModel().pseudoState(node);\n    const stateMenu =\n        contextMenu.debugSection().appendSubMenuItem(i18nString(UIStrings.forceState), false, 'force-state');\n    for (const pseudoClass of pseudoClasses) {\n      const pseudoClassForced = forcedPseudoState ? forcedPseudoState.indexOf(pseudoClass) >= 0 : false;\n      stateMenu.defaultSection().appendCheckboxItem(\n          ':' + pseudoClass, setPseudoStateCallback.bind(null, pseudoClass, !pseudoClassForced),\n          {checked: pseudoClassForced, jslogContext: pseudoClass});\n    }\n\n    function setPseudoStateCallback(pseudoState: string, enabled: boolean): void {\n      node.domModel().cssModel().forcePseudoState(node, pseudoState, enabled);\n    }\n  }\n\n  // ClearNode param is used to clean DOM after in-place editing..\n  performUpdate(clearNode = false): void {\n    if (this.editing) {\n      return;\n    }\n    const output: ViewOutput = {};\n    DEFAULT_VIEW(\n        {\n          node: !clearNode ? this.nodeInternal : null,\n          isClosingTag: this.isClosingTag(),\n          expanded: this.expanded,\n          isExpandable: this.isExpandable(),\n          isXMLMimeType: Boolean(this.treeOutline?.isXMLMimeType),\n          updateRecord: this.#updateRecord,\n          onHighlightSearchResults: () => this.#highlightSearchResults(),\n          onExpand: () => this.expand(),\n\n          containerAdornerActive: this.#containerAdornerActive,\n          showAdAdorner: this.nodeInternal.isAdFrameNode(),\n          showContainerAdorner: Boolean(this.#layout?.containerType) && !this.isClosingTag(),\n          containerType: this.#layout?.containerType,\n          showFlexAdorner: Boolean(this.#layout?.isFlex) && !this.isClosingTag(),\n          flexAdornerActive: this.#flexAdornerActive,\n          showGridAdorner: Boolean(this.#layout?.isGrid) && !this.isClosingTag(),\n          showGridLanesAdorner: Boolean(this.#layout?.isGridLanes) && !this.isClosingTag(),\n          showMediaAdorner: this.node().isMediaNode() && !this.isClosingTag(),\n          showPopoverAdorner: Boolean(Root.Runtime.hostConfig.devToolsAllowPopoverForcing?.enabled) &&\n              Boolean(this.node().attributes().find(attr => attr.name === 'popover')) && !this.isClosingTag(),\n          showTopLayerAdorner: this.node().topLayerIndex() !== -1 && !this.isClosingTag(),\n          gridAdornerActive: this.#gridAdornerActive,\n          popoverAdornerActive: this.#popoverAdornerActive,\n          isSubgrid: Boolean(this.#layout?.isSubgrid),\n          showViewSourceAdorner: this.nodeInternal.isRootNode() && isOpeningTag(this.tagTypeContext),\n          showScrollAdorner: ((this.node().nodeName() === 'HTML' && this.node().ownerDocument?.isScrollable()) ||\n                              (this.node().nodeName() !== '#document' && this.node().isScrollable())) &&\n              !this.isClosingTag(),\n          decorations: this.#decorations,\n          descendantDecorations: this.expanded ? [] : this.#descendantDecorations,\n          decorationsTooltip: this.#decorationsTooltip,\n          indent: this.computeLeftIndent(),\n          showScrollSnapAdorner: Boolean(this.#layout?.hasScroll) && !this.isClosingTag(),\n          scrollSnapAdornerActive: this.#scrollSnapAdornerActive,\n          showSlotAdorner: Boolean(this.nodeInternal.assignedSlot) && !this.isClosingTag(),\n          showStartingStyleAdorner: this.nodeInternal.affectedByStartingStyles() && !this.isClosingTag(),\n          startingStyleAdornerActive: this.#startingStyleAdornerActive,\n          onStartingStyleAdornerClick: (event: Event) => this.#onStartingStyleAdornerClick(event),\n          onSlotAdornerClick: () => {\n            if (this.nodeInternal.assignedSlot) {\n              const deferredNode = this.nodeInternal.assignedSlot.deferredNode;\n              deferredNode.resolve(node => {\n                void Common.Revealer.reveal(node);\n              });\n            }\n          },\n          topLayerIndex: this.node().topLayerIndex(),\n          onViewSourceAdornerClick: this.revealHTMLInSources.bind(this),\n          onGutterClick: this.showContextMenu.bind(this),\n          onContainerAdornerClick: (event: Event) => this.#onContainerAdornerClick(event),\n          onFlexAdornerClick: (event: Event) => this.#onFlexAdornerClick(event),\n          onGridAdornerClick: (event: Event) => this.#onGridAdornerClick(event),\n          onMediaAdornerClick: (event: Event) => this.#onMediaAdornerClick(event),\n          onPopoverAdornerClick: (event: Event) => this.#onPopoverAdornerClick(event),\n          onScrollSnapAdornerClick: (event: Event) => this.#onScrollSnapAdornerClick(event),\n          onTopLayerAdornerClick: () => {\n            if (!this.treeOutline) {\n              return;\n            }\n            this.treeOutline.revealInTopLayer(this.node());\n          },\n          isHovered: this.#hovered,\n          isSelected: this.selected,\n          showAiButton: Boolean(this.#hovered || this.selected) && this.node().nodeType() === Node.ELEMENT_NODE &&\n              UI.ActionRegistry.ActionRegistry.instance().hasAction('freestyler.elements-floating-button'),\n          aiButtonTitle: UI.ActionRegistry.ActionRegistry.instance().hasAction('freestyler.elements-floating-button') ?\n              UI.ActionRegistry.ActionRegistry.instance().getAction('freestyler.elements-floating-button').title() :\n              undefined,\n          onAiButtonClick: (ev: Event) => {\n            ev.stopPropagation();\n            this.select(true, false);\n            const action = UI.ActionRegistry.ActionRegistry.instance().getAction('freestyler.elements-floating-button');\n            if (action) {\n              void action.execute();\n            }\n          },\n        },\n        output, this.listItemElement);\n\n    this.#contentElement = output.contentElement;\n    if (this.#updateRecord) {\n      this.#updateRecord = null;\n    }\n  }\n\n  #onContainerAdornerClick(event: Event): void {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    const model = node.domModel().overlayModel();\n    if (model.isHighlightedContainerQueryInPersistentOverlay(nodeId)) {\n      model.hideContainerQueryInPersistentOverlay(nodeId);\n      this.#containerAdornerActive = false;\n    } else {\n      model.highlightContainerQueryInPersistentOverlay(nodeId);\n      this.#containerAdornerActive = true;\n      Badges.UserBadges.instance().recordAction(Badges.BadgeAction.MODERN_DOM_BADGE_CLICKED);\n    }\n    void this.updateAdorners();\n  }\n\n  #onFlexAdornerClick(event: Event): void {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    const model = node.domModel().overlayModel();\n    if (model.isHighlightedFlexContainerInPersistentOverlay(nodeId)) {\n      model.hideFlexContainerInPersistentOverlay(nodeId);\n      this.#flexAdornerActive = false;\n    } else {\n      model.highlightFlexContainerInPersistentOverlay(nodeId);\n      this.#flexAdornerActive = true;\n      Badges.UserBadges.instance().recordAction(Badges.BadgeAction.MODERN_DOM_BADGE_CLICKED);\n    }\n    void this.updateAdorners();\n  }\n\n  #onGridAdornerClick(event: Event): void {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    const model = node.domModel().overlayModel();\n    if (model.isHighlightedGridInPersistentOverlay(nodeId)) {\n      model.hideGridInPersistentOverlay(nodeId);\n      this.#gridAdornerActive = false;\n    } else {\n      model.highlightGridInPersistentOverlay(nodeId);\n      this.#gridAdornerActive = true;\n      if (this.#layout?.isSubgrid) {\n        Badges.UserBadges.instance().recordAction(Badges.BadgeAction.MODERN_DOM_BADGE_CLICKED);\n      }\n    }\n    void this.updateAdorners();\n  }\n\n  async #onMediaAdornerClick(event: Event): Promise<void> {\n    event.stopPropagation();\n    await UI.ViewManager.ViewManager.instance().showView('medias');\n    const view = UI.ViewManager.ViewManager.instance().view('medias');\n    if (view) {\n      const widget = await view.widget();\n      if (widget instanceof Media.MainView.MainView) {\n        await widget.waitForInitialPlayers();\n        widget.selectPlayerByDOMNodeId(this.node().backendNodeId());\n      }\n    }\n  }\n\n  highlightAttribute(attributeName: string): void {\n    // If the attribute is not found, we highlight the tag name instead.\n    let animationElement = this.listItemElement.querySelector('.webkit-html-tag-name') ?? this.listItemElement;\n\n    if (this.nodeInternal.getAttribute(attributeName) !== undefined) {\n      const tag = this.listItemElement.getElementsByClassName('webkit-html-tag')[0];\n      const attributes = tag.getElementsByClassName('webkit-html-attribute');\n      for (const attribute of attributes) {\n        const attributeElement = attribute.getElementsByClassName('webkit-html-attribute-name')[0];\n        if (attributeElement.textContent === attributeName) {\n          animationElement = attributeElement;\n          break;\n        }\n      }\n    }\n    UI.UIUtils.runCSSAnimationOnce(animationElement, DOM_UPDATE_ANIMATION_CLASS_NAME);\n  }\n\n  isClosingTag(): boolean {\n    return !isOpeningTag(this.tagTypeContext);\n  }\n\n  node(): SDK.DOMModel.DOMNode {\n    return this.nodeInternal;\n  }\n\n  isEditing(): boolean {\n    return Boolean(this.editing);\n  }\n\n  highlightSearchResults(searchQuery: string): void {\n    this.searchQuery = searchQuery;\n    if (!this.editing) {\n      this.#highlightSearchResults();\n    }\n  }\n\n  hideSearchHighlights(): void {\n    Highlighting.HighlightManager.HighlightManager.instance().removeHighlights(this.#highlights);\n    this.#highlights = [];\n  }\n\n  setInClipboard(inClipboard: boolean): void {\n    if (this.inClipboard === inClipboard) {\n      return;\n    }\n    this.inClipboard = inClipboard;\n    this.listItemElement.classList.toggle('in-clipboard', inClipboard);\n  }\n\n  get hovered(): boolean {\n    return this.#hovered;\n  }\n\n  set hovered(isHovered: boolean) {\n    if (this.#hovered === isHovered) {\n      return;\n    }\n\n    this.#hovered = isHovered;\n\n    if (this.listItemElement) {\n      if (isHovered) {\n        this.listItemElement.classList.add('hovered');\n      } else {\n        this.listItemElement.classList.remove('hovered');\n      }\n      this.performUpdate();\n    }\n  }\n\n  addIssue(newIssue: IssuesManager.Issue.Issue): void {\n    if (this.#elementIssues.has(newIssue.primaryKey())) {\n      return;\n    }\n\n    this.#elementIssues.set(newIssue.primaryKey(), newIssue);\n    this.#applyIssueStyleAndTooltip(newIssue);\n  }\n\n  #applyIssueStyleAndTooltip(issue: IssuesManager.Issue.Issue): void {\n    const elementIssueDetails = getElementIssueDetails(issue);\n    if (!elementIssueDetails) {\n      return;\n    }\n\n    if (elementIssueDetails.attribute) {\n      this.#highlightViolatingAttr(elementIssueDetails.attribute, issue);\n    } else {\n      this.#highlightTagAsViolating(issue);\n    }\n  }\n\n  get issuesByNodeElement(): Map<Element, IssuesManager.Issue.Issue[]> {\n    return this.#nodeElementToIssue;\n  }\n\n  #highlightViolatingAttr(name: string, issue: IssuesManager.Issue.Issue): void {\n    const tag = this.listItemElement.getElementsByClassName('webkit-html-tag')[0];\n    const attributes = tag.getElementsByClassName('webkit-html-attribute');\n    for (const attribute of attributes) {\n      if (attribute.getElementsByClassName('webkit-html-attribute-name')[0].textContent === name) {\n        const attributeElement = attribute.getElementsByClassName('webkit-html-attribute-name')[0];\n        attributeElement.classList.add('violating-element');\n        this.#updateNodeElementToIssue(attributeElement, issue);\n      }\n    }\n  }\n\n  #highlightTagAsViolating(issue: IssuesManager.Issue.Issue): void {\n    const tagElement = this.listItemElement.getElementsByClassName('webkit-html-tag-name')[0];\n    tagElement.classList.add('violating-element');\n    this.#updateNodeElementToIssue(tagElement, issue);\n  }\n\n  #updateNodeElementToIssue(nodeElement: Element, issue: IssuesManager.Issue.Issue): void {\n    let issues = this.#nodeElementToIssue.get(nodeElement);\n    if (!issues) {\n      issues = [];\n      this.#nodeElementToIssue.set(nodeElement, issues);\n    }\n    issues.push(issue);\n    this.treeOutline?.updateNodeElementToIssue(nodeElement, issues);\n  }\n\n  expandedChildrenLimit(): number {\n    return this.#expandedChildrenLimit;\n  }\n\n  setExpandedChildrenLimit(expandedChildrenLimit: number): void {\n    this.#expandedChildrenLimit = expandedChildrenLimit;\n  }\n\n  onTopLayerIndexChanged(): void {\n    this.performUpdate();\n  }\n\n  override onbind(): void {\n    this.performUpdate();\n    if (this.treeOutline && !this.isClosingTag()) {\n      this.treeOutline.treeElementByNode.set(this.nodeInternal, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.TOP_LAYER_INDEX_CHANGED, this.onTopLayerIndexChanged, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.SCROLLABLE_FLAG_UPDATED, this.#onScrollableFlagUpdated, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.CONTAINER_QUERY_OVERLAY_STATE_CHANGED,\n          this.#onPersistentContainerQueryOverlayStateChanged, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.FLEX_CONTAINER_OVERLAY_STATE_CHANGED,\n          this.#onPersistentFlexContainerOverlayStateChanged, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.GRID_OVERLAY_STATE_CHANGED, this.#onPersistentGridOverlayStateChanged, this);\n      this.nodeInternal.addEventListener(\n          SDK.DOMModel.DOMNodeEvents.SCROLL_SNAP_OVERLAY_STATE_CHANGED, this.#onPersistentScrollSnapOverlayStateChanged,\n          this);\n    }\n  }\n\n  override onunbind(): void {\n    if (this.editing) {\n      this.editing.cancel();\n    }\n    // Update the element to clean up adorner registrations with the\n    // ElementsPanel.\n    // We do not change the ElementsTreeElement state in case the\n    // element is bound again.\n    DEFAULT_VIEW(\n        {\n          node: null,\n          isClosingTag: false,\n          expanded: false,\n          isExpandable: false,\n          isXMLMimeType: false,\n          updateRecord: null,\n          onHighlightSearchResults: () => {},\n          onExpand: () => {},\n          containerAdornerActive: false,\n          showAdAdorner: false,\n          showContainerAdorner: false,\n          containerType: this.#layout?.containerType,\n          showFlexAdorner: false,\n          flexAdornerActive: false,\n          showGridAdorner: false,\n          showGridLanesAdorner: false,\n          showMediaAdorner: false,\n          showPopoverAdorner: false,\n          showTopLayerAdorner: false,\n          gridAdornerActive: false,\n          popoverAdornerActive: false,\n          isSubgrid: false,\n          showViewSourceAdorner: false,\n          showScrollAdorner: false,\n          showScrollSnapAdorner: false,\n          scrollSnapAdornerActive: false,\n          showSlotAdorner: false,\n          showStartingStyleAdorner: false,\n          startingStyleAdornerActive: false,\n          onStartingStyleAdornerClick: () => {},\n          onSlotAdornerClick: () => {},\n          topLayerIndex: -1,\n          onViewSourceAdornerClick: () => {},\n          onGutterClick: () => {},\n          onContainerAdornerClick: () => {},\n          onFlexAdornerClick: () => {},\n          onGridAdornerClick: () => {},\n          onMediaAdornerClick: () => {},\n          onPopoverAdornerClick: () => {},\n          onScrollSnapAdornerClick: () => {},\n          onTopLayerAdornerClick: () => {},\n          isHovered: false,\n          isSelected: false,\n          showAiButton: false,\n          onAiButtonClick: () => {},\n          decorations: [],\n          descendantDecorations: [],\n          decorationsTooltip: '',\n          indent: 0,\n        },\n        {}, this.listItemElement);\n\n    if (this.treeOutline && this.treeOutline.treeElementByNode.get(this.nodeInternal) === this) {\n      this.treeOutline.treeElementByNode.delete(this.nodeInternal);\n    }\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.TOP_LAYER_INDEX_CHANGED, this.onTopLayerIndexChanged, this);\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.SCROLLABLE_FLAG_UPDATED, this.#onScrollableFlagUpdated, this);\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.CONTAINER_QUERY_OVERLAY_STATE_CHANGED,\n        this.#onPersistentContainerQueryOverlayStateChanged, this);\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.FLEX_CONTAINER_OVERLAY_STATE_CHANGED,\n        this.#onPersistentFlexContainerOverlayStateChanged, this);\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.GRID_OVERLAY_STATE_CHANGED, this.#onPersistentGridOverlayStateChanged, this);\n    this.nodeInternal.removeEventListener(\n        SDK.DOMModel.DOMNodeEvents.SCROLL_SNAP_OVERLAY_STATE_CHANGED, this.#onPersistentScrollSnapOverlayStateChanged,\n        this);\n  }\n\n  #onScrollableFlagUpdated(): void {\n    void this.#updateAdorners();\n  }\n\n  #onPersistentContainerQueryOverlayStateChanged(event: Common.EventTarget.EventTargetEvent<{enabled: boolean}>): void {\n    this.#containerAdornerActive = event.data.enabled;\n    this.performUpdate();\n  }\n\n  #onPersistentFlexContainerOverlayStateChanged(event: Common.EventTarget.EventTargetEvent<{enabled: boolean}>): void {\n    this.#flexAdornerActive = event.data.enabled;\n    this.performUpdate();\n  }\n\n  #onPersistentGridOverlayStateChanged(event: Common.EventTarget.EventTargetEvent<{enabled: boolean}>): void {\n    this.#gridAdornerActive = event.data.enabled;\n    this.performUpdate();\n  }\n\n  #onPersistentScrollSnapOverlayStateChanged(event: Common.EventTarget.EventTargetEvent<{enabled: boolean}>): void {\n    this.#scrollSnapAdornerActive = event.data.enabled;\n    this.performUpdate();\n  }\n\n  #onScrollSnapAdornerClick(event: Event): void {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    const model = node.domModel().overlayModel();\n    if (this.#scrollSnapAdornerActive) {\n      model.hideScrollSnapInPersistentOverlay(nodeId);\n    } else {\n      model.highlightScrollSnapInPersistentOverlay(nodeId);\n    }\n  }\n\n  override onattach(): void {\n    if (this.#hovered) {\n      this.listItemElement.classList.add('hovered');\n      this.performUpdate();\n    }\n\n    this.updateTitle();\n    this.listItemElement.draggable = true;\n  }\n\n  override async onpopulate(): Promise<void> {\n    if (this.treeOutline) {\n      return await this.treeOutline.populateTreeElement(this);\n    }\n  }\n\n  override async expandRecursively(): Promise<void> {\n    await this.nodeInternal.getSubtree(100, true);\n    await super.expandRecursively(Number.MAX_VALUE);\n  }\n\n  override onexpand(): void {\n    if (this.isClosingTag()) {\n      return;\n    }\n\n    this.updateTitle();\n  }\n\n  override oncollapse(): void {\n    if (this.isClosingTag()) {\n      return;\n    }\n\n    this.updateTitle();\n  }\n\n  override select(omitFocus?: boolean, selectedByUser?: boolean): boolean {\n    if (this.editing) {\n      return false;\n    }\n    return super.select(omitFocus, selectedByUser);\n  }\n\n  override onselect(selectedByUser?: boolean): boolean {\n    if (!this.treeOutline) {\n      return false;\n    }\n    this.treeOutline.suppressRevealAndSelect = true;\n    this.treeOutline.selectDOMNode(this.nodeInternal, selectedByUser);\n    if (selectedByUser) {\n      this.nodeInternal.highlight();\n      Host.userMetrics.actionTaken(Host.UserMetrics.Action.ChangeInspectedNodeInElementsPanel);\n    }\n    this.performUpdate();\n    this.treeOutline.suppressRevealAndSelect = false;\n    return true;\n  }\n\n  override ondelete(): boolean {\n    if (!this.treeOutline) {\n      return false;\n    }\n    const startTagTreeElement = this.treeOutline.findTreeElement(this.nodeInternal);\n    startTagTreeElement ? (void startTagTreeElement.remove()) : (void this.remove());\n    return true;\n  }\n\n  override onenter(): boolean {\n    // On Enter or Return start editing the first attribute\n    // or create a new attribute on the selected element.\n    if (this.editing) {\n      return false;\n    }\n\n    this.startEditing();\n\n    // prevent a newline from being immediately inserted\n    return true;\n  }\n\n  override selectOnMouseDown(event: MouseEvent): void {\n    super.selectOnMouseDown(event);\n\n    if (this.editing) {\n      return;\n    }\n\n    // Prevent selecting the nearest word on double click.\n    if (event.detail >= 2) {\n      event.preventDefault();\n    }\n  }\n\n  override ondblclick(event: Event): boolean {\n    if (this.editing || this.isClosingTag()) {\n      return false;\n    }\n    if (this.startEditingTarget((event.target as Element))) {\n      return false;\n    }\n\n    if (this.isExpandable() && !this.expanded) {\n      this.expand();\n    }\n    return false;\n  }\n\n  hasEditableNode(): boolean {\n    return !this.nodeInternal.isShadowRoot() && !this.nodeInternal.ancestorUserAgentShadowRoot();\n  }\n\n  private insertInLastAttributePosition(tag: Element, node: Element): void {\n    if (tag.getElementsByClassName('webkit-html-attribute').length > 0) {\n      tag.insertBefore(node, tag.lastChild);\n    } else if (tag.textContent !== null) {\n      const matchResult = tag.textContent.match(/^<(.*?)>$/);\n      if (!matchResult) {\n        return;\n      }\n      const nodeName = matchResult[1];\n      tag.textContent = '';\n      UI.UIUtils.createTextChild(tag, '<' + nodeName);\n      tag.appendChild(node);\n      UI.UIUtils.createTextChild(tag, '>');\n    }\n  }\n\n  private startEditingTarget(eventTarget: Element): boolean {\n    if (!this.treeOutline || this.treeOutline.selectedDOMNode() !== this.nodeInternal) {\n      return false;\n    }\n\n    if (this.nodeInternal.nodeType() !== Node.ELEMENT_NODE && this.nodeInternal.nodeType() !== Node.TEXT_NODE) {\n      return false;\n    }\n\n    const textNode = eventTarget.enclosingNodeOrSelfWithClass('webkit-html-text-node');\n    if (textNode) {\n      return this.startEditingTextNode(textNode);\n    }\n\n    const attribute = eventTarget.enclosingNodeOrSelfWithClass('webkit-html-attribute');\n    if (attribute) {\n      return this.startEditingAttribute(attribute, eventTarget);\n    }\n\n    const tagName = eventTarget.enclosingNodeOrSelfWithClass('webkit-html-tag-name');\n    if (tagName) {\n      return this.startEditingTagName(tagName);\n    }\n\n    const newAttribute = eventTarget.enclosingNodeOrSelfWithClass('add-attribute');\n    if (newAttribute) {\n      return this.addNewAttribute();\n    }\n\n    return false;\n  }\n\n  private showContextMenu(event: Event): void {\n    this.treeOutline && void this.treeOutline.showContextMenu(this, event);\n  }\n\n  private revealHTMLInSources(): void {\n    const frameOwnerId = this.nodeInternal.frameOwnerFrameId();\n    if (frameOwnerId) {\n      const frame = SDK.FrameManager.FrameManager.instance().getFrame(frameOwnerId);\n      if (frame) {\n        const sourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(frame.url);\n        void Common.Revealer.reveal(sourceCode);\n      }\n    }\n  }\n\n  async populateTagContextMenu(contextMenu: UI.ContextMenu.ContextMenu, event: Event): Promise<void> {\n    // Add attribute-related actions.\n    const treeElement =\n        this.isClosingTag() && this.treeOutline ? this.treeOutline.findTreeElement(this.nodeInternal) : this;\n    if (!treeElement) {\n      return;\n    }\n    contextMenu.editSection().appendItem(\n        i18nString(UIStrings.addAttribute), treeElement.addNewAttribute.bind(treeElement),\n        {jslogContext: 'add-attribute'});\n\n    const target = (event.target as Element);\n    const attribute = target.enclosingNodeOrSelfWithClass('webkit-html-attribute');\n    const newAttribute = target.enclosingNodeOrSelfWithClass('add-attribute');\n    if (attribute && !newAttribute) {\n      contextMenu.editSection().appendItem(\n          i18nString(UIStrings.editAttribute), this.startEditingAttribute.bind(this, attribute, target),\n          {jslogContext: 'edit-attribute'});\n    }\n    await this.populateNodeContextMenu(contextMenu);\n    ElementsTreeElement.populateForcedPseudoStateItems(contextMenu, treeElement.node());\n    this.populateScrollIntoView(contextMenu);\n    contextMenu.viewSection().appendItem(i18nString(UIStrings.focus), async () => {\n      await this.nodeInternal.focus();\n    }, {jslogContext: 'focus'});\n  }\n\n  populatePseudoElementContextMenu(contextMenu: UI.ContextMenu.ContextMenu): void {\n    if (this.childCount() !== 0) {\n      this.populateExpandRecursively(contextMenu);\n    }\n\n    this.populateScrollIntoView(contextMenu);\n  }\n\n  private populateExpandRecursively(contextMenu: UI.ContextMenu.ContextMenu): void {\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.expandRecursively), this.expandRecursively.bind(this),\n        {jslogContext: 'expand-recursively'});\n  }\n\n  private populateScrollIntoView(contextMenu: UI.ContextMenu.ContextMenu): void {\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.scrollIntoView), () => this.nodeInternal.scrollIntoView(),\n        {jslogContext: 'scroll-into-view'});\n  }\n\n  async populateTextContextMenu(contextMenu: UI.ContextMenu.ContextMenu, textNode: Element): Promise<void> {\n    if (!this.editing) {\n      contextMenu.editSection().appendItem(\n          i18nString(UIStrings.editText), this.startEditingTextNode.bind(this, textNode), {jslogContext: 'edit-text'});\n    }\n    return await this.populateNodeContextMenu(contextMenu);\n  }\n\n  async populateNodeContextMenu(contextMenu: UI.ContextMenu.ContextMenu): Promise<void> {\n    // Add free-form node-related actions.\n    const isEditable = this.hasEditableNode();\n    // clang-format off\n    if (isEditable && !this.editing) {\n      contextMenu.editSection().appendItem(i18nString(UIStrings.editAsHtml), this.editAsHTML.bind(this), { jslogContext: 'elements.edit-as-html' });\n    }\n    // clang-format on\n    const isShadowRoot = this.nodeInternal.isShadowRoot();\n\n    const createShortcut = UI.KeyboardShortcut.KeyboardShortcut.shortcutToString.bind(null);\n    const modifier = UI.KeyboardShortcut.Modifiers.CtrlOrMeta.value;\n    const treeOutline = this.treeOutline;\n    if (!treeOutline) {\n      return;\n    }\n    let menuItem;\n\n    const openAiAssistanceId = 'freestyler.element-panel-context';\n    if (UI.ActionRegistry.ActionRegistry.instance().hasAction(openAiAssistanceId)) {\n      function appendSubmenuPromptAction(\n          submenu: UI.ContextMenu.SubMenu, action: UI.ActionRegistration.Action, label: Common.UIString.LocalizedString,\n          prompt: string, jslogContext: string): void {\n        submenu.defaultSection().appendItem(label, () => {\n          void action.execute({prompt});\n          UI.UIUtils.PromotionManager.instance().recordFeatureInteraction(openAiAssistanceId);\n        }, {disabled: !action.enabled(), jslogContext});\n      }\n\n      UI.Context.Context.instance().setFlavor(SDK.DOMModel.DOMNode, this.nodeInternal);\n      const action = UI.ActionRegistry.ActionRegistry.instance().getAction(openAiAssistanceId);\n      const submenu = contextMenu.footerSection().appendSubMenuItem(action.title(), false, openAiAssistanceId);\n      submenu.defaultSection().appendAction(openAiAssistanceId, i18nString(UIStrings.startAChat));\n\n      const submenuConfigs = [\n        {\n          condition: (props: SDK.CSSModel.LayoutProperties|null): boolean => Boolean(props?.isFlex),\n          items: [\n            {\n              label: i18nString(UIStrings.wrapTheseItems),\n              prompt: 'How can I make flex items wrap?',\n              jslogContextSuffix: '.flex-wrap',\n            },\n            {\n              label: i18nString(UIStrings.distributeItemsEvenly),\n              prompt: 'How do I distribute flex items evenly?',\n              jslogContextSuffix: '.flex-distribute',\n            },\n            {\n              label: i18nString(UIStrings.explainFlexbox),\n              prompt: 'What is flexbox?',\n              jslogContextSuffix: '.flex-what',\n            },\n          ],\n        },\n        {\n          condition: (props: SDK.CSSModel.LayoutProperties|null): boolean =>\n              Boolean(props?.isGrid && !props?.isSubgrid),\n          items: [\n            {\n              label: i18nString(UIStrings.alignItems),\n              prompt: 'How do I align items in a grid?',\n              jslogContextSuffix: '.grid-align',\n            },\n            {\n              label: i18nString(UIStrings.addPadding),\n              prompt: 'How to add spacing between grid items?',\n              jslogContextSuffix: '.grid-gap',\n            },\n            {\n              label: i18nString(UIStrings.explainGridLayout),\n              prompt: 'How does grid layout work?',\n              jslogContextSuffix: '.grid-how',\n            },\n          ],\n        },\n        {\n          condition: (props: SDK.CSSModel.LayoutProperties|null): boolean => Boolean(props?.isSubgrid),\n          items: [\n            {\n              label: i18nString(UIStrings.findGridDefinition),\n              prompt: 'Where is this grid defined?',\n              jslogContextSuffix: '.subgrid-where',\n            },\n            {\n              label: i18nString(UIStrings.changeParentProperties),\n              prompt: 'How to overwrite parent grid properties?',\n              jslogContextSuffix: '.subgrid-override',\n            },\n            {\n              label: i18nString(UIStrings.explainSubgrids),\n              prompt: 'How do subgrids work?',\n              jslogContextSuffix: '.subgrid-how',\n            },\n          ],\n        },\n        {\n          condition: (props: SDK.CSSModel.LayoutProperties|null): boolean => Boolean(props?.hasScroll),\n          items: [\n            {\n              label: i18nString(UIStrings.removeScrollbars),\n              prompt: 'How do I remove scrollbars for this element?',\n              jslogContextSuffix: '.scroll-remove',\n            },\n            {\n              label: i18nString(UIStrings.styleScrollbars),\n              prompt: 'How can I style a scrollbar?',\n              jslogContextSuffix: '.scroll-style',\n            },\n            {\n              label: i18nString(UIStrings.explainScrollbars),\n              prompt: 'Why does this element scroll?',\n              jslogContextSuffix: '.scroll-why',\n            },\n          ],\n        },\n        {\n          condition: (props: SDK.CSSModel.LayoutProperties|null): boolean => Boolean(props?.containerType),\n          items: [\n            {\n              label: i18nString(UIStrings.explainContainerQueries),\n              prompt: 'What are container queries?',\n              jslogContextSuffix: '.container-what',\n            },\n            {\n              label: i18nString(UIStrings.explainContainerTypes),\n              prompt: 'How do I use container-type?',\n              jslogContextSuffix: '.container-how',\n            },\n            {\n              label: i18nString(UIStrings.explainContainerContext),\n              prompt: 'What\\'s the container context for this element?',\n              jslogContextSuffix: '.container-context',\n            },\n          ],\n        },\n        {\n          // Default items\n          condition: (): boolean => true,\n          items: [\n            {\n              label: i18nString(UIStrings.assessVisibility),\n              prompt: 'Why isnt this element visible?',\n              jslogContextSuffix: '.visibility',\n            },\n            {\n              label: i18nString(UIStrings.centerElement),\n              prompt: 'How do I center this element?',\n              jslogContextSuffix: '.center',\n            },\n          ],\n        },\n      ];\n\n      const layoutProps =\n          await this.nodeInternal.domModel().cssModel().getLayoutPropertiesFromComputedStyle(this.nodeInternal.id);\n      const config = submenuConfigs.find(c => c.condition(layoutProps));\n      if (config) {\n        for (const item of config.items) {\n          appendSubmenuPromptAction(\n              submenu, action, item.label, item.prompt, openAiAssistanceId + item.jslogContextSuffix);\n        }\n      }\n    }\n\n    menuItem = contextMenu.clipboardSection().appendItem(\n        i18nString(UIStrings.cut), treeOutline.performCopyOrCut.bind(treeOutline, true, this.nodeInternal),\n        {disabled: !this.hasEditableNode(), jslogContext: 'cut'});\n    menuItem.setShortcut(createShortcut('X', modifier));\n\n    // Place it here so that all \"Copy\"-ing items stick together.\n    const copyMenu = contextMenu.clipboardSection().appendSubMenuItem(i18nString(UIStrings.copy), false, 'copy');\n    const section = copyMenu.section();\n    if (!isShadowRoot) {\n      menuItem = section.appendItem(\n          i18nString(UIStrings.copyOuterhtml), treeOutline.performCopyOrCut.bind(treeOutline, false, this.nodeInternal),\n          {jslogContext: 'copy-outer-html'});\n      menuItem.setShortcut(createShortcut('V', modifier));\n    }\n    if (this.nodeInternal.nodeType() === Node.ELEMENT_NODE) {\n      section.appendItem(\n          i18nString(UIStrings.copySelector), this.copyCSSPath.bind(this), {jslogContext: 'copy-selector'});\n      section.appendItem(\n          i18nString(UIStrings.copyJsPath), this.copyJSPath.bind(this),\n          {disabled: !canGetJSPath(this.nodeInternal), jslogContext: 'copy-js-path'});\n      section.appendItem(\n          i18nString(UIStrings.copyStyles), this.copyStyles.bind(this), {jslogContext: 'elements.copy-styles'});\n    }\n    if (!isShadowRoot) {\n      section.appendItem(i18nString(UIStrings.copyXpath), this.copyXPath.bind(this), {jslogContext: 'copy-xpath'});\n      section.appendItem(\n          i18nString(UIStrings.copyFullXpath), this.copyFullXPath.bind(this), {jslogContext: 'copy-full-xpath'});\n    }\n\n    menuItem = copyMenu.clipboardSection().appendItem(\n        i18nString(UIStrings.copyElement),\n        treeOutline.performCopyOrCut.bind(treeOutline, false, this.nodeInternal, true), {jslogContext: 'copy-element'});\n    menuItem.setShortcut(createShortcut('C', modifier));\n\n    if (!isShadowRoot) {\n      // Duplicate element, disabled on root element and ShadowDOM.\n      const isRootElement = !this.nodeInternal.parentNode || this.nodeInternal.parentNode.nodeName() === '#document';\n      menuItem = contextMenu.editSection().appendItem(\n          i18nString(UIStrings.duplicateElement), treeOutline.duplicateNode.bind(treeOutline, this.nodeInternal), {\n            disabled: (this.nodeInternal.isInShadowTree() || isRootElement),\n            jslogContext: 'elements.duplicate-element',\n          });\n    }\n\n    menuItem = contextMenu.clipboardSection().appendItem(\n        i18nString(UIStrings.paste), treeOutline.pasteNode.bind(treeOutline, this.nodeInternal),\n        {disabled: !treeOutline.canPaste(this.nodeInternal), jslogContext: 'paste'});\n    menuItem.setShortcut(createShortcut('V', modifier));\n\n    menuItem = contextMenu.debugSection().appendCheckboxItem(\n        i18nString(UIStrings.hideElement), treeOutline.toggleHideElement.bind(treeOutline, this.nodeInternal),\n        {checked: treeOutline.isToggledToHidden(this.nodeInternal), jslogContext: 'elements.hide-element'});\n    menuItem.setShortcut(\n        UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutTitleForAction('elements.hide-element') || '');\n\n    if (isEditable) {\n      contextMenu.editSection().appendItem(\n          i18nString(UIStrings.deleteElement), this.remove.bind(this), {jslogContext: 'delete-element'});\n    }\n\n    this.populateExpandRecursively(contextMenu);\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.collapseChildren), this.collapseChildren.bind(this), {jslogContext: 'collapse-children'});\n    const deviceModeWrapperAction = new Emulation.DeviceModeWrapper.ActionDelegate();\n    contextMenu.viewSection().appendItem(\n        i18nString(UIStrings.captureNodeScreenshot),\n        deviceModeWrapperAction.handleAction.bind(\n            null, UI.Context.Context.instance(), 'emulation.capture-node-screenshot'),\n        {jslogContext: 'emulation.capture-node-screenshot'});\n    if (this.nodeInternal.frameOwnerFrameId()) {\n      contextMenu.viewSection().appendItem(i18nString(UIStrings.showFrameDetails), () => {\n        const frameOwnerFrameId = this.nodeInternal.frameOwnerFrameId();\n        if (frameOwnerFrameId) {\n          const frame = SDK.FrameManager.FrameManager.instance().getFrame(frameOwnerFrameId);\n          void Common.Revealer.reveal(frame);\n        }\n      }, {jslogContext: 'show-frame-details'});\n    }\n  }\n\n  private startEditing(): boolean|undefined {\n    if (!this.treeOutline || this.treeOutline.selectedDOMNode() !== this.nodeInternal) {\n      return;\n    }\n\n    const listItem = this.listItemElement;\n\n    if (isOpeningTag(this.tagTypeContext) && this.tagTypeContext.canAddAttributes) {\n      const attribute = listItem.getElementsByClassName('webkit-html-attribute')[0];\n      if (attribute) {\n        return this.startEditingAttribute(\n            attribute, attribute.getElementsByClassName('webkit-html-attribute-value')[0]);\n      }\n\n      return this.addNewAttribute();\n    }\n\n    if (this.nodeInternal.nodeType() === Node.TEXT_NODE) {\n      const textNode = listItem.getElementsByClassName('webkit-html-text-node')[0];\n      if (textNode) {\n        return this.startEditingTextNode(textNode);\n      }\n    }\n\n    return;\n  }\n\n  private addNewAttribute(): boolean {\n    // Cannot just convert the textual html into an element without\n    // a parent node. Use a temporary span container for the HTML.\n    const container = document.createElement('span');\n\n    // eslint-disable-next-line @devtools/no-lit-render-outside-of-view\n    Lit.render(renderAttribute({name: ' ', value: ''}, null, false, this.nodeInternal), container);\n    const attr = container.firstElementChild as HTMLElement;\n    attr.style.marginLeft = '2px';   // overrides the .editing margin rule\n    attr.style.marginRight = '2px';  // overrides the .editing margin rule\n    attr.setAttribute('jslog', `${VisualLogging.value('new-attribute').track({change: true, resize: true})}`);\n\n    const tag = this.listItemElement.getElementsByClassName('webkit-html-tag')[0];\n    this.insertInLastAttributePosition(tag, attr);\n    attr.scrollIntoViewIfNeeded(true);\n    return this.startEditingAttribute(attr, attr);\n  }\n\n  private triggerEditAttribute(attributeName: string): boolean|undefined {\n    const attributeElements = this.listItemElement.getElementsByClassName('webkit-html-attribute-name');\n    for (let i = 0, len = attributeElements.length; i < len; ++i) {\n      if (attributeElements[i].textContent === attributeName) {\n        for (let elem: (ChildNode|null) = attributeElements[i].nextSibling; elem; elem = elem.nextSibling) {\n          if (elem.nodeType !== Node.ELEMENT_NODE) {\n            continue;\n          }\n          if ((elem as Element).classList.contains('webkit-html-attribute-value')) {\n            return this.startEditingAttribute((elem.parentElement as HTMLElement), (elem as Element));\n          }\n        }\n      }\n    }\n\n    return;\n  }\n\n  private startEditingAttribute(attribute: Element, elementForSelection: Element): boolean {\n    console.assert(this.listItemElement.isAncestor(attribute));\n\n    if (UI.UIUtils.isBeingEdited(attribute)) {\n      return true;\n    }\n\n    const attributeNameElement = attribute.getElementsByClassName('webkit-html-attribute-name')[0];\n    if (!attributeNameElement) {\n      return false;\n    }\n\n    const attributeName = attributeNameElement.textContent;\n    const attributeValueElement = attribute.getElementsByClassName('webkit-html-attribute-value')[0];\n\n    // Make sure elementForSelection is not a child of attributeValueElement.\n    elementForSelection =\n        attributeValueElement?.isAncestor(elementForSelection) ? attributeValueElement : elementForSelection;\n\n    function removeZeroWidthSpaceRecursive(node: Node): void {\n      if (node.nodeType === Node.TEXT_NODE) {\n        node.nodeValue = node.nodeValue ? node.nodeValue.replace(/\\u200B/g, '') : '';\n        return;\n      }\n\n      if (node.nodeType !== Node.ELEMENT_NODE) {\n        return;\n      }\n\n      for (let child: (ChildNode|null) = node.firstChild; child; child = child.nextSibling) {\n        removeZeroWidthSpaceRecursive(child);\n      }\n    }\n\n    const attributeValue = attributeName && attributeValueElement ?\n        this.nodeInternal.getAttribute(attributeName)?.replaceAll('\"', '&quot;') :\n        undefined;\n    if (attributeValue !== undefined) {\n      attributeValueElement.setTextContentTruncatedIfNeeded(\n          attributeValue, i18nString(UIStrings.valueIsTooLargeToEdit));\n    }\n\n    // Remove zero-width spaces that were added by nodeTitleInfo.\n    removeZeroWidthSpaceRecursive(attribute);\n\n    const config = new UI.InplaceEditor.Config(\n        this.attributeEditingCommitted.bind(this), this.editingCancelled.bind(this), attributeName);\n\n    function postKeyDownFinishHandler(event: Event): string {\n      UI.UIUtils.handleElementValueModifications(event, attribute);\n      return '';\n    }\n\n    if (!Common.ParsedURL.ParsedURL.fromString(attributeValueElement?.textContent || '')) {\n      config.setPostKeydownFinishHandler(postKeyDownFinishHandler);\n    }\n\n    this.updateEditorHandles(attribute, config);\n\n    const componentSelection = this.listItemElement.getComponentSelection();\n    componentSelection?.selectAllChildren(elementForSelection);\n\n    return true;\n  }\n\n  private startEditingTextNode(textNodeElement: Element): boolean {\n    if (UI.UIUtils.isBeingEdited(textNodeElement)) {\n      return true;\n    }\n\n    let textNode: SDK.DOMModel.DOMNode = this.nodeInternal;\n    // We only show text nodes inline in elements if the element only\n    // has a single child, and that child is a text node.\n    if (textNode.nodeType() === Node.ELEMENT_NODE && textNode.firstChild) {\n      textNode = textNode.firstChild;\n    }\n\n    const container = textNodeElement.enclosingNodeOrSelfWithClass('webkit-html-text-node');\n    if (container) {\n      container.textContent = textNode.nodeValue();\n    }  // Strip the CSS or JS highlighting if present.\n    const config = new UI.InplaceEditor.Config(\n        this.textNodeEditingCommitted.bind(this, textNode), this.editingCancelled.bind(this), null);\n    this.updateEditorHandles(textNodeElement, config);\n    const componentSelection = this.listItemElement.getComponentSelection();\n    componentSelection?.selectAllChildren(textNodeElement);\n\n    return true;\n  }\n\n  private startEditingTagName(tagNameElement?: Element): boolean {\n    if (!tagNameElement) {\n      tagNameElement = this.listItemElement.getElementsByClassName('webkit-html-tag-name')[0];\n      if (!tagNameElement) {\n        return false;\n      }\n    }\n\n    const tagName = tagNameElement.textContent;\n    if (tagName !== null && EditTagBlocklist.has(tagName.toLowerCase())) {\n      return false;\n    }\n\n    if (UI.UIUtils.isBeingEdited(tagNameElement)) {\n      return true;\n    }\n\n    const closingTagElement = this.distinctClosingTagElement();\n\n    function keyupListener(): void {\n      if (closingTagElement && tagNameElement) {\n        closingTagElement.textContent = '</' + tagNameElement.textContent + '>';\n      }\n    }\n\n    const keydownListener = (event: Event): void => {\n      if ((event as KeyboardEvent).key !== ' ') {\n        return;\n      }\n      this.editing?.commit();\n      event.consume(true);\n    };\n\n    function editingCommitted(\n        this: ElementsTreeElement,\n        element: Element,\n        newTagName: string,\n        oldText: string|null,\n        tagName: string|null,\n        moveDirection: string,\n        ): void {\n      if (!tagNameElement) {\n        return;\n      }\n      tagNameElement.removeEventListener('keyup', keyupListener, false);\n      tagNameElement.removeEventListener('keydown', keydownListener, false);\n      this.tagNameEditingCommitted(element, newTagName, oldText, tagName, moveDirection);\n    }\n\n    function editingCancelled(this: ElementsTreeElement, element: Element, tagName: string|null): void {\n      if (!tagNameElement) {\n        return;\n      }\n      tagNameElement.removeEventListener('keyup', keyupListener, false);\n      tagNameElement.removeEventListener('keydown', keydownListener, false);\n      this.editingCancelled(element, tagName);\n    }\n\n    tagNameElement.addEventListener('keyup', keyupListener, false);\n    tagNameElement.addEventListener('keydown', keydownListener, false);\n\n    const config =\n        new UI.InplaceEditor.Config<string|null>(editingCommitted.bind(this), editingCancelled.bind(this), tagName);\n    this.updateEditorHandles(tagNameElement, config);\n    const componentSelection = this.listItemElement.getComponentSelection();\n    componentSelection?.selectAllChildren(tagNameElement);\n    return true;\n  }\n\n  private updateEditorHandles<T>(element: Element, config: UI.InplaceEditor.Config<T>): void {\n    const editorHandles = UI.InplaceEditor.InplaceEditor.startEditing(element, config);\n    if (!editorHandles) {\n      this.editing = null;\n    } else {\n      this.editing = {\n        commit: editorHandles.commit,\n        cancel: editorHandles.cancel,\n        editor: undefined,\n        resize: () => {},\n      };\n    }\n  }\n\n  private async startEditingAsHTML(\n      commitCallback: (arg0: string, arg1: string) => void, disposeCallback: () => void,\n      maybeInitialValue: string|null): Promise<void> {\n    if (maybeInitialValue === null) {\n      return;\n    }\n    if (this.editing) {\n      return;\n    }\n\n    const initialValue = convertUnicodeCharsToHTMLEntities(maybeInitialValue).text;\n    this.htmlEditElement = document.createElement('div');\n    this.htmlEditElement.className = 'source-code elements-tree-editor';\n\n    // Hide header items.\n    let child: (ChildNode|null) = this.listItemElement.firstChild;\n    while (child) {\n      if (child instanceof HTMLElement) {\n        child.style.display = 'none';\n      }\n      child = child.nextSibling;\n    }\n    // Hide children item.\n    if (this.childrenListElement) {\n      this.childrenListElement.style.display = 'none';\n    }\n    // Append editor.\n    this.listItemElement.append(this.htmlEditElement);\n    this.htmlEditElement.addEventListener('keydown', event => {\n      if (event.key === 'Escape') {\n        event.consume(true);\n      }\n    });\n\n    const editor = new TextEditor.TextEditor.TextEditor(CodeMirror.EditorState.create({\n      doc: initialValue,\n      extensions: [\n        CodeMirror.keymap.of([\n          {\n            key: 'Mod-Enter',\n            run: () => {\n              this.editing?.commit();\n              return true;\n            },\n          },\n          {\n            key: 'Escape',\n            run: () => {\n              this.editing?.cancel();\n              return true;\n            },\n          },\n        ]),\n        TextEditor.Config.baseConfiguration(initialValue),\n        TextEditor.Config.closeBrackets.instance(),\n        TextEditor.Config.autocompletion.instance(),\n        CodeMirror.html.html({autoCloseTags: false, selfClosingTags: true}),\n        TextEditor.Config.domWordWrap.instance(),\n        CodeMirror.EditorView.theme({\n          '&.cm-editor': {maxHeight: '300px'},\n          '.cm-scroller': {overflowY: 'auto'},\n        }),\n        CodeMirror.EditorView.domEventHandlers({\n          focusout: event => {\n            // The relatedTarget is null when no element gains focus, e.g. switching windows.\n            const relatedTarget = (event.relatedTarget as Node | null);\n            if (relatedTarget && !relatedTarget.isSelfOrDescendant(editor)) {\n              this.editing?.commit();\n            }\n          },\n        }),\n      ],\n    }));\n    this.editing = {commit: commit.bind(this), cancel: dispose.bind(this), editor, resize: resize.bind(this)};\n    resize.call(this);\n    this.htmlEditElement.appendChild(editor);\n    editor.editor.focus();\n\n    this.treeOutline?.setMultilineEditing(this.editing);\n\n    function resize(this: ElementsTreeElement): void {\n      if (this.treeOutline && this.htmlEditElement) {\n        this.htmlEditElement.style.width = this.treeOutline.visibleWidth() - this.computeLeftIndent() - 30 + 'px';\n      }\n    }\n\n    function commit(this: ElementsTreeElement): void {\n      if (this.editing?.editor) {\n        commitCallback(initialValue, this.editing.editor.state.doc.toString());\n      }\n      dispose.call(this);\n    }\n\n    function dispose(this: ElementsTreeElement): void {\n      if (!this.editing?.editor) {\n        return;\n      }\n      this.editing = null;\n\n      // Remove editor.\n      if (this.htmlEditElement) {\n        this.listItemElement.removeChild(this.htmlEditElement);\n      }\n      this.htmlEditElement = undefined;\n      // Unhide children item.\n      if (this.childrenListElement) {\n        this.childrenListElement.style.removeProperty('display');\n      }\n      // Unhide header items.\n      let child: (ChildNode|null) = this.listItemElement.firstChild;\n      while (child) {\n        if (child instanceof HTMLElement) {\n          child.style.removeProperty('display');\n        }\n        child = child.nextSibling;\n      }\n\n      if (this.treeOutline) {\n        this.treeOutline.setMultilineEditing(null);\n        this.treeOutline.focus();\n      }\n\n      disposeCallback();\n    }\n  }\n\n  private attributeEditingCommitted(\n      element: Element,\n      newText: string,\n      oldText: string|null,\n      attributeName: string|null,\n      moveDirection: string,\n      ): void {\n    this.editing = null;\n\n    const treeOutline = this.treeOutline;\n\n    function moveToNextAttributeIfNeeded(this: ElementsTreeElement, error?: string|null): void {\n      if (error) {\n        this.editingCancelled(element, attributeName);\n      }\n\n      if (!moveDirection) {\n        return;\n      }\n\n      if (treeOutline) {\n        treeOutline.runPendingUpdates();\n        treeOutline.focus();\n      }\n\n      // Search for the attribute's position, and then decide where to move to.\n      const attributes = this.nodeInternal.attributes();\n      for (let i = 0; i < attributes.length; ++i) {\n        if (attributes[i].name !== attributeName) {\n          continue;\n        }\n\n        if (moveDirection === 'backward') {\n          if (i === 0) {\n            this.startEditingTagName();\n          } else {\n            this.triggerEditAttribute(attributes[i - 1].name);\n          }\n        } else if (i === attributes.length - 1) {\n          this.addNewAttribute();\n        } else {\n          this.triggerEditAttribute(attributes[i + 1].name);\n        }\n        return;\n      }\n\n      // Moving From the \"New Attribute\" position.\n      if (moveDirection === 'backward') {\n        if (newText === ' ') {\n          // Moving from \"New Attribute\" that was not edited\n          if (attributes.length > 0) {\n            this.triggerEditAttribute(attributes[attributes.length - 1].name);\n          }\n          // Moving from \"New Attribute\" that holds new value\n        } else if (attributes.length > 1) {\n          this.triggerEditAttribute(attributes[attributes.length - 2].name);\n        }\n      } else if (moveDirection === 'forward') {\n        if (!Platform.StringUtilities.isWhitespace(newText)) {\n          this.addNewAttribute();\n        } else {\n          this.startEditingTagName();\n        }\n      }\n    }\n\n    if (attributeName !== null && (attributeName.trim() || newText.trim()) && oldText !== newText) {\n      this.nodeInternal.setAttribute(attributeName, newText, moveToNextAttributeIfNeeded.bind(this));\n      Badges.UserBadges.instance().recordAction(Badges.BadgeAction.DOM_ELEMENT_OR_ATTRIBUTE_EDITED);\n      return;\n    }\n\n    this.updateTitle();\n    moveToNextAttributeIfNeeded.call(this);\n  }\n\n  private tagNameEditingCommitted(\n      element: Element,\n      newText: string,\n      oldText: string|null,\n      tagName: string|null,\n      moveDirection: string,\n      ): void {\n    this.editing = null;\n    const self = this;\n\n    function cancel(): void {\n      const closingTagElement = self.distinctClosingTagElement();\n      if (closingTagElement) {\n        closingTagElement.textContent = '</' + tagName + '>';\n      }\n\n      self.editingCancelled(element, tagName);\n      moveToNextAttributeIfNeeded.call(self);\n    }\n\n    function moveToNextAttributeIfNeeded(this: ElementsTreeElement): void {\n      if (moveDirection !== 'forward') {\n        this.addNewAttribute();\n        return;\n      }\n\n      const attributes = this.nodeInternal.attributes();\n      if (attributes.length > 0) {\n        this.triggerEditAttribute(attributes[0].name);\n      } else {\n        this.addNewAttribute();\n      }\n    }\n\n    newText = newText.trim();\n    if (newText === oldText) {\n      cancel();\n      return;\n    }\n\n    const treeOutline = this.treeOutline;\n    const wasExpanded = this.expanded;\n\n    this.nodeInternal.setNodeName(newText, (error, newNode) => {\n      if (error || !newNode) {\n        cancel();\n        return;\n      }\n      if (!treeOutline) {\n        return;\n      }\n\n      Badges.UserBadges.instance().recordAction(Badges.BadgeAction.DOM_ELEMENT_OR_ATTRIBUTE_EDITED);\n      const newTreeItem = treeOutline.selectNodeAfterEdit(wasExpanded, error, newNode);\n      // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n      // @ts-expect-error\n      moveToNextAttributeIfNeeded.call(newTreeItem);\n    });\n  }\n\n  private textNodeEditingCommitted(textNode: SDK.DOMModel.DOMNode, _element: Element, newText: string): void {\n    this.editing = null;\n\n    function callback(this: ElementsTreeElement): void {\n      this.updateTitle();\n    }\n    textNode.setNodeValue(newText, callback.bind(this));\n  }\n\n  private editingCancelled(_element: Element, _tagName: string|null): void {\n    this.editing = null;\n\n    // Need to restore attributes structure.\n    this.updateTitle();\n  }\n\n  private distinctClosingTagElement(): Element|null {\n    // FIXME: Improve the Tree Element / Outline Abstraction to prevent crawling the DOM\n\n    // For an expanded element, it will be the last element with class \"close\"\n    // in the child element list.\n    if (this.expanded) {\n      const closers = this.childrenListElement.querySelectorAll('.close');\n      return closers[closers.length - 1];\n    }\n\n    // Remaining cases are single line non-expanded elements with a closing\n    // tag, or HTML elements without a closing tag (such as <br>). Return\n    // null in the case where there isn't a closing tag.\n    const tags = this.listItemElement.getElementsByClassName('webkit-html-tag');\n    return tags.length === 1 ? null : tags[tags.length - 1];\n  }\n\n  updateTitle(updateRecord?: Elements.ElementUpdateRecord.ElementUpdateRecord|null): void {\n    // If we are editing, return early to prevent canceling the edit.\n    // After editing is committed updateTitle will be called.\n    if (this.editing) {\n      return;\n    }\n    this.performUpdate(/* clearNode= */ true);\n    this.#updateRecord = updateRecord ?? null;\n    if (this.nodeInternal.nodeType() === Node.DOCUMENT_FRAGMENT_NODE && this.nodeInternal.isInShadowTree() &&\n        this.nodeInternal.shadowRootType()) {\n      this.childrenListElement.classList.add('shadow-root');\n      let depth = 4;\n      for (let node: (SDK.DOMModel.DOMNode|null) = (this.nodeInternal as SDK.DOMModel.DOMNode | null); depth && node;\n           node = node.parentNode) {\n        if (node.nodeType() === Node.DOCUMENT_FRAGMENT_NODE) {\n          depth--;\n        }\n      }\n      if (!depth) {\n        this.childrenListElement.classList.add('shadow-root-deep');\n      } else {\n        this.childrenListElement.classList.add('shadow-root-depth-' + depth);\n      }\n    }\n    this.performUpdate();\n    if (this.#contentElement) {\n      // fixme: we probably do not need a title element in the new tree outline.\n      this.title = this.#contentElement;\n    }\n    this.updateDecorations();\n\n    // If there is an issue with this node, make sure to update it.\n    for (const issue of this.#elementIssues.values()) {\n      this.#applyIssueStyleAndTooltip(issue);\n    }\n\n    this.#highlightSearchResults();\n  }\n\n  private computeLeftIndent(): number {\n    let treeElement: (UI.TreeOutline.TreeElement|null) = this.parent;\n    let depth = 0;\n    while (treeElement !== null) {\n      depth++;\n      treeElement = treeElement.parent;\n    }\n\n    /** Keep it in sync with elementsTreeOutline.css **/\n    return 12 * (depth - 2) + (this.isExpandable() && this.isCollapsible() ? 1 : 12);\n  }\n\n  updateDecorations(): void {\n    if (this.isClosingTag()) {\n      return;\n    }\n\n    if (this.nodeInternal.nodeType() !== Node.ELEMENT_NODE) {\n      return;\n    }\n\n    void this.decorationsThrottler.schedule(this.#updateDecorations.bind(this));\n  }\n\n  #updateDecorations(): Promise<void> {\n    if (!this.treeOutline) {\n      return Promise.resolve();\n    }\n\n    const node = this.nodeInternal;\n\n    if (!this.treeOutline.decoratorExtensions) {\n      this.treeOutline.decoratorExtensions = getRegisteredDecorators();\n    }\n\n    const markerToExtension = new Map<string, MarkerDecoratorRegistration>();\n    for (const decoratorExtension of this.treeOutline.decoratorExtensions) {\n      markerToExtension.set(decoratorExtension.marker, decoratorExtension);\n    }\n\n    const promises: Array<Promise<void>> = [];\n    const decorations: Array<{\n      title: string,\n      color: string,\n    }> = [];\n    const descendantDecorations: Array<{\n      title: string,\n      color: string,\n    }> = [];\n    node.traverseMarkers(visitor);\n\n    function visitor(n: SDK.DOMModel.DOMNode, marker: string): void {\n      const extension = markerToExtension.get(marker);\n      if (!extension) {\n        return;\n      }\n      promises.push(Promise.resolve(extension.decorator()).then(collectDecoration.bind(null, n)));\n    }\n\n    function collectDecoration(n: SDK.DOMModel.DOMNode, decorator: MarkerDecorator): void {\n      const decoration = decorator.decorate(n);\n      if (!decoration) {\n        return;\n      }\n      (n === node ? decorations : descendantDecorations).push(decoration);\n    }\n\n    return Promise.all(promises).then(updateDecorationsUI.bind(this));\n\n    function updateDecorationsUI(this: ElementsTreeElement): void {\n      this.#decorations = decorations;\n      this.#descendantDecorations = descendantDecorations;\n\n      if (!decorations.length && !descendantDecorations.length) {\n        this.#decorationsTooltip = '';\n        this.performUpdate();\n        return;\n      }\n\n      const tooltip: string[] = [];\n      for (const decoration of decorations) {\n        tooltip.push(decoration.title);\n      }\n      if (!this.expanded && descendantDecorations.length) {\n        tooltip.push(i18nString(UIStrings.children));\n        for (const decoration of descendantDecorations) {\n          tooltip.push(decoration.title);\n        }\n      }\n      this.#decorationsTooltip = tooltip.join('\\n');\n      this.performUpdate();\n    }\n  }\n\n  async remove(): Promise<void> {\n    if (this.treeOutline?.isToggledToHidden(this.nodeInternal)) {\n      // Unhide the node before removing. This avoids inconsistent state if the node is restored via undo.\n      await this.treeOutline.toggleHideElement(this.nodeInternal);\n    }\n    if (this.nodeInternal.pseudoType()) {\n      return;\n    }\n    const parentElement = this.parent;\n    if (!parentElement) {\n      return;\n    }\n\n    if (!this.nodeInternal.parentNode || this.nodeInternal.parentNode.nodeType() === Node.DOCUMENT_NODE) {\n      return;\n    }\n    void this.nodeInternal.removeNode();\n  }\n\n  toggleEditAsHTML(callback?: ((arg0: boolean) => void), startEditing?: boolean): void {\n    if (this.editing && this.htmlEditElement) {\n      this.editing.commit();\n      return;\n    }\n\n    if (startEditing === false) {\n      return;\n    }\n\n    function selectNode(error: string|null): void {\n      if (callback) {\n        callback(!error);\n      }\n    }\n\n    function commitChange(initialValue: string, value: string): void {\n      if (initialValue !== value) {\n        node.setOuterHTML(value, selectNode);\n      }\n    }\n\n    function disposeCallback(): void {\n      if (callback) {\n        callback(false);\n      }\n    }\n\n    const node = this.nodeInternal;\n    void node.getOuterHTML().then(this.startEditingAsHTML.bind(this, commitChange, disposeCallback));\n  }\n\n  private copyCSSPath(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(cssPath(this.nodeInternal, true));\n  }\n\n  private copyJSPath(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(jsPath(this.nodeInternal, true));\n  }\n\n  private copyXPath(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(xPath(this.nodeInternal, true));\n  }\n\n  private copyFullXPath(): void {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(xPath(this.nodeInternal, false));\n  }\n\n  async copyStyles(): Promise<void> {\n    const node = this.nodeInternal;\n    const cssModel = node.domModel().cssModel();\n    const cascade = await cssModel.cachedMatchedCascadeForNode(node);\n    if (!cascade) {\n      return;\n    }\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    const lines: string[] = [];\n    for (const style of cascade.nodeStyles().reverse()) {\n      for (const property of style.leadingProperties()) {\n        if (!property.parsedOk || property.disabled || !property.activeInStyle() || property.implicit) {\n          continue;\n        }\n        if (cascade.isInherited(style) && !SDK.CSSMetadata.cssMetadata().isPropertyInherited(property.name)) {\n          continue;\n        }\n        if (style.parentRule?.isUserAgent()) {\n          continue;\n        }\n        if (cascade.propertyState(property) !== SDK.CSSMatchedStyles.PropertyState.ACTIVE) {\n          continue;\n        }\n        lines.push(`${indent}${property.name}: ${property.value};`);\n      }\n    }\n\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(lines.join('\\n'));\n  }\n\n  #highlightSearchResults(): void {\n    this.hideSearchHighlights();\n\n    if (!this.searchQuery) {\n      return;\n    }\n\n    const text = this.listItemElement.textContent || '';\n    const regexObject = Platform.StringUtilities.createPlainTextSearchRegex(this.searchQuery, 'gi');\n\n    const matchRanges = [];\n    let match = regexObject.exec(text);\n    while (match) {\n      matchRanges.push(new TextUtils.TextRange.SourceRange(match.index, match[0].length));\n      match = regexObject.exec(text);\n    }\n\n    // Fall back for XPath, etc. matches.\n    if (!matchRanges.length) {\n      matchRanges.push(new TextUtils.TextRange.SourceRange(0, text.length));\n    }\n\n    this.#highlights = Highlighting.HighlightManager.HighlightManager.instance().highlightOrderedTextRanges(\n        this.listItemElement, matchRanges);\n  }\n\n  private editAsHTML(): void {\n    const promise = Common.Revealer.reveal(this.node());\n    void promise.then(() => {\n      const action = UI.ActionRegistry.ActionRegistry.instance().getAction('elements.edit-as-html');\n      return action.execute();\n    });\n  }\n\n  updateAdorners(): void {\n    // TODO: remove adornersThrottler in favour of throttled updated (requestUpdate/performUpdate).\n    void this.#adornersThrottler.schedule(this.#updateAdorners.bind(this));\n  }\n\n  async #updateAdorners(): Promise<void> {\n    if (this.isClosingTag()) {\n      return;\n    }\n    const node = this.node();\n    const nodeId = node.id;\n    if (node.nodeType() !== Node.COMMENT_NODE && node.nodeType() !== Node.DOCUMENT_FRAGMENT_NODE &&\n        node.nodeType() !== Node.TEXT_NODE && nodeId !== undefined) {\n      this.#layout = await node.domModel().cssModel().getLayoutPropertiesFromComputedStyle(nodeId);\n    } else {\n      this.#layout = null;\n    }\n    this.performUpdate();\n  }\n\n  async #onPopoverAdornerClick(event: Event): Promise<void> {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    await node.domModel().agent.invoke_forceShowPopover({nodeId, enable: !this.#popoverAdornerActive});\n    this.#popoverAdornerActive = !this.#popoverAdornerActive;\n    if (this.#popoverAdornerActive) {\n      Badges.UserBadges.instance().recordAction(Badges.BadgeAction.MODERN_DOM_BADGE_CLICKED);\n    }\n    this.performUpdate();\n  }\n\n  #onStartingStyleAdornerClick(event: Event): void {\n    event.stopPropagation();\n    const node = this.node();\n    const nodeId = node.id;\n    if (!nodeId) {\n      return;\n    }\n    const model = node.domModel().cssModel();\n    if (this.#startingStyleAdornerActive) {\n      model.forceStartingStyle(node, false);\n    } else {\n      model.forceStartingStyle(node, true);\n    }\n    this.#startingStyleAdornerActive = !this.#startingStyleAdornerActive;\n    this.performUpdate();\n  }\n}\n\nexport const InitialChildrenLimit = 500;\n\n/**\n * A union of HTML4 and HTML5-Draft elements that explicitly\n * or implicitly (for HTML5) forbid the closing tag.\n **/\nexport const ForbiddenClosingTagElements = new Set<string>([\n  'area', 'base',  'basefont', 'br',   'canvas',   'col',  'command', 'embed',  'frame', 'hr',\n  'img',  'input', 'keygen',   'link', 'menuitem', 'meta', 'param',   'source', 'track', 'wbr',\n]);\n\n/** These tags we do not allow editing their tag name. **/\nexport const EditTagBlocklist = new Set<string>(['html', 'head', 'body']);\n\nexport function convertUnicodeCharsToHTMLEntities(text: string): {\n  text: string,\n  entityRanges: TextUtils.TextRange.SourceRange[],\n} {\n  let result = '';\n  let lastIndexAfterEntity = 0;\n  const entityRanges = [];\n  const charToEntity = MappedCharToEntity;\n  for (let i = 0, size = text.length; i < size; ++i) {\n    const char = text.charAt(i);\n    if (charToEntity.has(char)) {\n      result += text.substring(lastIndexAfterEntity, i);\n      const entityValue = '&' + charToEntity.get(char) + ';';\n      entityRanges.push(new TextUtils.TextRange.SourceRange(result.length, entityValue.length));\n      result += entityValue;\n      lastIndexAfterEntity = i + 1;\n    }\n  }\n  if (result) {\n    result += text.substring(lastIndexAfterEntity);\n  }\n  return {text: result || text, entityRanges};\n}\n\nexport interface EditorHandles {\n  commit: () => void;\n  cancel: () => void;\n  editor?: TextEditor.TextEditor.TextEditor;\n  resize: () => void;\n}\n\n/**\n * As a privacy measure we are logging elements tree outline as a flat list where every tree item is a\n * child of a tree outline.\n **/\nfunction loggingParentProvider(e: Element): Element|undefined {\n  const treeElement = UI.TreeOutline.TreeElement.getTreeElementBylistItemNode(e);\n  return treeElement?.treeOutline?.contentElement;\n}\n\nVisualLogging.registerParentProvider('elementsTreeOutline', loggingParentProvider);\n"]}