{"version":3,"file":"StylePropertyTreeElement.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/StylePropertyTreeElement.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/* eslint-disable rulesdir/no-imperative-dom-api */\n/* eslint-disable rulesdir/no-lit-render-outside-of-view */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport type * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as Tooltips from '../../ui/components/tooltips/tooltips.js';\nimport * as ColorPicker from '../../ui/legacy/components/color_picker/color_picker.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Lit from '../../ui/lit/lit.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {\n  BezierPopoverIcon,\n  ColorSwatchPopoverIcon,\n  ColorSwatchPopoverIconEvents,\n  ShadowEvents,\n  ShadowSwatchPopoverHelper,\n} from './ColorSwatchPopoverIcon.js';\nimport * as ElementsComponents from './components/components.js';\nimport {cssRuleValidatorsMap} from './CSSRuleValidator.js';\nimport {CSSValueTraceView} from './CSSValueTraceView.js';\nimport {ElementsPanel} from './ElementsPanel.js';\nimport {\n  BinOpRenderer,\n  type MatchRenderer,\n  Renderer,\n  rendererBase,\n  RenderingContext,\n  StringRenderer,\n  type TracingContext,\n  URLRenderer\n} from './PropertyRenderer.js';\nimport {StyleEditorWidget} from './StyleEditorWidget.js';\nimport type {StylePropertiesSection} from './StylePropertiesSection.js';\nimport {getCssDeclarationAsJavascriptProperty} from './StylePropertyUtils.js';\nimport {\n  CSSPropertyPrompt,\n  REGISTERED_PROPERTY_SECTION_NAME,\n  StylesSidebarPane,\n} from './StylesSidebarPane.js';\n\nconst {html, nothing, render} = Lit;\nconst ASTUtils = SDK.CSSPropertyParser.ASTUtils;\nconst FlexboxEditor = ElementsComponents.StylePropertyEditor.FlexboxEditor;\nconst GridEditor = ElementsComponents.StylePropertyEditor.GridEditor;\n\nconst UIStrings = {\n  /**\n   *@description Text in Color Swatch Popover Icon of the Elements panel\n   */\n  shiftClickToChangeColorFormat: 'Shift + Click to change color format.',\n  /**\n   *@description Swatch icon element title in Color Swatch Popover Icon of the Elements panel\n   *@example {Shift + Click to change color format.} PH1\n   */\n  openColorPickerS: 'Open color picker. {PH1}',\n  /**\n   *@description Context menu item for style property in edit mode\n   */\n  togglePropertyAndContinueEditing: 'Toggle property and continue editing',\n  /**\n   *@description Context menu item for style property in edit mode\n   */\n  openInSourcesPanel: 'Open in Sources panel',\n  /**\n   *@description A context menu item in Styles panel to copy CSS declaration\n   */\n  copyDeclaration: 'Copy declaration',\n  /**\n   *@description A context menu item in Styles panel to copy CSS property\n   */\n  copyProperty: 'Copy property',\n  /**\n   *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel and Network pane request.\n   */\n  copyValue: 'Copy value',\n  /**\n   *@description A context menu item in Styles panel to copy CSS rule\n   */\n  copyRule: 'Copy rule',\n  /**\n   *@description A context menu item in Styles panel to copy all CSS declarations\n   */\n  copyAllDeclarations: 'Copy all declarations',\n  /**\n   *@description  A context menu item in Styles panel to copy all the CSS changes\n   */\n  copyAllCSSChanges: 'Copy all CSS changes',\n  /**\n   *@description A context menu item in Styles panel to view the computed CSS property value.\n   */\n  viewComputedValue: 'View computed value',\n  /**\n   * @description Title of the button that opens the flexbox editor in the Styles panel.\n   */\n  flexboxEditorButton: 'Open `flexbox` editor',\n  /**\n   * @description Title of the button that opens the CSS Grid editor in the Styles panel.\n   */\n  gridEditorButton: 'Open `grid` editor',\n  /**\n   *@description A context menu item in Styles panel to copy CSS declaration as JavaScript property.\n   */\n  copyCssDeclarationAsJs: 'Copy declaration as JS',\n  /**\n   *@description A context menu item in Styles panel to copy all declarations of CSS rule as JavaScript properties.\n   */\n  copyAllCssDeclarationsAsJs: 'Copy all declarations as JS',\n  /**\n   *@description Title of the link in Styles panel to jump to the Animations panel.\n   */\n  jumpToAnimationsPanel: 'Jump to Animations panel',\n  /**\n   *@description Text displayed in a tooltip shown when hovering over a CSS property value references a name that's not\n   *             defined and can't be linked to.\n   *@example {--my-linkable-name} PH1\n   */\n  sIsNotDefined: '{PH1} is not defined',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  invalidPropertyValue: 'Invalid property value',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  unknownPropertyName: 'Unknown property name',\n  /**\n   *@description Announcement string for invalid properties.\n   *@example {Invalid property value} PH1\n   *@example {font-size} PH2\n   *@example {invalidValue} PH3\n   */\n  invalidString: '{PH1}, property name: {PH2}, property value: {PH3}',\n  /**\n   *@description Title in the styles tab for the icon button for jumping to the anchor node.\n   */\n  jumpToAnchorNode: 'Jump to anchor node',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/StylePropertyTreeElement.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst parentMap = new WeakMap<StylesSidebarPane, StylePropertyTreeElement>();\n\ninterface StylePropertyTreeElementParams {\n  stylesPane: StylesSidebarPane;\n  section: StylePropertiesSection;\n  matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  property: SDK.CSSProperty.CSSProperty;\n  isShorthand: boolean;\n  inherited: boolean;\n  overloaded: boolean;\n  newProperty: boolean;\n}\n\n// clang-format off\nexport class FlexGridRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.FlexGridMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #stylesPane: StylesSidebarPane;\n  constructor(stylesPane: StylesSidebarPane, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n    this.#stylesPane = stylesPane;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.FlexGridMatch, context: RenderingContext): Node[] {\n    const children = Renderer.render(ASTUtils.siblings(ASTUtils.declValue(match.node)), context).nodes;\n    if (!this.#treeElement?.editable()) {\n      return children;\n    }\n    const key =\n        `${this.#treeElement.section().getSectionIdx()}_${this.#treeElement.section().nextEditorTriggerButtonIdx}`;\n    const button = StyleEditorWidget.createTriggerButton(\n        this.#stylesPane, this.#treeElement.section(), match.isFlex ? FlexboxEditor : GridEditor,\n        match.isFlex ? i18nString(UIStrings.flexboxEditorButton) : i18nString(UIStrings.gridEditorButton), key);\n    button.tabIndex = -1;\n    button.setAttribute(\n        'jslog', `${VisualLogging.showStyleEditor().track({click: true}).context(match.isFlex ? 'flex' : 'grid')}`);\n    this.#treeElement.section().nextEditorTriggerButtonIdx++;\n    button.addEventListener('click', () => {\n      Host.userMetrics.swatchActivated(\n          match.isFlex ? Host.UserMetrics.SwatchType.FLEX : Host.UserMetrics.SwatchType.GRID);\n    });\n    const helper = this.#stylesPane.swatchPopoverHelper();\n    if (helper.isShowing(StyleEditorWidget.instance()) && StyleEditorWidget.instance().getTriggerKey() === key) {\n      helper.setAnchorElement(button);\n    }\n    return [...children, button];\n  }\n}\n\n// clang-format off\nexport class CSSWideKeywordRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.CSSWideKeywordMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #stylesPane: StylesSidebarPane;\n  constructor(stylesPane: StylesSidebarPane, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n    this.#stylesPane = stylesPane;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.CSSWideKeywordMatch, context: RenderingContext): Node[] {\n    const resolvedProperty = match.resolveProperty();\n    if (!resolvedProperty) {\n      return [document.createTextNode(match.text)];\n    }\n\n    const swatch = new InlineEditor.LinkSwatch.LinkSwatch();\n    swatch.data = {\n      text: match.text,\n      tooltip: resolvedProperty ? undefined : {title: i18nString(UIStrings.sIsNotDefined, {PH1: match.text})},\n      isDefined: Boolean(resolvedProperty),\n      onLinkActivate: () => resolvedProperty && this.#stylesPane.jumpToDeclaration(resolvedProperty),\n      jslogContext: 'css-wide-keyword-link',\n    };\n\n    if (SDK.CSSMetadata.cssMetadata().isColorAwareProperty(resolvedProperty.name) ||\n        SDK.CSSMetadata.cssMetadata().isCustomProperty(resolvedProperty.name)) {\n      const color = Common.Color.parse(context.matchedResult.getComputedText(match.node));\n      if (color) {\n        return [new ColorRenderer(this.#stylesPane, this.#treeElement).renderColorSwatch(color, swatch)];\n      }\n    }\n\n    return [swatch];\n  }\n}\n\n// clang-format off\nexport class VariableRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.VariableMatch) {\n  // clang-format on\n  readonly #stylesPane: StylesSidebarPane;\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  readonly #computedStyles: Map<string, string>;\n  constructor(\n      stylesPane: StylesSidebarPane, treeElement: StylePropertyTreeElement|null,\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, computedStyles: Map<string, string>) {\n    super();\n    this.#treeElement = treeElement;\n    this.#stylesPane = stylesPane;\n    this.#matchedStyles = matchedStyles;\n    this.#computedStyles = computedStyles;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.VariableMatch, context: RenderingContext): Node[] {\n    if (this.#treeElement?.property.ownerStyle.parentRule instanceof SDK.CSSRule.CSSFunctionRule) {\n      return Renderer.render(ASTUtils.children(match.node), context).nodes;\n    }\n\n    const {declaration, value: variableValue} = match.resolveVariable() ?? {};\n    const fromFallback = variableValue === undefined;\n    const computedValue = variableValue ?? match.fallbackValue();\n    const onLinkActivate = (name: string): void => this.#handleVarDefinitionActivate(declaration ?? name);\n    const varSwatch = document.createElement('span');\n\n    const substitution = context.tracing?.substitution({match, context});\n    if (substitution) {\n      if (declaration?.declaration) {\n        const {nodes, cssControls} = Renderer.renderValueNodes(\n            {name: declaration.name, value: declaration.value ?? ''},\n            substitution.cachedParsedValue(declaration.declaration, this.#matchedStyles, this.#computedStyles),\n            getPropertyRenderers(\n                declaration.name, declaration.style, this.#stylesPane, this.#matchedStyles, null, this.#computedStyles),\n            substitution);\n        cssControls.forEach((value, key) => value.forEach(control => context.addControl(key, control)));\n        return nodes;\n      }\n      if (!declaration && match.fallback.length > 0) {\n        return Renderer.render(match.fallback, substitution.renderingContext(context)).nodes;\n      }\n    }\n\n    const renderedFallback = match.fallback.length > 0 ? Renderer.render(match.fallback, context) : undefined;\n\n    const varCall =\n        this.#treeElement?.getTracingTooltip('var', match.node, this.#matchedStyles, this.#computedStyles, context);\n    const tooltipContents =\n        this.#stylesPane.getVariablePopoverContents(this.#matchedStyles, match.name, variableValue ?? null);\n    const tooltipId = this.#treeElement?.getTooltipId('custom-property-var');\n    const tooltip = tooltipId ? {tooltipId} : undefined;\n    render(\n        // clang-format off\n        html`<span\n          data-title=${computedValue || ''}\n          jslog=${VisualLogging.link('css-variable').track({click: true, hover: true})}\n          >${varCall ?? 'var'}(<devtools-link-swatch\n            class=css-var-link\n            .data=${{\n              tooltip,\n              text: match.name,\n              isDefined: computedValue !== null && !fromFallback,\n              onLinkActivate,\n            } as InlineEditor.LinkSwatch.LinkSwatchRenderData}\n            ></devtools-link-swatch>${\n              renderedFallback?.nodes.length ? html`, ${renderedFallback.nodes}` : nothing})</span>${\n                tooltipId ?\n                  html`<devtools-tooltip\n                    variant=rich\n                    id=${tooltipId}\n                    jslogContext=elements.css-var\n                    >${tooltipContents}</devtools-tooltip>`\n                  : ''}`,\n        // clang-format on\n        varSwatch);\n\n    const color = computedValue && Common.Color.parse(computedValue);\n    if (!color) {\n      return [varSwatch];\n    }\n\n    const colorSwatch = new ColorRenderer(this.#stylesPane, this.#treeElement).renderColorSwatch(color, varSwatch);\n    context.addControl('color', colorSwatch);\n\n    if (fromFallback) {\n      renderedFallback?.cssControls.get('color')?.forEach(\n          innerSwatch => innerSwatch.addEventListener(InlineEditor.ColorSwatch.ColorChangedEvent.eventName, ev => {\n            colorSwatch.setColor(ev.data.color);\n          }));\n    }\n\n    return [colorSwatch];\n  }\n\n  #handleVarDefinitionActivate(variable: string|SDK.CSSMatchedStyles.CSSValueSource): void {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.CustomPropertyLinkClicked);\n    Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.VAR_LINK);\n\n    if (typeof variable === 'string') {\n      this.#stylesPane.jumpToProperty(variable) ||\n          this.#stylesPane.jumpToProperty('initial-value', variable, REGISTERED_PROPERTY_SECTION_NAME);\n    } else if (variable.declaration instanceof SDK.CSSProperty.CSSProperty) {\n      this.#stylesPane.revealProperty(variable.declaration);\n    } else if (variable.declaration instanceof SDK.CSSMatchedStyles.CSSRegisteredProperty) {\n      this.#stylesPane.jumpToProperty('initial-value', variable.name, REGISTERED_PROPERTY_SECTION_NAME);\n    }\n  }\n}\n\n// clang-format off\nexport class LinearGradientRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.LinearGradientMatch) {\n  // clang-format on\n  override render(match: SDK.CSSPropertyParserMatchers.LinearGradientMatch, context: RenderingContext): Node[] {\n    const children = ASTUtils.children(match.node);\n    const {nodes, cssControls} = Renderer.render(children, context);\n    const angles = cssControls.get('angle');\n    const angle = angles?.length === 1 ? angles[0] : null;\n\n    if (angle instanceof InlineEditor.CSSAngle.CSSAngle) {\n      angle.updateProperty(context.matchedResult.getComputedText(match.node));\n      const args = ASTUtils.callArgs(match.node);\n      const angleNode = args[0]?.find(\n          node => context.matchedResult.getMatch(node) instanceof SDK.CSSPropertyParserMatchers.AngleMatch);\n      const angleMatch = angleNode && context.matchedResult.getMatch(angleNode);\n      if (angleMatch) {\n        angle.addEventListener(InlineEditor.InlineEditorUtils.ValueChangedEvent.eventName, ev => {\n          angle.updateProperty(\n              context.matchedResult.getComputedText(match.node, match => match === angleMatch ? ev.data.value : null));\n        });\n      }\n    }\n    return nodes;\n  }\n}\n\n// clang-format off\nexport class RelativeColorChannelRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.RelativeColorChannelMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  constructor(treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n  }\n  override render(match: SDK.CSSPropertyParserMatchers.RelativeColorChannelMatch, context: RenderingContext): Node[] {\n    const color = context.findParent(match.node, SDK.CSSPropertyParserMatchers.ColorMatch);\n    if (!color?.relativeColor) {\n      return [document.createTextNode(match.text)];\n    }\n\n    const value = match.getColorChannelValue(color.relativeColor);\n\n    if (value === null) {\n      return [document.createTextNode(match.text)];\n    }\n\n    const evaluation =\n        context.tracing?.applyEvaluation([], () => ({placeholder: [document.createTextNode(value.toFixed(3))]}));\n    if (evaluation) {\n      return evaluation;\n    }\n\n    const span = document.createElement('span');\n    span.append(match.text);\n    const tooltipId = this.#treeElement?.getTooltipId('relative-color-channel');\n    if (!tooltipId) {\n      return [span];\n    }\n    span.setAttribute('aria-details', tooltipId);\n    const tooltip = new Tooltips.Tooltip.Tooltip({\n      id: tooltipId,\n      variant: 'rich',\n      anchor: span,\n      jslogContext: 'elements.relative-color-channel',\n    });\n    tooltip.append(value.toFixed(3));\n\n    return [span, tooltip];\n  }\n}\n\n// clang-format off\nexport class ColorRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.ColorMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #stylesPane: StylesSidebarPane;\n  constructor(stylesPane: StylesSidebarPane, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n    this.#stylesPane = stylesPane;\n  }\n\n  #getValueChild(match: SDK.CSSPropertyParserMatchers.ColorMatch, context: RenderingContext): {\n    valueChild: HTMLSpanElement,\n    cssControls?: SDK.CSSPropertyParser.CSSControlMap,\n    childTracingContexts?: TracingContext[],\n  } {\n    const valueChild = document.createElement('span');\n    if (match.node.name !== 'CallExpression') {\n      valueChild.appendChild(document.createTextNode(match.text));\n      return {valueChild};\n    }\n\n    const func = context.matchedResult.ast.text(match.node.getChild('Callee'));\n    const args = ASTUtils.siblings(match.node.getChild('ArgList'));\n\n    const childTracingContexts = context.tracing?.evaluation([args], {match, context}) ?? undefined;\n    const renderingContext = childTracingContexts?.at(0)?.renderingContext(context) ?? context;\n    const {nodes, cssControls} = Renderer.renderInto(args, renderingContext, valueChild);\n    render(\n        html`${\n            this.#treeElement?.getTracingTooltip(\n                func, match.node, this.#treeElement.matchedStyles(), this.#treeElement.getComputedStyles() ?? new Map(),\n                renderingContext) ??\n            func}${nodes}`,\n        valueChild);\n\n    return {valueChild, cssControls, childTracingContexts};\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.ColorMatch, context: RenderingContext): Node[] {\n    const {valueChild, cssControls, childTracingContexts} = this.#getValueChild(match, context);\n    let colorText = context.matchedResult.getComputedText(match.node);\n\n    if (match.relativeColor) {\n      const fakeSpan = document.body.appendChild(document.createElement('span'));\n      fakeSpan.style.backgroundColor = colorText;\n      colorText = window.getComputedStyle(fakeSpan).backgroundColor?.toString() || colorText;\n      fakeSpan.remove();\n    }\n\n    // Now try render a color swatch if the result is parsable.\n    const color = Common.Color.parse(colorText);\n    if (!color) {\n      if (match.node.name === 'CallExpression') {\n        return Renderer.render(ASTUtils.children(match.node), context).nodes;\n      }\n      return [document.createTextNode(colorText)];\n    }\n\n    if (match.node.name === 'CallExpression' && childTracingContexts) {\n      const evaluation = context.tracing?.applyEvaluation(childTracingContexts, () => {\n        const displayColor = color.as(((color.alpha ?? 1) !== 1) ? Common.Color.Format.HEXA : Common.Color.Format.HEX);\n        const swatch =\n            new ColorRenderer(this.#stylesPane, null)\n                .renderColorSwatch(displayColor.isGamutClipped() ? color : (displayColor.nickname() ?? displayColor));\n        context.addControl('color', swatch);\n        return {placeholder: [swatch]};\n      });\n      if (evaluation) {\n        return evaluation;\n      }\n    }\n\n    const swatch = this.renderColorSwatch(color, valueChild);\n    context.addControl('color', swatch);\n\n    // For hsl/hwb colors, hook up the angle swatch for the hue.\n    if (cssControls && match.node.name === 'CallExpression' &&\n        context.ast.text(match.node.getChild('Callee')).match(/^(hsla?|hwba?)/)) {\n      const [angle] = cssControls.get('angle') ?? [];\n      if (angle instanceof InlineEditor.CSSAngle.CSSAngle) {\n        angle.updateProperty(swatch.getColor()?.asString() ?? '');\n        angle.addEventListener(InlineEditor.InlineEditorUtils.ValueChangedEvent.eventName, ev => {\n          const hue = Common.Color.parseHueNumeric(ev.data.value);\n          const color = swatch.getColor();\n          if (!hue || !color) {\n            return;\n          }\n          if (color.is(Common.Color.Format.HSL) || color.is(Common.Color.Format.HSLA)) {\n            swatch.setColor(new Common.Color.HSL(hue, color.s, color.l, color.alpha));\n          } else if (color.is(Common.Color.Format.HWB) || color.is(Common.Color.Format.HWBA)) {\n            swatch.setColor(new Common.Color.HWB(hue, color.w, color.b, color.alpha));\n          }\n          angle.updateProperty(swatch.getColor()?.asString() ?? '');\n        });\n      }\n    }\n    return [swatch];\n  }\n\n  renderColorSwatch(color: Common.Color.Color|undefined, valueChild?: Node): InlineEditor.ColorSwatch.ColorSwatch {\n    const editable = this.#treeElement?.editable();\n    const shiftClickMessage = i18nString(UIStrings.shiftClickToChangeColorFormat);\n    const tooltip = editable ? i18nString(UIStrings.openColorPickerS, {PH1: shiftClickMessage}) : '';\n\n    const swatch = new InlineEditor.ColorSwatch.ColorSwatch(tooltip);\n    swatch.setReadonly(!editable);\n    if (color) {\n      swatch.renderColor(color);\n    }\n\n    if (!valueChild) {\n      valueChild = swatch.createChild('span');\n      if (color) {\n        valueChild.textContent = color.getAuthoredText() ?? color.asString();\n      }\n    }\n    swatch.appendChild(valueChild);\n\n    if (this.#treeElement?.editable()) {\n      const treeElement = this.#treeElement;\n      const onColorChanged = (): void => {\n        void treeElement.applyStyleText(treeElement.renderedPropertyText(), false);\n      };\n\n      swatch.addEventListener(InlineEditor.ColorSwatch.ClickEvent.eventName, () => {\n        Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.COLOR);\n      });\n      swatch.addEventListener(InlineEditor.ColorSwatch.ColorChangedEvent.eventName, onColorChanged);\n\n      const swatchIcon =\n          new ColorSwatchPopoverIcon(treeElement, treeElement.parentPane().swatchPopoverHelper(), swatch);\n      swatchIcon.addEventListener(ColorSwatchPopoverIconEvents.COLOR_CHANGED, ev => {\n        swatch.setColorText(ev.data);\n      });\n      if (treeElement.property.name === 'color') {\n        void this.#addColorContrastInfo(swatchIcon);\n      }\n    }\n\n    return swatch;\n  }\n\n  async #addColorContrastInfo(swatchIcon: ColorSwatchPopoverIcon): Promise<void> {\n    const cssModel = this.#stylesPane.cssModel();\n    const node = this.#stylesPane.node();\n    if (!cssModel || typeof node?.id === 'undefined') {\n      return;\n    }\n    const contrastInfo = new ColorPicker.ContrastInfo.ContrastInfo(await cssModel.getBackgroundColors(node.id));\n    swatchIcon.setContrastInfo(contrastInfo);\n  }\n}\n\n// clang-format off\nexport class LightDarkColorRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.LightDarkColorMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #stylesPane: StylesSidebarPane;\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n    this.#stylesPane = stylesPane;\n    this.#matchedStyles = matchedStyles;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.LightDarkColorMatch, context: RenderingContext): Node[] {\n    const content = document.createElement('span');\n    content.appendChild(document.createTextNode('light-dark('));\n    const light = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(', '));\n    const dark = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(')'));\n    const {cssControls: lightControls} = Renderer.renderInto(match.light, context, light);\n    const {cssControls: darkControls} = Renderer.renderInto(match.dark, context, dark);\n\n    if (context.matchedResult.hasUnresolvedVars(match.node)) {\n      return [content];\n    }\n\n    const color = Common.Color.parse(\n        context.matchedResult.getComputedTextRange(match.light[0], match.light[match.light.length - 1]));\n    if (!color) {\n      return [content];\n    }\n\n    // Pass an undefined color here to insert a placeholder swatch that will be filled in from the async\n    // applyColorScheme below.\n    const colorSwatch = new ColorRenderer(this.#stylesPane, this.#treeElement).renderColorSwatch(undefined, content);\n    context.addControl('color', colorSwatch);\n    void this.applyColorScheme(match, context, colorSwatch, light, dark, lightControls, darkControls);\n\n    return [colorSwatch];\n  }\n\n  async applyColorScheme(\n      match: SDK.CSSPropertyParserMatchers.LightDarkColorMatch, context: RenderingContext,\n      colorSwatch: InlineEditor.ColorSwatch.ColorSwatch, light: HTMLSpanElement, dark: HTMLSpanElement,\n      lightControls: SDK.CSSPropertyParser.CSSControlMap,\n      darkControls: SDK.CSSPropertyParser.CSSControlMap): Promise<void> {\n    const activeColor = await this.#activeColor(match);\n    if (!activeColor) {\n      return;\n    }\n\n    const activeColorSwatches = (activeColor === match.light ? lightControls : darkControls).get('color');\n    activeColorSwatches?.forEach(\n        swatch => swatch.addEventListener(\n            InlineEditor.ColorSwatch.ColorChangedEvent.eventName, ev => colorSwatch.setColor(ev.data.color)));\n    const inactiveColor = (activeColor === match.light) ? dark : light;\n    const colorText = context.matchedResult.getComputedTextRange(activeColor[0], activeColor[activeColor.length - 1]);\n    const color = colorText && Common.Color.parse(colorText);\n    inactiveColor.classList.add('inactive-value');\n    if (color) {\n      colorSwatch.renderColor(color);\n    }\n  }\n\n  // Returns the syntax node group corresponding the active color scheme:\n  // If the element has color-scheme set to light or dark, return the respective group.\n  // If the element has color-scheme set to both light and dark, we check the prefers-color-scheme media query.\n  async #activeColor(match: SDK.CSSPropertyParserMatchers.LightDarkColorMatch):\n      Promise<CodeMirror.SyntaxNode[]|undefined> {\n    const activeColorSchemes = this.#matchedStyles.resolveProperty('color-scheme', match.style)\n                                   ?.parseValue(this.#matchedStyles, new Map())\n                                   ?.getComputedPropertyValueText()\n                                   .split(' ') ??\n        [];\n    const hasLight = activeColorSchemes.includes(SDK.CSSModel.ColorScheme.LIGHT);\n    const hasDark = activeColorSchemes.includes(SDK.CSSModel.ColorScheme.DARK);\n\n    if (!hasDark && !hasLight) {\n      return match.light;\n    }\n    if (!hasLight) {\n      return match.dark;\n    }\n    if (!hasDark) {\n      return match.light;\n    }\n\n    switch (await this.#stylesPane.cssModel()?.colorScheme()) {\n      case SDK.CSSModel.ColorScheme.DARK:\n        return match.dark;\n      case SDK.CSSModel.ColorScheme.LIGHT:\n        return match.light;\n      default:\n        return undefined;\n    }\n  }\n}\n\n// clang-format off\nexport class ColorMixRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.ColorMixMatch) {\n  // clang-format on\n  readonly #pane: StylesSidebarPane;\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  readonly #computedStyles: Map<string, string>;\n  readonly #treeElement: StylePropertyTreeElement|null;\n\n  constructor(\n      pane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      computedStyles: Map<string, string>, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#pane = pane;\n    this.#matchedStyles = matchedStyles;\n    this.#computedStyles = computedStyles;\n    this.#treeElement = treeElement;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.ColorMixMatch, context: RenderingContext): Node[] {\n    const hookUpColorArg = (node: Node, onChange: (newColorText: string) => void): boolean => {\n      if (node instanceof InlineEditor.ColorMixSwatch.ColorMixSwatch ||\n          node instanceof InlineEditor.ColorSwatch.ColorSwatch) {\n        if (node instanceof InlineEditor.ColorSwatch.ColorSwatch) {\n          node.addEventListener(\n              InlineEditor.ColorSwatch.ColorChangedEvent.eventName,\n              ev => onChange(ev.data.color.getAuthoredText() ?? ev.data.color.asString()));\n        } else {\n          node.addEventListener(\n              InlineEditor.ColorMixSwatch.ColorMixChangedEvent.eventName, ev => onChange(ev.data.text));\n        }\n        const color = node.getText();\n        if (color) {\n          onChange(color);\n          return true;\n        }\n      }\n      return false;\n    };\n\n    const childTracingContexts =\n        context.tracing?.evaluation([match.space, match.color1, match.color2], {match, context});\n    const childRenderingContexts =\n        childTracingContexts?.map(ctx => ctx.renderingContext(context)) ?? [context, context, context];\n\n    const contentChild = document.createElement('span');\n    const color1 = Renderer.renderInto(match.color1, childRenderingContexts[1], contentChild);\n    const color2 = Renderer.renderInto(match.color2, childRenderingContexts[2], contentChild);\n    render(\n        html`${\n            this.#treeElement?.getTracingTooltip(\n                'color-mix', match.node, this.#matchedStyles, this.#computedStyles, context) ??\n            'color-mix'}(${Renderer.render(match.space, childRenderingContexts[0]).nodes}, ${color1.nodes}, ${\n            color2.nodes})`,\n        contentChild);\n\n    const color1Controls = color1.cssControls.get('color') ?? [];\n    const color2Controls = color2.cssControls.get('color') ?? [];\n\n    if (context.matchedResult.hasUnresolvedVars(match.node) || color1Controls.length !== 1 ||\n        color2Controls.length !== 1) {\n      return [contentChild];\n    }\n\n    const space = match.space.map(space => context.matchedResult.getComputedText(space)).join(' ');\n    const color1Text = match.color1.map(color => context.matchedResult.getComputedText(color)).join(' ');\n    const color2Text = match.color2.map(color => context.matchedResult.getComputedText(color)).join(' ');\n    const colorMixText = `color-mix(${space}, ${color1Text}, ${color2Text})`;\n\n    const nodeId = this.#pane.node()?.id;\n    if (nodeId !== undefined && childTracingContexts) {\n      const evaluation = context.tracing?.applyEvaluation(childTracingContexts, () => {\n        const initialColor = Common.Color.parse('#000') as Common.Color.Color;\n        const swatch = new ColorRenderer(this.#pane, null).renderColorSwatch(initialColor);\n        context.addControl('color', swatch);\n        const asyncEvalCallback = async(): Promise<boolean> => {\n          const results = await this.#pane.cssModel()?.resolveValues(undefined, nodeId, colorMixText);\n          if (results) {\n            const color = Common.Color.parse(results[0]);\n            if (color) {\n              swatch.setColorText(color.as(Common.Color.Format.HEXA));\n              return true;\n            }\n          }\n          return false;\n        };\n        return {placeholder: [swatch], asyncEvalCallback};\n      });\n      if (evaluation) {\n        return evaluation;\n      }\n    }\n\n    const swatch = new InlineEditor.ColorMixSwatch.ColorMixSwatch();\n    if (!hookUpColorArg(color1Controls[0], text => swatch.setFirstColor(text)) ||\n        !hookUpColorArg(color2Controls[0], text => swatch.setSecondColor(text))) {\n      return [contentChild];\n    }\n    swatch.tabIndex = -1;\n    swatch.setColorMixText(colorMixText);\n    UI.ARIAUtils.setLabel(swatch, colorMixText);\n    context.addControl('color', swatch);\n\n    if (context.tracing) {\n      return [swatch, contentChild];\n    }\n\n    const tooltipId = this.#treeElement?.getTooltipId('color-mix');\n    if (!tooltipId) {\n      return [swatch, contentChild];\n    }\n    swatch.setAttribute('aria-details', tooltipId);\n    const tooltip = new Tooltips.Tooltip.Tooltip({\n      id: tooltipId,\n      variant: 'rich',\n      anchor: swatch,\n      jslogContext: 'elements.css-color-mix',\n    });\n    const colorTextSpan = tooltip.appendChild(document.createElement('span'));\n    tooltip.onbeforetoggle = e => {\n      if ((e as ToggleEvent).newState !== 'open') {\n        return;\n      }\n      const color = swatch.mixedColor();\n      if (!color) {\n        return;\n      }\n      const rgb = color.as(Common.Color.Format.HEX);\n      colorTextSpan.textContent = rgb.isGamutClipped() ? color.asString() : rgb.asString();\n    };\n\n    return [swatch, contentChild, tooltip];\n  }\n}\n\n// clang-format off\nexport class AngleRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.AngleMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  constructor(treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.AngleMatch, context: RenderingContext): Node[] {\n    const angleText = match.text;\n    if (!this.#treeElement?.editable()) {\n      return [document.createTextNode(angleText)];\n    }\n    const cssAngle = new InlineEditor.CSSAngle.CSSAngle();\n    cssAngle.setAttribute('jslog', `${VisualLogging.showStyleEditor().track({click: true}).context('css-angle')}`);\n    const valueElement = document.createElement('span');\n    valueElement.textContent = angleText;\n    cssAngle.data = {\n      angleText,\n      containingPane:\n          (this.#treeElement.parentPane().element.enclosingNodeOrSelfWithClass('style-panes-wrapper') as HTMLElement),\n    };\n    cssAngle.append(valueElement);\n\n    const treeElement = this.#treeElement;\n    cssAngle.addEventListener('popovertoggled', ({data}) => {\n      const section = treeElement.section();\n      if (!section) {\n        return;\n      }\n\n      if (data.open) {\n        treeElement.parentPane().hideAllPopovers();\n        treeElement.parentPane().activeCSSAngle = cssAngle;\n        Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.ANGLE);\n      }\n\n      section.element.classList.toggle('has-open-popover', data.open);\n      treeElement.parentPane().setEditingStyle(data.open);\n\n      // Commit the value as a major change after the angle popover is closed.\n      if (!data.open) {\n        void treeElement.applyStyleText(treeElement.renderedPropertyText(), true);\n      }\n    });\n    cssAngle.addEventListener('valuechanged', async ({data}) => {\n      valueElement.textContent = data.value;\n      await treeElement.applyStyleText(treeElement.renderedPropertyText(), false);\n    });\n    cssAngle.addEventListener('unitchanged', ({data}) => {\n      valueElement.textContent = data.value;\n    });\n\n    context.addControl('angle', cssAngle);\n    return [cssAngle];\n  }\n}\n\n// clang-format off\nexport class LinkableNameRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.LinkableNameMatch) {\n  // clang-format on\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  readonly #stylesPane: StylesSidebarPane;\n  constructor(matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, stylesSidebarPane: StylesSidebarPane) {\n    super();\n    this.#matchedStyles = matchedStyles;\n    this.#stylesPane = stylesSidebarPane;\n  }\n\n  #getLinkData(match: SDK.CSSPropertyParserMatchers.LinkableNameMatch):\n      {jslogContext: string, metric: null|Host.UserMetrics.SwatchType, ruleBlock: string, isDefined: boolean} {\n    switch (match.propertyName) {\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.ANIMATION:\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.ANIMATION_NAME:\n        return {\n          jslogContext: 'css-animation-name',\n          metric: Host.UserMetrics.SwatchType.ANIMATION_NAME_LINK,\n          ruleBlock: '@keyframes',\n          isDefined: Boolean(this.#matchedStyles.keyframes().find(kf => kf.name().text === match.text)),\n        };\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.FONT_PALETTE:\n        return {\n          jslogContext: 'css-font-palette',\n          metric: null,\n          ruleBlock: '@font-palette-values',\n          isDefined: this.#matchedStyles.fontPaletteValuesRule()?.name().text === match.text,\n        };\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.POSITION_TRY:\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.POSITION_TRY_FALLBACKS:\n        return {\n          jslogContext: 'css-position-try',\n          metric: Host.UserMetrics.SwatchType.POSITION_TRY_LINK,\n          ruleBlock: '@position-try',\n          isDefined: Boolean(this.#matchedStyles.positionTryRules().find(pt => pt.name().text === match.text)),\n        };\n      case SDK.CSSPropertyParserMatchers.LinkableNameProperties.FUNCTION:\n        return {\n          jslogContext: 'css-function',\n          metric: null,\n          ruleBlock: '@function',\n          isDefined: Boolean(this.#matchedStyles.getRegisteredFunction(match.text)),\n        };\n    }\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.LinkableNameMatch): Node[] {\n    const swatch = new InlineEditor.LinkSwatch.LinkSwatch();\n    const {metric, jslogContext, ruleBlock, isDefined} = this.#getLinkData(match);\n    swatch.data = {\n      text: match.text,\n      tooltip: isDefined ? undefined : {title: i18nString(UIStrings.sIsNotDefined, {PH1: match.text})},\n      isDefined,\n      onLinkActivate: (): void => {\n        metric && Host.userMetrics.swatchActivated(metric);\n        if (match.propertyName === SDK.CSSPropertyParserMatchers.LinkableNameProperties.FUNCTION) {\n          const functionName = this.#matchedStyles.getRegisteredFunction(match.text);\n          if (!functionName) {\n            return;\n          }\n          this.#stylesPane.jumpToFunctionDefinition(functionName);\n        } else {\n          this.#stylesPane.jumpToSectionBlock(`${ruleBlock} ${match.text}`);\n        }\n      },\n      jslogContext,\n    };\n\n    if (match.propertyName === SDK.CSSPropertyParserMatchers.LinkableNameProperties.ANIMATION ||\n        match.propertyName === SDK.CSSPropertyParserMatchers.LinkableNameProperties.ANIMATION_NAME) {\n      const el = document.createElement('span');\n      el.appendChild(swatch);\n\n      const node = this.#stylesPane.node();\n      if (node) {\n        const animationModel = node.domModel().target().model(SDK.AnimationModel.AnimationModel);\n        void animationModel?.getAnimationGroupForAnimation(match.text, node.id).then(maybeAnimationGroup => {\n          if (!maybeAnimationGroup) {\n            return;\n          }\n\n          const icon = IconButton.Icon.create('animation', 'open-in-animations-panel');\n          icon.setAttribute('jslog', `${VisualLogging.link('open-in-animations-panel').track({click: true})}`);\n          icon.setAttribute('role', 'button');\n          icon.setAttribute('title', i18nString(UIStrings.jumpToAnimationsPanel));\n          icon.addEventListener('mouseup', ev => {\n            ev.consume(true);\n\n            void Common.Revealer.reveal(maybeAnimationGroup);\n          });\n          el.insertBefore(icon, swatch);\n        });\n      }\n      return [el];\n    }\n\n    return [swatch];\n  }\n}\n\n// clang-format off\nexport class BezierRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.BezierMatch) {\n  // clang-format on\n  readonly #treeElement: StylePropertyTreeElement|null;\n  constructor(treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n  }\n  override render(match: SDK.CSSPropertyParserMatchers.BezierMatch): Node[] {\n    return [this.renderSwatch(match)];\n  }\n\n  renderSwatch(match: SDK.CSSPropertyParserMatchers.BezierMatch): Node {\n    if (!this.#treeElement?.editable() || !InlineEditor.AnimationTimingModel.AnimationTimingModel.parse(match.text)) {\n      return document.createTextNode(match.text);\n    }\n    const swatchPopoverHelper = this.#treeElement.parentPane().swatchPopoverHelper();\n    const swatch = InlineEditor.Swatches.BezierSwatch.create();\n    swatch.iconElement().addEventListener('click', () => {\n      Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.ANIMATION_TIMING);\n    });\n    swatch.setBezierText(match.text);\n    new BezierPopoverIcon({treeElement: this.#treeElement, swatchPopoverHelper, swatch});\n    return swatch;\n  }\n}\n\n// clang-format off\nexport class AutoBaseRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.AutoBaseMatch) {\n  readonly #computedStyle: Map<string, string>;\n  // clang-format on\n\n  constructor(computedStyle: Map<string, string>) {\n    super();\n    this.#computedStyle = computedStyle;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.AutoBaseMatch, context: RenderingContext): Node[] {\n    const content = document.createElement('span');\n    content.appendChild(document.createTextNode('-internal-auto-base('));\n    const auto = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(', '));\n    const base = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(')'));\n\n    Renderer.renderInto(match.auto, context, auto);\n    Renderer.renderInto(match.base, context, base);\n\n    const activeAppearance = this.#computedStyle.get('appearance');\n    if (activeAppearance?.startsWith('base')) {\n      auto.classList.add('inactive-value');\n    } else {\n      base.classList.add('inactive-value');\n    }\n\n    return [content];\n  }\n}\n\nexport const enum ShadowPropertyType {\n  X = 'x',\n  Y = 'y',\n  SPREAD = 'spread',\n  BLUR = 'blur',\n  INSET = 'inset',\n  COLOR = 'color',\n}\n\ninterface ShadowProperty {\n  value: string|CodeMirror.SyntaxNode;\n  source: CodeMirror.SyntaxNode|null;\n  expansionContext: RenderingContext|null;\n  propertyType: ShadowPropertyType;\n}\n\ntype ShadowLengthProperty = ShadowProperty&{\n  length: InlineEditor.CSSShadowEditor.CSSLength,\n  propertyType: Exclude<ShadowPropertyType, ShadowPropertyType.INSET|ShadowPropertyType.COLOR>,\n};\n\n// The shadow model is an abstraction over the various shadow properties on the one hand and the order they were defined\n// in on the other, so that modifications through the shadow editor can retain the property order in the authored text.\n// The model also looks through var()s by keeping a mapping between individual properties and any var()s they are coming\n// from, replacing the var() functions as needed with concrete values when edited.\nexport class ShadowModel implements InlineEditor.CSSShadowEditor.CSSShadowModel {\n  readonly #properties: ShadowProperty[];\n  readonly #shadowType: SDK.CSSPropertyParserMatchers.ShadowType;\n  readonly #context: RenderingContext;\n\n  constructor(\n      shadowType: SDK.CSSPropertyParserMatchers.ShadowType, properties: ShadowProperty[], context: RenderingContext) {\n    this.#shadowType = shadowType;\n    this.#properties = properties;\n    this.#context = context;\n  }\n  isBoxShadow(): boolean {\n    return this.#shadowType === SDK.CSSPropertyParserMatchers.ShadowType.BOX_SHADOW;\n  }\n  inset(): boolean {\n    return Boolean(this.#properties.find(property => property.propertyType === ShadowPropertyType.INSET));\n  }\n  #length(lengthType: ShadowLengthProperty['propertyType']): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#properties.find((property): property is ShadowLengthProperty => property.propertyType === lengthType)\n               ?.length ??\n        InlineEditor.CSSShadowEditor.CSSLength.zero();\n  }\n  offsetX(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.X);\n  }\n  offsetY(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.Y);\n  }\n  blurRadius(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.BLUR);\n  }\n  spreadRadius(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.SPREAD);\n  }\n\n  #needsExpansion(property: ShadowProperty): boolean {\n    return Boolean(property.expansionContext && property.source);\n  }\n\n  #expandPropertyIfNeeded(property: ShadowProperty): void {\n    if (this.#needsExpansion(property)) {\n      // Rendering prefers `source` if present. It's sufficient to clear it in order to switch rendering to render the\n      // individual properties directly.\n      const source = property.source;\n      this.#properties.filter(property => property.source === source).forEach(property => {\n        property.source = null;\n      });\n    }\n  }\n\n  #expandOrGetProperty(propertyType: Exclude<ShadowPropertyType, ShadowLengthProperty['propertyType']>):\n      {property: ShadowProperty|undefined, index: number};\n  #expandOrGetProperty(propertyType: ShadowLengthProperty['propertyType']):\n      {property: ShadowLengthProperty|undefined, index: number};\n  #expandOrGetProperty(propertyType: ShadowPropertyType): {property: ShadowProperty|undefined, index: number} {\n    const index = this.#properties.findIndex(property => property.propertyType === propertyType);\n    const property = index >= 0 ? this.#properties[index] : undefined;\n    property && this.#expandPropertyIfNeeded(property);\n    return {property, index};\n  }\n\n  setInset(inset: boolean): void {\n    if (!this.isBoxShadow()) {\n      return;\n    }\n\n    const {property, index} = this.#expandOrGetProperty(ShadowPropertyType.INSET);\n    if (property) {\n      // For `inset`, remove the entry if value is false, otherwise don't touch it.\n      if (!inset) {\n        this.#properties.splice(index, 1);\n      }\n    } else {\n      this.#properties.unshift(\n          {value: 'inset', source: null, expansionContext: null, propertyType: ShadowPropertyType.INSET});\n    }\n  }\n  #setLength(value: InlineEditor.CSSShadowEditor.CSSLength, propertyType: ShadowLengthProperty['propertyType']): void {\n    const {property} = this.#expandOrGetProperty(propertyType);\n    if (property) {\n      property.value = value.asCSSText();\n      property.length = value;\n      property.source = null;\n    } else {\n      // Lengths are ordered X, Y, Blur, Spread, with the latter two being optional. When inserting an optional property\n      // we need to insert it after Y or after Blur, depending on what's being inserted and which properties are\n      // present.\n      const insertionIdx = 1 +\n          this.#properties.findLastIndex(\n              property => property.propertyType === ShadowPropertyType.Y ||\n                  (propertyType === ShadowPropertyType.SPREAD && property.propertyType === ShadowPropertyType.BLUR));\n      if (insertionIdx > 0 && insertionIdx < this.#properties.length &&\n          this.#needsExpansion(this.#properties[insertionIdx]) &&\n          this.#properties[insertionIdx - 1].source === this.#properties[insertionIdx].source) {\n        // This prevents the edge case where insertion after the last length would break up a group of values that\n        // require expansion.\n        this.#expandPropertyIfNeeded(this.#properties[insertionIdx]);\n      }\n      this.#properties.splice(\n          insertionIdx, 0,\n          {value: value.asCSSText(), length: value, source: null, expansionContext: null, propertyType} as\n              ShadowLengthProperty);\n    }\n  }\n  setOffsetX(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.X);\n  }\n  setOffsetY(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.Y);\n  }\n  setBlurRadius(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.BLUR);\n  }\n  setSpreadRadius(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    if (this.isBoxShadow()) {\n      this.#setLength(value, ShadowPropertyType.SPREAD);\n    }\n  }\n\n  renderContents(span: HTMLSpanElement): void {\n    span.removeChildren();\n    let previousSource = null;\n    for (const property of this.#properties) {\n      if (!property.source || property.source !== previousSource) {\n        if (property !== this.#properties[0]) {\n          span.append(' ');\n        }\n        // If `source` is present on the property that means it came from a var() and we'll use that to render.\n        if (property.source) {\n          span.append(...Renderer.render(property.source, this.#context).nodes);\n        } else if (typeof property.value === 'string') {\n          span.append(property.value);\n        } else {\n          span.append(...Renderer.render(property.value, property.expansionContext ?? this.#context).nodes);\n        }\n      }\n      previousSource = property.source;\n    }\n  }\n}\n\n// clang-format off\nexport class ShadowRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.ShadowMatch) {\n  readonly #treeElement: StylePropertyTreeElement|null;\n  // clang-format on\n  constructor(treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#treeElement = treeElement;\n  }\n\n  shadowModel(\n      shadow: CodeMirror.SyntaxNode[], shadowType: SDK.CSSPropertyParserMatchers.ShadowType,\n      context: RenderingContext): null|ShadowModel {\n    const properties: Array<ShadowProperty|ShadowLengthProperty> = [];\n    const missingLengths: Array<ShadowLengthProperty['propertyType']> =\n        [ShadowPropertyType.SPREAD, ShadowPropertyType.BLUR, ShadowPropertyType.Y, ShadowPropertyType.X];\n    let stillAcceptsLengths = true;\n\n    // We're parsing the individual shadow properties into an array here retaining the ordering. This also looks through\n    // var() functions by re-parsing the variable values on the fly. For properties coming from a var() we're keeping\n    // track of their origin to allow for adhoc expansion when one of those properties is edited.\n\n    const queue: Array<{\n      value: CodeMirror.SyntaxNode,\n      source: CodeMirror.SyntaxNode,\n      match: SDK.CSSPropertyParser.Match | undefined,\n      expansionContext: RenderingContext | null,\n    }> =\n        shadow.map(\n            value => ({value, source: value, match: context.matchedResult.getMatch(value), expansionContext: null}));\n    for (let item = queue.shift(); item; item = queue.shift()) {\n      const {value, source, match, expansionContext} = item;\n      const text = (expansionContext ?? context).ast.text(value);\n      if (value.name === 'NumberLiteral') {\n        if (!stillAcceptsLengths) {\n          return null;\n        }\n        const propertyType = missingLengths.pop();\n        if (propertyType === undefined ||\n            (propertyType === ShadowPropertyType.SPREAD &&\n             shadowType === SDK.CSSPropertyParserMatchers.ShadowType.TEXT_SHADOW)) {\n          return null;\n        }\n        const length = InlineEditor.CSSShadowEditor.CSSLength.parse(text);\n        if (!length) {\n          return null;\n        }\n        properties.push({value, source, length, propertyType, expansionContext});\n      } else if (match instanceof SDK.CSSPropertyParserMatchers.VariableMatch) {\n        // This doesn't come from any computed text, so we can rely on context here\n        const computedValue = context.matchedResult.getComputedText(value);\n        const computedValueAst = SDK.CSSPropertyParser.tokenizeDeclaration('--property', computedValue);\n        if (!computedValueAst) {\n          return null;\n        }\n        const matches = SDK.CSSPropertyParser.BottomUpTreeMatching.walkExcludingSuccessors(\n            computedValueAst, [new SDK.CSSPropertyParserMatchers.ColorMatcher()]);\n        if (matches.hasUnresolvedVars(matches.ast.tree)) {\n          return null;\n        }\n        queue.unshift(\n            ...ASTUtils.siblings(ASTUtils.declValue(matches.ast.tree))\n                .map(matchedNode => ({\n                       value: matchedNode,\n                       source: value,\n                       match: matches.getMatch(matchedNode),\n                       expansionContext: new RenderingContext(computedValueAst, null, context.renderers, matches),\n                     })));\n      } else {\n        // The length properties must come in one block, so if there were any lengths before, followed by a non-length\n        // property, we will not allow any future lengths.\n        stillAcceptsLengths = missingLengths.length === 4;\n        if (value.name === 'ValueName' && text.toLowerCase() === 'inset') {\n          if (shadowType === SDK.CSSPropertyParserMatchers.ShadowType.TEXT_SHADOW ||\n              properties.find(({propertyType}) => propertyType === ShadowPropertyType.INSET)) {\n            return null;\n          }\n          properties.push({value, source, propertyType: ShadowPropertyType.INSET, expansionContext});\n        } else if (\n            match instanceof SDK.CSSPropertyParserMatchers.ColorMatch ||\n            match instanceof SDK.CSSPropertyParserMatchers.ColorMixMatch) {\n          if (properties.find(({propertyType}) => propertyType === ShadowPropertyType.COLOR)) {\n            return null;\n          }\n          properties.push({value, source, propertyType: ShadowPropertyType.COLOR, expansionContext});\n        } else if (value.name !== 'Comment' && value.name !== 'Important') {\n          return null;\n        }\n      }\n    }\n    if (missingLengths.length > 2) {\n      // X and Y are mandatory\n      return null;\n    }\n    return new ShadowModel(shadowType, properties, context);\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.ShadowMatch, context: RenderingContext): Node[] {\n    const shadows = ASTUtils.split(ASTUtils.siblings(ASTUtils.declValue(match.node)));\n    const result: Node[] = [];\n\n    for (const shadow of shadows) {\n      const model = this.shadowModel(shadow, match.shadowType, context);\n      const isImportant = shadow.find(node => node.name === 'Important');\n\n      if (shadow !== shadows[0]) {\n        result.push(document.createTextNode(', '));\n      }\n\n      if (!model || !this.#treeElement?.editable()) {\n        const {nodes} = Renderer.render(shadow, context);\n        result.push(...nodes);\n        continue;\n      }\n\n      const swatch = new InlineEditor.Swatches.CSSShadowSwatch(model);\n      swatch.setAttribute('jslog', `${VisualLogging.showStyleEditor('css-shadow').track({click: true})}`);\n      swatch.iconElement().addEventListener('click', () => {\n        Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.SHADOW);\n      });\n\n      const contents = document.createElement('span');\n      model.renderContents(contents);\n      const popoverHelper = new ShadowSwatchPopoverHelper(\n          this.#treeElement, this.#treeElement.parentPane().swatchPopoverHelper(), swatch);\n      const treeElement = this.#treeElement;\n      popoverHelper.addEventListener(ShadowEvents.SHADOW_CHANGED, () => {\n        model.renderContents(contents);\n        void treeElement.applyStyleText(treeElement.renderedPropertyText(), false);\n      });\n      result.push(swatch, contents);\n\n      if (isImportant) {\n        result.push(...[document.createTextNode(' '), ...Renderer.render(isImportant, context).nodes]);\n      }\n    }\n\n    return result;\n  }\n}\n\n// clang-format off\nexport class FontRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.FontMatch) {\n  // clang-format on\n  constructor(readonly treeElement: StylePropertyTreeElement) {\n    super();\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.FontMatch, context: RenderingContext): Node[] {\n    this.treeElement.section().registerFontProperty(this.treeElement);\n    const {nodes} = Renderer.render(ASTUtils.siblings(ASTUtils.declValue(match.node)), context);\n    return nodes;\n  }\n}\n\n// clang-format off\nexport class GridTemplateRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.GridTemplateMatch) {\n  // clang-format on\n  override render(match: SDK.CSSPropertyParserMatchers.GridTemplateMatch, context: RenderingContext): Node[] {\n    if (match.lines.length <= 1) {\n      return Renderer.render(ASTUtils.siblings(ASTUtils.declValue(match.node)), context).nodes;\n    }\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    const container = document.createDocumentFragment();\n    for (const line of match.lines) {\n      const value = Renderer.render(line, context);\n      const lineBreak = UI.Fragment.html`<br /><span class='styles-clipboard-only'>${indent.repeat(2)}</span>`;\n      container.append(lineBreak, ...value.nodes);\n    }\n    return [container];\n  }\n}\n\nexport const SHORTHANDS_FOR_PERCENTAGES = new Set([\n  'inset',\n  'inset-block',\n  'inset-inline',\n  'margin',\n  'margin-block',\n  'margin-inline',\n  'padding',\n  'padding-block',\n  'padding-inline',\n]);\n\nasync function resolveValues(\n    stylesPane: StylesSidebarPane, propertyName: string, match: SDK.CSSPropertyParser.Match, context: RenderingContext,\n    ...values: string[]): Promise<string[]|null|undefined> {\n  // We want to resolve values against the original property we're tracing and not the property we're substituting,\n  // so try to look up the original name.\n  propertyName = context.tracing?.propertyName ?? context.matchedResult.ast.propertyName ?? propertyName;\n\n  if (SHORTHANDS_FOR_PERCENTAGES.has(propertyName) &&\n      (context.tracing?.expandPercentagesInShorthands ?? context.matchedResult.getLonghandValuesCount() > 1)) {\n    propertyName = context.getComputedLonghandName(match.node) ?? propertyName;\n  }\n  const nodeId = stylesPane.node()?.id;\n  if (nodeId === undefined) {\n    return null;\n  }\n\n  return (await stylesPane.cssModel()?.resolveValues(propertyName, nodeId, ...values)) ??\n      (await stylesPane.cssModel()?.resolveValues(undefined, nodeId, ...values));\n}\n\n// clang-format off\nexport class LengthRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.LengthMatch) {\n  // clang-format on\n  readonly #stylesPane: StylesSidebarPane;\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #propertyName: string;\n  constructor(stylesPane: StylesSidebarPane, propertyName: string, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#stylesPane = stylesPane;\n    this.#treeElement = treeElement;\n    this.#propertyName = propertyName;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.LengthMatch, context: RenderingContext): Node[] {\n    const valueElement = document.createElement('span');\n    valueElement.tabIndex = -1;\n    valueElement.textContent = match.text;\n\n    if (!context.tracing) {\n      void this.#attachPopover(valueElement, match, context);\n    }\n    const evaluation = context.tracing?.applyEvaluation([], () => {\n      return {\n        placeholder: [valueElement],\n        asyncEvalCallback: () => this.#applyEvaluation(valueElement, match, context)\n      };\n    });\n\n    return evaluation ?? [valueElement];\n  }\n\n  async #applyEvaluation(\n      valueElement: HTMLElement, match: SDK.CSSPropertyParser.Match, context: RenderingContext): Promise<boolean> {\n    const pixelValue = await resolveValues(this.#stylesPane, this.#propertyName, match, context, match.text);\n\n    if (pixelValue?.[0] && pixelValue?.[0] !== match.text) {\n      valueElement.textContent = pixelValue[0];\n      return true;\n    }\n\n    return false;\n  }\n\n  async #attachPopover(\n      valueElement: HTMLElement, match: SDK.CSSPropertyParser.Match, context: RenderingContext): Promise<void> {\n    const pixelValue = await resolveValues(this.#stylesPane, this.#propertyName, match, context, match.text);\n    if (!pixelValue) {\n      return;\n    }\n\n    const tooltipId = this.#treeElement?.getTooltipId('length');\n    if (tooltipId) {\n      valueElement.setAttribute('aria-details', tooltipId);\n      const tooltip = new Tooltips.Tooltip.Tooltip(\n          {anchor: valueElement, variant: 'rich', id: tooltipId, jslogContext: 'length-popover'});\n      tooltip.appendChild(document.createTextNode(pixelValue[0]));\n      valueElement.insertAdjacentElement('afterend', tooltip);\n    }\n    this.popOverAttachedForTest();\n  }\n\n  popOverAttachedForTest(): void {\n  }\n}\n\n// clang-format off\nexport class MathFunctionRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.MathFunctionMatch) {\n  // clang-format on\n  readonly #stylesPane: StylesSidebarPane;\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  readonly #computedStyles: Map<string, string>;\n  readonly #treeElement: StylePropertyTreeElement|null;\n  readonly #propertyName: string;\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      computedStyles: Map<string, string>, propertyName: string, treeElement: StylePropertyTreeElement|null) {\n    super();\n    this.#matchedStyles = matchedStyles;\n    this.#computedStyles = computedStyles;\n    this.#stylesPane = stylesPane;\n    this.#treeElement = treeElement;\n    this.#propertyName = propertyName;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.MathFunctionMatch, context: RenderingContext): Node[] {\n    const childTracingContexts = context.tracing?.evaluation(match.args, {match, context});\n    const renderedArgs = match.args.map((arg, idx) => {\n      const span = document.createElement('span');\n      Renderer.renderInto(\n          arg, childTracingContexts ? childTracingContexts[idx].renderingContext(context) : context, span);\n      return span;\n    });\n\n    const span = document.createElement('span');\n    render(\n        html`${\n            this.#treeElement?.getTracingTooltip(\n                match.func, match.node, this.#matchedStyles, this.#computedStyles, context) ??\n            match.func}(${renderedArgs.map((arg, idx) => idx === 0 ? [arg] : [html`, `, arg]).flat()})`,\n        span);\n\n    if (childTracingContexts) {\n      const evaluation = context.tracing?.applyEvaluation(\n          childTracingContexts,\n          () => ({placeholder: [span], asyncEvalCallback: () => this.applyEvaluation(span, match, context)}));\n      if (evaluation) {\n        return evaluation;\n      }\n    } else if (match.func !== 'calc') {\n      void this.applyMathFunction(renderedArgs, match, context);\n    }\n\n    return [span];\n  }\n\n  async applyEvaluation(\n      span: HTMLSpanElement, match: SDK.CSSPropertyParserMatchers.MathFunctionMatch,\n      context: RenderingContext): Promise<boolean> {\n    const value = context.matchedResult.getComputedText(match.node, match => {\n      if (match instanceof SDK.CSSPropertyParserMatchers.RelativeColorChannelMatch) {\n        const relativeColor =\n            context.findParent(match.node, SDK.CSSPropertyParserMatchers.ColorMatch)?.relativeColor ?? null;\n        return (relativeColor && match.getColorChannelValue(relativeColor)?.toFixed(3)) ?? null;\n      }\n      return null;\n    });\n    const evaled = await resolveValues(this.#stylesPane, this.#propertyName, match, context, value);\n    if (!evaled?.[0] || evaled[0] === value) {\n      return false;\n    }\n    span.textContent = evaled[0];\n    return true;\n  }\n\n  async applyMathFunction(\n      renderedArgs: HTMLElement[], match: SDK.CSSPropertyParserMatchers.MathFunctionMatch,\n      context: RenderingContext): Promise<void> {\n    // To understand which argument was selected by the function, we evaluate the function as well as all the arguments\n    // and compare the function result to the values of all its arguments. Evaluating the arguments eliminates nested\n    // function calls and normalizes all units to px.\n    const values = match.args.map(arg => context.matchedResult.getComputedTextRange(arg[0], arg[arg.length - 1]));\n    values.unshift(context.matchedResult.getComputedText(match.node));\n    const evaledArgs = await resolveValues(this.#stylesPane, this.#propertyName, match, context, ...values);\n    if (!evaledArgs) {\n      return;\n    }\n    const functionResult = evaledArgs.shift();\n    if (!functionResult) {\n      return;\n    }\n    for (let i = 0; i < renderedArgs.length; ++i) {\n      if (evaledArgs[i] !== functionResult) {\n        renderedArgs[i].classList.add('inactive-value');\n      }\n    }\n  }\n}\n\n// clang-format off\nexport class AnchorFunctionRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.AnchorFunctionMatch) {\n  // clang-format on\n  readonly #stylesPane: StylesSidebarPane;\n\n  static async decorateAnchorForAnchorLink(\n      stylesPane: StylesSidebarPane, container: HTMLElement,\n      {identifier, needsSpace}: {identifier?: string, needsSpace?: boolean}): Promise<void> {\n    if (identifier) {\n      render(html`${identifier}`, container, {host: container});\n    }\n\n    const anchorNode = await stylesPane.node()?.getAnchorBySpecifier(identifier) ?? undefined;\n\n    if (!identifier && !anchorNode) {\n      return;\n    }\n\n    const onLinkActivate = (): void => {\n      if (!anchorNode) {\n        return;\n      }\n      void Common.Revealer.reveal(anchorNode, false);\n    };\n    const handleIconClick = (ev: MouseEvent): void => {\n      ev.stopPropagation();\n      onLinkActivate();\n    };\n    const onMouseEnter = (): void => {\n      anchorNode?.highlight();\n    };\n    const onMouseLeave = (): void => {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    };\n\n    if (identifier) {\n      render(\n          // clang-format off\n          html`<devtools-link-swatch\n                @mouseenter=${onMouseEnter}\n                @mouseleave=${onMouseLeave}\n                .data=${{\n                  text: identifier,\n                  tooltip: anchorNode ? undefined :\n                   {title:  i18nString(UIStrings.sIsNotDefined, {PH1: identifier})},\n                  isDefined: Boolean(anchorNode),\n                  jslogContext: 'anchor-link',\n                  onLinkActivate,\n                } as InlineEditor.LinkSwatch.LinkSwatchRenderData}\n                ></devtools-link-swatch>${needsSpace ? ' ' : ''}`,\n          // clang-format on\n          container, {host: container});\n    } else {\n      // clang-format off\n      render(html`<devtools-icon\n                   role='button'\n                   title=${i18nString(UIStrings.jumpToAnchorNode)}\n                   class='icon-link'\n                   name='open-externally'\n                   jslog=${VisualLogging.action('jump-to-anchor-node').track({click: true})}\n                   @mouseenter=${onMouseEnter}\n                   @mouseleave=${onMouseLeave}\n                   @mousedown=${(ev: MouseEvent) => ev.stopPropagation()}\n                   @click=${handleIconClick}\n                  ></devtools-icon>${needsSpace ? ' ' : ''}`, container, {host: container});\n      // clang-format on\n    }\n  }\n\n  constructor(stylesPane: StylesSidebarPane) {\n    super();\n    this.#stylesPane = stylesPane;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.AnchorFunctionMatch, context: RenderingContext): Node[] {\n    const content = document.createElement('span');\n    if (match.node.name === 'VariableName') {\n      // Link an anchor double-dashed ident to its matching anchor element.\n      void AnchorFunctionRenderer.decorateAnchorForAnchorLink(this.#stylesPane, content, {identifier: match.text});\n    } else {\n      // The matcher passes a 'CallExpression' node with a functionName\n      // ('anchor' or 'anchor-size') if the arguments need to have an implicit\n      // anchor link swatch rendered.\n      content.appendChild(document.createTextNode(`${match.functionName}(`));\n      const swatchContainer = document.createElement('span');\n      content.appendChild(swatchContainer);\n      const args = ASTUtils.children(match.node.getChild('ArgList'));\n      const remainingArgs = args.splice(1);\n      void AnchorFunctionRenderer.decorateAnchorForAnchorLink(\n          this.#stylesPane, swatchContainer, {needsSpace: remainingArgs.length > 1});\n      Renderer.renderInto(remainingArgs, context, content);\n    }\n    return [content];\n  }\n}\n\n// clang-format off\nexport class PositionAnchorRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.PositionAnchorMatch) {\n  readonly #stylesPane: StylesSidebarPane;\n  // clang-format on\n\n  constructor(stylesPane: StylesSidebarPane) {\n    super();\n    this.#stylesPane = stylesPane;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.PositionAnchorMatch): Node[] {\n    const content = document.createElement('span');\n    void AnchorFunctionRenderer.decorateAnchorForAnchorLink(this.#stylesPane, content, {identifier: match.text});\n    return [content];\n  }\n}\n\n// clang-format off\nexport class PositionTryRenderer extends rendererBase(SDK.CSSPropertyParserMatchers.PositionTryMatch) {\n  readonly #matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  // clang-format on\n\n  constructor(matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles) {\n    super();\n    this.#matchedStyles = matchedStyles;\n  }\n\n  override render(match: SDK.CSSPropertyParserMatchers.PositionTryMatch, context: RenderingContext): Node[] {\n    const content = [];\n    if (match.preamble.length > 0) {\n      const {nodes} = Renderer.render(match.preamble, context);\n      content.push(...nodes);\n    }\n    for (const [i, fallback] of match.fallbacks.entries()) {\n      const fallbackContent = document.createElement('span');\n      if (i > 0) {\n        fallbackContent.appendChild(document.createTextNode(', '));\n      }\n      if (i !== this.#matchedStyles.activePositionFallbackIndex()) {\n        fallbackContent.classList.add('inactive-value');\n      }\n      Renderer.renderInto(fallback, context, fallbackContent);\n\n      content.push(fallbackContent);\n    }\n    return content;\n  }\n}\n\nexport function getPropertyRenderers(\n    propertyName: string, style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, stylesPane: StylesSidebarPane,\n    matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, treeElement: StylePropertyTreeElement|null,\n    computedStyles: Map<string, string>): Array<MatchRenderer<SDK.CSSPropertyParser.Match>> {\n  return [\n    new VariableRenderer(stylesPane, treeElement, matchedStyles, computedStyles),\n    new ColorRenderer(stylesPane, treeElement),\n    new ColorMixRenderer(stylesPane, matchedStyles, computedStyles, treeElement),\n    new URLRenderer(style.parentRule, stylesPane.node()),\n    new AngleRenderer(treeElement),\n    new LinkableNameRenderer(matchedStyles, stylesPane),\n    new BezierRenderer(treeElement),\n    new StringRenderer(),\n    new ShadowRenderer(treeElement),\n    new CSSWideKeywordRenderer(stylesPane, treeElement),\n    new LightDarkColorRenderer(stylesPane, matchedStyles, treeElement),\n    new GridTemplateRenderer(),\n    new LinearGradientRenderer(),\n    new AnchorFunctionRenderer(stylesPane),\n    new PositionAnchorRenderer(stylesPane),\n    new FlexGridRenderer(stylesPane, treeElement),\n    new PositionTryRenderer(matchedStyles),\n    new LengthRenderer(stylesPane, propertyName, treeElement),\n    new MathFunctionRenderer(stylesPane, matchedStyles, computedStyles, propertyName, treeElement),\n    new AutoBaseRenderer(computedStyles),\n    new BinOpRenderer(),\n    new RelativeColorChannelRenderer(treeElement),\n  ];\n}\n\nexport class StylePropertyTreeElement extends UI.TreeOutline.TreeElement {\n  private readonly style: SDK.CSSStyleDeclaration.CSSStyleDeclaration;\n  private matchedStylesInternal: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  property: SDK.CSSProperty.CSSProperty;\n  private readonly inheritedInternal: boolean;\n  private overloadedInternal: boolean;\n  private parentPaneInternal: StylesSidebarPane;\n  #parentSection: StylePropertiesSection;\n  isShorthand: boolean;\n  private readonly applyStyleThrottler = new Common.Throttler.Throttler(0);\n  private newProperty: boolean;\n  private expandedDueToFilter = false;\n  valueElement: HTMLElement|null = null;\n  nameElement: HTMLElement|null = null;\n  private expandElement: IconButton.Icon.Icon|null = null;\n  private originalPropertyText = '';\n  private hasBeenEditedIncrementally = false;\n  private prompt: CSSPropertyPrompt|null = null;\n  private lastComputedValue: string|null = null;\n  private computedStyles: Map<string, string>|null = null;\n  private parentsComputedStyles: Map<string, string>|null = null;\n  private contextForTest!: Context|undefined;\n  #gridNames: Set<string>|undefined = undefined;\n  #tooltipKeyCounts = new Map<string, number>();\n\n  constructor(\n      {stylesPane, section, matchedStyles, property, isShorthand, inherited, overloaded, newProperty}:\n          StylePropertyTreeElementParams,\n  ) {\n    // Pass an empty title, the title gets made later in onattach.\n    const jslogContext = property.name.startsWith('--') ? 'custom-property' : property.name;\n    super('', isShorthand, jslogContext);\n    this.style = property.ownerStyle;\n    this.matchedStylesInternal = matchedStyles;\n    this.property = property;\n    this.inheritedInternal = inherited;\n    this.overloadedInternal = overloaded;\n    this.selectable = false;\n    this.parentPaneInternal = stylesPane;\n    this.#parentSection = section;\n    this.isShorthand = isShorthand;\n    this.newProperty = newProperty;\n    if (this.newProperty) {\n      this.listItemElement.textContent = '';\n    }\n\n    this.property.addEventListener(SDK.CSSProperty.Events.LOCAL_VALUE_UPDATED, () => {\n      this.updateTitle();\n    });\n  }\n\n  async gridNames(): Promise<Set<string>> {\n    if (!SDK.CSSMetadata.cssMetadata().isGridNameAwareProperty(this.name)) {\n      return new Set();\n    }\n    for (let node = this.parentPaneInternal.node()?.parentNode; node; node = node?.parentNode) {\n      const style = await this.parentPaneInternal.cssModel()?.getComputedStyle(node.id);\n      const display = style?.get('display');\n      const isGrid = display === 'grid' || display === 'inline-grid';\n      if (!isGrid) {\n        continue;\n      }\n      const getNames = (propertyName: string, astNodeName: string): string[] => {\n        const propertyValue = style?.get(propertyName);\n        if (!propertyValue) {\n          return [];\n        }\n        const ast = SDK.CSSPropertyParser.tokenizeDeclaration(propertyName, propertyValue);\n        if (!ast) {\n          return [];\n        }\n        return SDK.CSSPropertyParser.TreeSearch.findAll(ast, node => node.name === astNodeName)\n            .map(node => ast.text(node));\n      };\n      if (SDK.CSSMetadata.cssMetadata().isGridAreaNameAwareProperty(this.name)) {\n        return new Set(\n            getNames('grid-template-areas', 'StringLiteral')\n                ?.flatMap(row => row.substring(1, row.length - 1).split(/\\s+/).filter(cell => !cell.match(/^\\.*$/))));\n      }\n      if (SDK.CSSMetadata.cssMetadata().isGridColumnNameAwareProperty(this.name)) {\n        return new Set(getNames('grid-template-columns', 'LineName'));\n      }\n      return new Set(getNames('grid-template-rows', 'LineName'));\n    }\n    return new Set();\n  }\n\n  matchedStyles(): SDK.CSSMatchedStyles.CSSMatchedStyles {\n    return this.matchedStylesInternal;\n  }\n\n  getLonghand(): StylePropertyTreeElement|null {\n    return this.parent instanceof StylePropertyTreeElement && this.parent.isShorthand ? this.parent : null;\n  }\n\n  editable(): boolean {\n    const hasSourceData = Boolean(this.style.styleSheetId && this.style.range);\n    return !this.getLonghand() && hasSourceData;\n  }\n\n  inherited(): boolean {\n    return this.inheritedInternal;\n  }\n\n  overloaded(): boolean {\n    return this.overloadedInternal;\n  }\n\n  setOverloaded(x: boolean): void {\n    if (x === this.overloadedInternal) {\n      return;\n    }\n    this.overloadedInternal = x;\n    this.updateState();\n  }\n\n  setComputedStyles(computedStyles: Map<string, string>|null): void {\n    this.computedStyles = computedStyles;\n  }\n\n  getComputedStyle(property: string): string|null {\n    return this.computedStyles?.get(property) ?? null;\n  }\n\n  getComputedStyles(): Map<string, string>|null {\n    return this.computedStyles;\n  }\n\n  setParentsComputedStyles(parentsComputedStyles: Map<string, string>|null): void {\n    this.parentsComputedStyles = parentsComputedStyles;\n  }\n\n  get name(): string {\n    return this.property.name;\n  }\n\n  get value(): string {\n    return this.property.value;\n  }\n\n  updateFilter(): boolean {\n    const regex = this.parentPaneInternal.filterRegex();\n    const matches = regex !== null && (regex.test(this.property.name) || regex.test(this.property.value));\n    this.listItemElement.classList.toggle('filter-match', matches);\n\n    void this.onpopulate();\n    let hasMatchingChildren = false;\n\n    for (let i = 0; i < this.childCount(); ++i) {\n      const child = (this.childAt(i) as StylePropertyTreeElement | null);\n      if (!child || (child && !child.updateFilter())) {\n        continue;\n      }\n      hasMatchingChildren = true;\n    }\n\n    if (!regex) {\n      if (this.expandedDueToFilter) {\n        this.collapse();\n      }\n      this.expandedDueToFilter = false;\n    } else if (hasMatchingChildren && !this.expanded) {\n      this.expand();\n      this.expandedDueToFilter = true;\n    } else if (!hasMatchingChildren && this.expanded && this.expandedDueToFilter) {\n      this.collapse();\n      this.expandedDueToFilter = false;\n    }\n    return matches;\n  }\n\n  renderedPropertyText(): string {\n    if (!this.nameElement || !this.valueElement) {\n      return '';\n    }\n    return this.nameElement.innerText + ': ' + this.valueElement.innerText;\n  }\n\n  private updateState(): void {\n    if (!this.listItemElement) {\n      return;\n    }\n\n    if (this.style.isPropertyImplicit(this.name)) {\n      this.listItemElement.classList.add('implicit');\n    } else {\n      this.listItemElement.classList.remove('implicit');\n    }\n\n    const hasIgnorableError = !this.property.parsedOk && StylesSidebarPane.ignoreErrorsForProperty(this.property);\n    if (hasIgnorableError) {\n      this.listItemElement.classList.add('has-ignorable-error');\n    } else {\n      this.listItemElement.classList.remove('has-ignorable-error');\n    }\n\n    if (this.inherited()) {\n      this.listItemElement.classList.add('inherited');\n    } else {\n      this.listItemElement.classList.remove('inherited');\n    }\n\n    if (this.overloaded()) {\n      this.listItemElement.classList.add('overloaded');\n    } else {\n      this.listItemElement.classList.remove('overloaded');\n    }\n\n    if (this.property.disabled) {\n      this.listItemElement.classList.add('disabled');\n    } else {\n      this.listItemElement.classList.remove('disabled');\n    }\n  }\n\n  node(): SDK.DOMModel.DOMNode|null {\n    return this.parentPaneInternal.node();\n  }\n\n  parentPane(): StylesSidebarPane {\n    return this.parentPaneInternal;\n  }\n\n  section(): StylePropertiesSection {\n    return this.#parentSection;\n  }\n\n  private updatePane(): void {\n    this.#parentSection.refreshUpdate(this);\n  }\n\n  private async toggleDisabled(disabled: boolean): Promise<void> {\n    const oldStyleRange = this.style.range;\n    if (!oldStyleRange) {\n      return;\n    }\n\n    this.parentPaneInternal.setUserOperation(true);\n    const success = await this.property.setDisabled(disabled);\n    this.parentPaneInternal.setUserOperation(false);\n\n    if (!success) {\n      return;\n    }\n    this.matchedStylesInternal.resetActiveProperties();\n    this.updatePane();\n    this.styleTextAppliedForTest();\n  }\n\n  async #getLonghandProperties(): Promise<SDK.CSSProperty.CSSProperty[]> {\n    const staticLonghandProperties = this.property.getLonghandProperties();\n\n    if (staticLonghandProperties.some(property => property.value !== '')) {\n      return staticLonghandProperties;\n    }\n\n    const parsedProperty = this.#computeCSSExpression(this.style, this.property.value);\n    if (!parsedProperty || parsedProperty === this.property.value) {\n      return staticLonghandProperties;\n    }\n\n    const parsedLonghands = await this.parentPaneInternal.cssModel()?.agent.invoke_getLonghandProperties(\n        {shorthandName: this.property.name, value: parsedProperty});\n    if (!parsedLonghands || parsedLonghands.getError()) {\n      return staticLonghandProperties;\n    }\n\n    return parsedLonghands.longhandProperties.map(p => SDK.CSSProperty.CSSProperty.parsePayload(this.style, -1, p));\n  }\n\n  override async onpopulate(): Promise<void> {\n    if (!this.#gridNames) {\n      this.#gridNames = await this.gridNames();\n    }\n\n    // Only populate once and if this property is a shorthand.\n    if (this.childCount() || !this.isShorthand) {\n      return;\n    }\n\n    const longhandProperties = await this.#getLonghandProperties();\n    const leadingProperties = this.style.leadingProperties();\n\n    // Re-check child count to avoid any races of concurrent onpopulate calls\n    if (this.childCount()) {\n      return;\n    }\n\n    for (const property of longhandProperties) {\n      const name = property.name;\n      let inherited = false;\n      let overloaded = false;\n\n      inherited = this.#parentSection.isPropertyInherited(name);\n      overloaded = this.matchedStylesInternal.propertyState(property) === SDK.CSSMatchedStyles.PropertyState.OVERLOADED;\n\n      const leadingProperty = leadingProperties.find(property => property.name === name && property.activeInStyle());\n      if (leadingProperty) {\n        overloaded = true;\n      }\n\n      const item = new StylePropertyTreeElement({\n        stylesPane: this.parentPaneInternal,\n        section: this.#parentSection,\n        matchedStyles: this.matchedStylesInternal,\n        property,\n        isShorthand: false,\n        inherited,\n        overloaded,\n        newProperty: false,\n      });\n      item.setComputedStyles(this.computedStyles);\n      item.setParentsComputedStyles(this.parentsComputedStyles);\n      this.appendChild(item);\n    }\n  }\n\n  override onattach(): void {\n    this.updateTitle();\n\n    this.listItemElement.addEventListener('mousedown', event => {\n      if (event.button === 0) {\n        parentMap.set(this.parentPaneInternal, this);\n      }\n    }, false);\n    this.listItemElement.addEventListener('mouseup', this.mouseUp.bind(this));\n    this.listItemElement.addEventListener('click', event => {\n      if (!event.target) {\n        return;\n      }\n\n      const node = (event.target as HTMLElement);\n      if (!node.hasSelection() && event.target !== this.listItemElement) {\n        event.consume(true);\n      }\n    });\n\n    // Copy context menu.\n    this.listItemElement.addEventListener('contextmenu', this.handleCopyContextMenuEvent.bind(this));\n  }\n\n  override onexpand(): void {\n    this.updateExpandElement();\n  }\n\n  override oncollapse(): void {\n    this.updateExpandElement();\n  }\n\n  private updateExpandElement(): void {\n    if (!this.expandElement) {\n      return;\n    }\n    if (this.expanded) {\n      this.expandElement.name = 'triangle-down';\n    } else {\n      this.expandElement.name = 'triangle-right';\n    }\n  }\n\n  // Resolves a CSS expression to its computed value with `var()` calls updated.\n  // Still returns the string even when a `var()` call is not resolved.\n  #computeCSSExpression(style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, text: string): string|null {\n    const ast = SDK.CSSPropertyParser.tokenizeDeclaration('--unused', text);\n    if (!ast) {\n      return null;\n    }\n\n    const matching: SDK.CSSPropertyParser.BottomUpTreeMatching = SDK.CSSPropertyParser.BottomUpTreeMatching.walk(\n        ast, [new SDK.CSSPropertyParserMatchers.VariableMatcher(this.matchedStylesInternal, style)]);\n\n    const decl = SDK.CSSPropertyParser.ASTUtils.siblings(SDK.CSSPropertyParser.ASTUtils.declValue(matching.ast.tree));\n    return decl.length > 0 ? matching.getComputedTextRange(decl[0], decl[decl.length - 1]) : '';\n  }\n\n  refreshIfComputedValueChanged(): void {\n    this.#gridNames = undefined;\n    const computedValue = this.#computeCSSExpression(this.property.ownerStyle, this.property.value);\n    if (computedValue === this.lastComputedValue) {\n      return;\n    }\n    this.lastComputedValue = computedValue;\n    this.innerUpdateTitle();\n  }\n\n  updateTitle(): void {\n    this.lastComputedValue = this.#computeCSSExpression(this.property.ownerStyle, this.property.value);\n    this.innerUpdateTitle();\n  }\n\n  private innerUpdateTitle(): void {\n    this.#tooltipKeyCounts.clear();\n    this.updateState();\n    if (this.isExpandable()) {\n      this.expandElement = IconButton.Icon.create('triangle-right', 'expand-icon');\n      this.expandElement.setAttribute('jslog', `${VisualLogging.expand().track({click: true})}`);\n    }\n\n    const renderers = this.property.parsedOk ?\n        getPropertyRenderers(\n            this.name, this.style, this.parentPaneInternal, this.matchedStylesInternal, this,\n            this.getComputedStyles() ?? new Map()) :\n        [];\n\n    if (Root.Runtime.experiments.isEnabled('font-editor') && this.property.parsedOk) {\n      renderers.push(new FontRenderer(this));\n    }\n    this.listItemElement.removeChildren();\n    const matchedResult = this.property.parseValue(this.matchedStyles(), this.computedStyles);\n    this.valueElement = Renderer.renderValueElement(this.property, matchedResult, renderers).valueElement;\n    this.nameElement = Renderer.renderNameElement(this.name);\n\n    if (!this.treeOutline) {\n      return;\n    }\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    UI.UIUtils.createTextChild(\n        this.listItemElement.createChild('span', 'styles-clipboard-only'),\n        indent.repeat(this.section().nestingLevel + 1) + (this.property.disabled ? '/* ' : ''));\n    this.listItemElement.appendChild(this.nameElement);\n\n    if (this.property.name.startsWith('--') &&\n        !(this.property.ownerStyle.parentRule instanceof SDK.CSSRule.CSSFunctionRule)) {\n      const contents = this.parentPaneInternal.getVariablePopoverContents(\n          this.matchedStyles(), this.property.name,\n          this.matchedStylesInternal.computeCSSVariable(this.style, this.property.name)?.value ?? null);\n      const tooltipId = this.getTooltipId('custom-property-decl');\n      this.nameElement.setAttribute('aria-details', tooltipId);\n      const tooltip = new Tooltips.Tooltip.Tooltip(\n          {anchor: this.nameElement, variant: 'rich', id: tooltipId, jslogContext: 'elements.css-var'});\n      tooltip.appendChild(contents);\n      tooltip.onbeforetoggle = (e: Event) => {\n        if ((e as ToggleEvent).newState === 'open') {\n          contents.value = this.matchedStylesInternal.computeCSSVariable(this.style, this.property.name)?.value;\n        }\n      };\n      this.listItemElement.appendChild(tooltip);\n    } else if (Common.Settings.Settings.instance().moduleSetting('show-css-property-documentation-on-hover').get()) {\n      const tooltipId = this.getTooltipId('property-doc');\n      this.nameElement.setAttribute('aria-details', tooltipId);\n      const tooltip = new Tooltips.Tooltip.Tooltip({\n        anchor: this.nameElement,\n        variant: 'rich',\n        id: tooltipId,\n        jslogContext: 'elements.css-property-doc',\n      });\n      tooltip.onbeforetoggle = event => {\n        if ((event as ToggleEvent).newState !== 'open') {\n          return;\n        }\n        if (!Common.Settings.Settings.instance().moduleSetting('show-css-property-documentation-on-hover').get()) {\n          event.consume(true);\n          return;\n        }\n\n        const cssProperty = this.parentPaneInternal.webCustomData?.findCssProperty(this.name);\n        if (!cssProperty) {\n          event.consume(true);\n          return;\n        }\n        tooltip.removeChildren();\n        tooltip.appendChild(new ElementsComponents.CSSPropertyDocsView.CSSPropertyDocsView(cssProperty));\n      };\n      this.listItemElement.appendChild(tooltip);\n    }\n\n    if (this.valueElement) {\n      const lineBreakValue =\n          this.valueElement.firstElementChild && this.valueElement.firstElementChild.tagName === 'BR';\n      const separator = lineBreakValue ? ':' : ': ';\n      this.listItemElement.createChild('span', 'styles-name-value-separator').textContent = separator;\n      if (this.expandElement) {\n        this.listItemElement.appendChild(this.expandElement);\n        this.updateExpandElement();\n      }\n      this.listItemElement.appendChild(this.valueElement);\n      const semicolon = this.listItemElement.createChild('span', 'styles-semicolon');\n      semicolon.textContent = ';';\n      semicolon.onmouseup = this.mouseUp.bind(this);\n      if (this.property.disabled) {\n        UI.UIUtils.createTextChild(this.listItemElement.createChild('span', 'styles-clipboard-only'), ' */');\n      }\n    }\n\n    if (this.property.parsedOk) {\n      this.updateAuthoringHint();\n    } else {\n      // Avoid having longhands under an invalid shorthand.\n      this.listItemElement.classList.add('not-parsed-ok');\n      // Add a separate exclamation mark IMG element with a tooltip.\n      this.listItemElement.insertBefore(\n          this.createExclamationMark(\n              this.property, this.parentPaneInternal.getVariableParserError(this.matchedStyles(), this.property.name)),\n          this.listItemElement.firstChild);\n\n      // When the property is valid but the property value is invalid,\n      // add line-through only to the property value.\n      const invalidPropertyValue = SDK.CSSMetadata.cssMetadata().isCSSPropertyName(this.property.name);\n      if (invalidPropertyValue) {\n        this.listItemElement.classList.add('invalid-property-value');\n      }\n    }\n\n    if (!this.property.activeInStyle()) {\n      this.listItemElement.classList.add('inactive');\n    }\n    this.updateFilter();\n\n    if (this.property.parsedOk && this.parent?.root) {\n      const enabledCheckboxElement = document.createElement('input');\n      enabledCheckboxElement.classList.add('enabled-button', 'small');\n      enabledCheckboxElement.type = 'checkbox';\n      enabledCheckboxElement.checked = !this.property.disabled;\n      enabledCheckboxElement.setAttribute('jslog', `${VisualLogging.toggle().track({click: true})}`);\n      enabledCheckboxElement.addEventListener('mousedown', event => event.consume(), false);\n      enabledCheckboxElement.addEventListener('click', event => {\n        void this.toggleDisabled(!this.property.disabled);\n        event.consume();\n      }, false);\n      if (this.nameElement && this.valueElement) {\n        UI.ARIAUtils.setLabel(enabledCheckboxElement, `${this.name} ${this.value}`);\n      }\n      this.listItemElement.insertBefore(enabledCheckboxElement, this.listItemElement.firstChild);\n    }\n\n    const that = this;\n    this.valueElement.addEventListener('keydown', nonEditingNameValueKeyDown);\n    this.nameElement.addEventListener('keydown', nonEditingNameValueKeyDown);\n\n    function nonEditingNameValueKeyDown(this: HTMLElement, event: KeyboardEvent): void {\n      if (UI.UIUtils.isBeingEdited(this)) {\n        return;\n      }\n      if (event.key !== Platform.KeyboardUtilities.ENTER_KEY && event.key !== ' ') {\n        return;\n      }\n      if (this === that.valueElement) {\n        that.startEditingValue();\n        event.consume(true);\n      } else if (this === that.nameElement) {\n        that.startEditingName();\n        event.consume(true);\n      }\n    }\n  }\n\n  createExclamationMark(property: SDK.CSSProperty.CSSProperty, title: HTMLElement|null): Element {\n    const container = document.createElement('span');\n    const exclamationElement = container.createChild('span');\n    exclamationElement.classList.add('exclamation-mark');\n    const invalidMessage = SDK.CSSMetadata.cssMetadata().isCSSPropertyName(property.name) ?\n        i18nString(UIStrings.invalidPropertyValue) :\n        i18nString(UIStrings.unknownPropertyName);\n    if (title === null) {\n      UI.Tooltip.Tooltip.install(exclamationElement, invalidMessage);\n    } else {\n      const tooltipId = this.getTooltipId('property-warning');\n      exclamationElement.setAttribute('aria-details', tooltipId);\n      const tooltip = new Tooltips.Tooltip.Tooltip({\n        anchor: exclamationElement,\n        variant: 'rich',\n        id: tooltipId,\n        jslogContext: 'elements.invalid-property-decl-popover'\n      });\n      tooltip.appendChild(title);\n      container.appendChild(tooltip);\n    }\n    const invalidString =\n        i18nString(UIStrings.invalidString, {PH1: invalidMessage, PH2: property.name, PH3: property.value});\n\n    // Storing the invalidString for future screen reader support when editing the property\n    property.setDisplayedStringForInvalidProperty(invalidString);\n\n    return container;\n  }\n\n  getTracingTooltip(\n      functionName: string, node: CodeMirror.SyntaxNode, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      computedStyles: Map<string, string>, context: RenderingContext): Lit.TemplateResult {\n    if (!Root.Runtime.hostConfig.devToolsCssValueTracing?.enabled || context.tracing || !context.property) {\n      return html`${functionName}`;\n    }\n    const text = context.ast.text(node);\n    const expandPercentagesInShorthands = context.matchedResult.getLonghandValuesCount() > 1;\n    const shorthandPositionOffset = context.matchedResult.getComputedLonghandName(node);\n    const {property} = context;\n    const stylesPane = this.parentPane();\n    const tooltipId = this.getTooltipId(`${functionName}-trace`);\n    // clang-format off\n    return html`<span tabIndex=-1 class=tracing-anchor aria-details=${tooltipId}>${functionName}</span><devtools-tooltip\n        id=${tooltipId}\n        use-hotkey\n        variant=rich\n        jslogContext=elements.css-value-trace\n        @beforetoggle=${function(this: Tooltips.Tooltip.Tooltip, e: ToggleEvent) {\n          if (e.newState === 'open') {\n            void (this.querySelector('devtools-widget') as UI.Widget.WidgetElement<CSSValueTraceView>| null)\n              ?.getWidget()\n              ?.showTrace(\n                property, text, matchedStyles, computedStyles,\n                getPropertyRenderers(property.name,\n                  property.ownerStyle, stylesPane, matchedStyles, null, computedStyles),\n                expandPercentagesInShorthands, shorthandPositionOffset, this.openedViaHotkey);\n          }\n        }}\n        @toggle=${function(this: Tooltips.Tooltip.Tooltip, e: ToggleEvent) {\n          if (e.newState !== 'open') {\n            (this.querySelector('devtools-widget') as UI.Widget.WidgetElement<CSSValueTraceView>| null)\n              ?.getWidget()\n              ?.resetPendingFocus();\n          }\n        }}\n        ><devtools-widget\n          @keydown=${(e: KeyboardEvent) => {\n            const maybeTooltip = (e.target as Element).parentElement ;\n            if (!(maybeTooltip instanceof Tooltips.Tooltip.Tooltip)) {\n              return;\n            }\n            if (e.key === 'Escape' || (e.altKey && e.key === 'ArrowDown')){\n              maybeTooltip.hideTooltip();\n              maybeTooltip.anchor?.focus();\n              e.consume(true);\n            }\n          }}\n          .widgetConfig=${UI.Widget.widgetConfig(CSSValueTraceView)}\n          ></devtools-widget></devtools-tooltip>`;\n    // clang-format on\n  }\n\n  // Returns an id for <devtools-tooltips> that's stable across re-rendering of property values but unique across\n  // sections and across switches between different nodes.\n  getTooltipId(key: string): string {\n    const sectionId = this.section().sectionTooltipIdPrefix;\n    const tooltipKeyCount = this.#tooltipKeyCounts.get(key) ?? 0;\n    this.#tooltipKeyCounts.set(key, tooltipKeyCount + 1);\n    const propertyNameForCounting = this.getLonghand()?.name ?? this.name;\n    const ownIndex = this.treeOutline?.rootElement().children().indexOf(this) ?? -1;\n    const propertyCount = this.treeOutline?.rootElement().children().reduce<number>(\n        (value, element, index) => index < ownIndex && element instanceof StylePropertyTreeElement &&\n                element.name === propertyNameForCounting ?\n            value + 1 :\n            value,\n        0);\n    return `swatch-tooltip-${sectionId}-${this.name}-${propertyCount}-${key}-${tooltipKeyCount}`;\n  }\n\n  updateAuthoringHint(): void {\n    this.listItemElement.classList.remove('inactive-property');\n    const existingElement = this.listItemElement.querySelector('.hint');\n    if (existingElement) {\n      existingElement?.closest('.hint-wrapper')?.remove();\n    }\n    const propertyName = this.property.name;\n\n    if (!cssRuleValidatorsMap.has(propertyName)) {\n      return;\n    }\n\n    // Different rules apply to SVG nodes altogether. We currently don't have SVG-specific hints.\n    if (this.node()?.isSVGNode()) {\n      return;\n    }\n\n    const cssModel = this.parentPaneInternal.cssModel();\n    const fontFaces = cssModel?.fontFaces() || [];\n\n    const localName = this.node()?.localName();\n    for (const validator of cssRuleValidatorsMap.get(propertyName) || []) {\n      const hint = validator.getHint(\n          propertyName, this.computedStyles || undefined, this.parentsComputedStyles || undefined,\n          localName?.toLowerCase(), fontFaces);\n      if (hint) {\n        Host.userMetrics.cssHintShown(validator.getMetricType());\n        const wrapper = document.createElement('span');\n        wrapper.classList.add('hint-wrapper');\n        const hintIcon = new IconButton.Icon.Icon();\n        hintIcon.data = {iconName: 'info', color: 'var(--icon-default)', width: '14px', height: '14px'};\n        hintIcon.classList.add('hint');\n        wrapper.append(hintIcon);\n        this.listItemElement.append(wrapper);\n        this.listItemElement.classList.add('inactive-property');\n        const tooltipId = this.getTooltipId('css-hint');\n        hintIcon.setAttribute('aria-details', tooltipId);\n        const tooltip = new Tooltips.Tooltip.Tooltip(\n            {anchor: hintIcon, variant: 'rich', id: tooltipId, jslogContext: 'elements.css-hint'});\n        tooltip.appendChild(new ElementsComponents.CSSHintDetailsView.CSSHintDetailsView(hint));\n        this.listItemElement.appendChild(tooltip);\n        break;\n      }\n    }\n  }\n\n  private mouseUp(event: MouseEvent): void {\n    const activeTreeElement = parentMap.get(this.parentPaneInternal);\n    parentMap.delete(this.parentPaneInternal);\n    if (!activeTreeElement) {\n      return;\n    }\n    if (this.listItemElement.hasSelection()) {\n      return;\n    }\n    if (UI.UIUtils.isBeingEdited((event.target as Node))) {\n      return;\n    }\n    if (event.composedPath()[0] instanceof HTMLButtonElement) {\n      return;\n    }\n\n    event.consume(true);\n\n    if (event.target === this.listItemElement) {\n      return;\n    }\n\n    let selectedElement = event.target as Element;\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event) && this.#parentSection.navigable) {\n      this.navigateToSource(selectedElement);\n      return;\n    }\n\n    if (this.expandElement && selectedElement === this.expandElement) {\n      return;\n    }\n\n    if (!this.#parentSection.editable) {\n      return;\n    }\n\n    selectedElement = selectedElement.enclosingNodeOrSelfWithClass('webkit-css-property') ||\n        selectedElement.enclosingNodeOrSelfWithClass('value') ||\n        selectedElement.enclosingNodeOrSelfWithClass('styles-semicolon');\n    if (!selectedElement || selectedElement === this.nameElement) {\n      VisualLogging.logClick(this.nameElement as Element, event);\n      this.startEditingName();\n    } else {\n      VisualLogging.logClick(this.valueElement as Element, event);\n      this.startEditingValue();\n    }\n  }\n\n  private handleContextMenuEvent(context: Context, event: Event): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (this.property.parsedOk && this.parent?.root) {\n      const sectionIndex = this.parentPaneInternal.focusedSectionIndex();\n      contextMenu.defaultSection().appendCheckboxItem(\n          i18nString(UIStrings.togglePropertyAndContinueEditing), async () => {\n            if (this.treeOutline) {\n              const propertyIndex = this.treeOutline.rootElement().indexOfChild(this);\n              // order matters here: this.editingCancelled may invalidate this.treeOutline.\n              this.editingCancelled(context);\n              await this.toggleDisabled(!this.property.disabled);\n              event.consume();\n              this.parentPaneInternal.continueEditingElement(sectionIndex, propertyIndex);\n            }\n          }, {checked: !this.property.disabled, jslogContext: 'toggle-property-and-continue-editing'});\n    }\n    const revealCallback = this.navigateToSource.bind(this) as () => void;\n    contextMenu.defaultSection().appendItem(\n        i18nString(UIStrings.openInSourcesPanel), revealCallback, {jslogContext: 'reveal-in-sources-panel'});\n    void contextMenu.show();\n  }\n\n  private handleCopyContextMenuEvent(event: Event): void {\n    const target = (event.target as Element | null);\n\n    if (!target) {\n      return;\n    }\n\n    const contextMenu = this.createCopyContextMenu(event);\n    void contextMenu.show();\n  }\n\n  createCopyContextMenu(event: Event): UI.ContextMenu.ContextMenu {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyDeclaration), () => {\n      const propertyText = `${this.property.name}: ${this.property.value};`;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(propertyText);\n    }, {jslogContext: 'copy-declaration'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyProperty), () => {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.property.name);\n    }, {jslogContext: 'copy-property'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyValue), () => {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.property.value);\n    }, {jslogContext: 'copy-value'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyRule), () => {\n      const ruleText = StylesSidebarPane.formatLeadingProperties(this.#parentSection).ruleText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(ruleText);\n    }, {jslogContext: 'copy-rule'});\n\n    contextMenu.headerSection().appendItem(\n        i18nString(UIStrings.copyCssDeclarationAsJs), this.copyCssDeclarationAsJs.bind(this),\n        {jslogContext: 'copy-css-declaration-as-js'});\n\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyAllDeclarations), () => {\n      const allDeclarationText = StylesSidebarPane.formatLeadingProperties(this.#parentSection).allDeclarationText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allDeclarationText);\n    }, {jslogContext: 'copy-all-declarations'});\n\n    contextMenu.clipboardSection().appendItem(\n        i18nString(UIStrings.copyAllCssDeclarationsAsJs), this.copyAllCssDeclarationAsJs.bind(this),\n        {jslogContext: 'copy-all-css-declarations-as-js'});\n\n    // TODO(changhaohan): conditionally add this item only when there are changes to copy\n    contextMenu.defaultSection().appendItem(i18nString(UIStrings.copyAllCSSChanges), async () => {\n      const allChanges = await this.parentPane().getFormattedChanges();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allChanges);\n    }, {jslogContext: 'copy-all-css-changes'});\n\n    contextMenu.footerSection().appendItem(i18nString(UIStrings.viewComputedValue), () => {\n      void this.viewComputedValue();\n    }, {jslogContext: 'view-computed-value'});\n\n    return contextMenu;\n  }\n\n  private async viewComputedValue(): Promise<void> {\n    const computedStyleWidget = ElementsPanel.instance().getComputedStyleWidget();\n\n    if (!computedStyleWidget.isShowing()) {\n      await UI.ViewManager.ViewManager.instance().showView('computed');\n    }\n\n    let propertyNamePattern = '';\n    if (this.isShorthand) {\n      propertyNamePattern = '^' + this.property.name + '-';\n    } else {\n      propertyNamePattern = '^' + this.property.name + '$';\n    }\n    const regex = new RegExp(propertyNamePattern, 'i');\n    await computedStyleWidget.filterComputedStyles(regex);\n\n    computedStyleWidget.input.setValue(this.property.name);\n    computedStyleWidget.input.element.focus();\n  }\n\n  private copyCssDeclarationAsJs(): void {\n    const cssDeclarationValue = getCssDeclarationAsJavascriptProperty(this.property);\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(cssDeclarationValue);\n  }\n\n  private copyAllCssDeclarationAsJs(): void {\n    const leadingProperties = this.#parentSection.style().leadingProperties();\n    const cssDeclarationsAsJsProperties =\n        leadingProperties.filter(property => !property.disabled).map(getCssDeclarationAsJavascriptProperty);\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(cssDeclarationsAsJsProperties.join(',\\n'));\n  }\n\n  private navigateToSource(element: Element, omitFocus?: boolean): void {\n    if (!this.#parentSection.navigable) {\n      return;\n    }\n    const propertyNameClicked = element === this.nameElement;\n    const uiLocation = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().propertyUILocation(\n        this.property, propertyNameClicked);\n    if (uiLocation) {\n      void Common.Revealer.reveal(uiLocation, omitFocus);\n    }\n  }\n\n  startEditingValue(): void {\n    const context: Context = {\n      expanded: this.expanded,\n      hasChildren: this.isExpandable(),\n      isEditingName: false,\n      originalProperty: this.property,\n      previousContent: this.value,\n    };\n\n    // Grid definitions are often multiline. Instead of showing the authored text reformat it a little bit nicer.\n    if (SDK.CSSMetadata.cssMetadata().isGridAreaDefiningProperty(this.name)) {\n      const splitResult =\n          TextUtils.TextUtils.Utils.splitStringByRegexes(this.value, [SDK.CSSMetadata.GridAreaRowRegex]);\n      context.previousContent = splitResult.map(result => result.value.trim()).join('\\n');\n    }\n\n    this.#startEditing(context);\n  }\n\n  startEditingName(): void {\n    const context: Context = {\n      expanded: this.expanded,\n      hasChildren: this.isExpandable(),\n      isEditingName: true,\n      originalProperty: this.property,\n      previousContent: this.name.split('\\n').map(l => l.trim()).join('\\n'),\n    };\n\n    this.#startEditing(context);\n  }\n\n  #startEditing(context: Context): void {\n    this.contextForTest = context;\n\n    // FIXME: we don't allow editing of longhand properties under a shorthand right now.\n    if (this.parent instanceof StylePropertyTreeElement && this.parent.isShorthand) {\n      return;\n    }\n\n    const selectedElement = context.isEditingName ? this.nameElement : this.valueElement;\n    if (!selectedElement) {\n      return;\n    }\n\n    if (UI.UIUtils.isBeingEdited(selectedElement)) {\n      return;\n    }\n\n    // Lie about our children to prevent expanding on double click and to collapse shorthands.\n    this.setExpandable(false);\n\n    selectedElement.parentElement?.classList.add('child-editing');\n    selectedElement.textContent = context.previousContent;  // remove color swatch and the like\n\n    function pasteHandler(this: StylePropertyTreeElement, context: Context, event: Event): void {\n      const clipboardEvent = (event as ClipboardEvent);\n      const clipboardData = clipboardEvent.clipboardData;\n      if (!clipboardData) {\n        return;\n      }\n\n      const data = clipboardData.getData('Text');\n      if (!data) {\n        return;\n      }\n      const colonIdx = data.indexOf(':');\n      if (colonIdx < 0) {\n        return;\n      }\n      const name = data.substring(0, colonIdx).trim();\n      const value = data.substring(colonIdx + 1).trim();\n\n      event.preventDefault();\n\n      if (typeof context.originalName === 'undefined') {\n        if (this.nameElement) {\n          context.originalName = this.nameElement.textContent || '';\n        }\n\n        if (this.valueElement) {\n          context.originalValue = this.valueElement.textContent || '';\n        }\n      }\n      this.property.name = name;\n      this.property.value = value;\n      if (this.nameElement) {\n        this.nameElement.textContent = name;\n        this.nameElement.normalize();\n      }\n\n      if (this.valueElement) {\n        this.valueElement.textContent = value;\n        this.valueElement.normalize();\n      }\n\n      const target = (event.target as HTMLElement);\n      void this.editingCommitted(target.textContent || '', context, 'forward');\n    }\n\n    function blurListener(this: StylePropertyTreeElement, context: Context, event: Event): void {\n      const target = (event.target as HTMLElement);\n      let text: (string|null) = target.textContent;\n      if (!context.isEditingName) {\n        text = this.value || text;\n      }\n      void this.editingCommitted(text || '', context, '');\n    }\n\n    this.originalPropertyText = this.property.propertyText || '';\n\n    this.parentPaneInternal.setEditingStyle(true);\n    selectedElement.parentElement?.scrollIntoViewIfNeeded(false);\n\n    this.prompt = new CSSPropertyPrompt(this, context.isEditingName, Array.from(this.#gridNames ?? []));\n    this.prompt.setAutocompletionTimeout(0);\n\n    this.prompt.addEventListener(UI.TextPrompt.Events.TEXT_CHANGED, () => {\n      void this.applyFreeFlowStyleTextEdit(context);\n    });\n\n    const invalidString = this.property.getInvalidStringForInvalidProperty();\n    if (invalidString) {\n      UI.ARIAUtils.alert(invalidString);\n    }\n\n    const proxyElement = this.prompt.attachAndStartEditing(selectedElement, blurListener.bind(this, context));\n    this.navigateToSource(selectedElement, true);\n\n    proxyElement.addEventListener('keydown', this.editingNameValueKeyDown.bind(this, context), false);\n    proxyElement.addEventListener('keypress', this.editingNameValueKeyPress.bind(this, context), false);\n    if (context.isEditingName) {\n      proxyElement.addEventListener('paste', pasteHandler.bind(this, context), false);\n      proxyElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this, context), false);\n    }\n\n    selectedElement.getComponentSelection()?.selectAllChildren(selectedElement);\n  }\n\n  private editingNameValueKeyDown(context: Context, event: Event): void {\n    if (event.handled) {\n      return;\n    }\n\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (keyboardEvent.target as HTMLElement);\n    let result;\n    if ((keyboardEvent.key === 'Enter' && !keyboardEvent.shiftKey) ||\n        (context.isEditingName && keyboardEvent.key === ' ')) {\n      result = 'forward';\n    } else if (\n        keyboardEvent.keyCode === UI.KeyboardShortcut.Keys.Esc.code ||\n        keyboardEvent.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n      result = 'cancel';\n    } else if (\n        !context.isEditingName && this.newProperty &&\n        keyboardEvent.keyCode === UI.KeyboardShortcut.Keys.Backspace.code) {\n      // For a new property, when Backspace is pressed at the beginning of new property value, move back to the property name.\n      const selection = target.getComponentSelection();\n      if (selection && selection.isCollapsed && !selection.focusOffset) {\n        event.preventDefault();\n        result = 'backward';\n      }\n    } else if (keyboardEvent.key === 'Tab') {\n      result = keyboardEvent.shiftKey ? 'backward' : 'forward';\n      event.preventDefault();\n    }\n\n    if (result) {\n      switch (result) {\n        case 'cancel':\n          this.editingCancelled(context);\n          if (context.isEditingName) {\n            this.nameElement?.focus();\n          } else {\n            this.valueElement?.focus();\n          }\n          break;\n        case 'forward':\n        case 'backward':\n          void this.editingCommitted(target.textContent || '', context, result);\n          break;\n      }\n\n      event.consume();\n      return;\n    }\n  }\n\n  private editingNameValueKeyPress(context: Context, event: Event): void {\n    function shouldCommitValueSemicolon(text: string, cursorPosition: number): boolean {\n      // FIXME: should this account for semicolons inside comments?\n      let openQuote = '';\n      for (let i = 0; i < cursorPosition; ++i) {\n        const ch = text[i];\n        if (ch === '\\\\' && openQuote !== '') {\n          ++i;\n        }  // skip next character inside string\n        else if (!openQuote && (ch === '\"' || ch === '\\'')) {\n          openQuote = ch;\n        } else if (openQuote === ch) {\n          openQuote = '';\n        }\n      }\n      return !openQuote;\n    }\n\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (keyboardEvent.target as HTMLElement);\n    const keyChar = String.fromCharCode(keyboardEvent.charCode);\n    const selectionLeftOffset = this.#selectionLeftOffset(target);\n    const isFieldInputTerminated =\n        (context.isEditingName ? keyChar === ':' :\n                                 keyChar === ';' && selectionLeftOffset !== null &&\n                 shouldCommitValueSemicolon(target.textContent || '', selectionLeftOffset));\n    if (isFieldInputTerminated) {\n      // Enter or colon (for name)/semicolon outside of string (for value).\n      event.consume(true);\n      void this.editingCommitted(target.textContent || '', context, 'forward');\n      return;\n    }\n  }\n\n  /** @returns Selection offset relative to `element` */\n  #selectionLeftOffset(element: HTMLElement): number|null {\n    const selection = element.getComponentSelection();\n    if (!selection?.containsNode(element, true)) {\n      return null;\n    }\n\n    let leftOffset = selection.anchorOffset;\n    let node: ChildNode|(Node | null) = selection.anchorNode;\n\n    while (node !== element) {\n      while (node?.previousSibling) {\n        node = node.previousSibling;\n        leftOffset += node.textContent?.length ?? 0;\n      }\n      node = node?.parentNodeOrShadowHost() ?? null;\n    }\n\n    return leftOffset;\n  }\n\n  private async applyFreeFlowStyleTextEdit(context: Context): Promise<void> {\n    if (!this.prompt || !this.parentPaneInternal.node()) {\n      return;\n    }\n\n    const enteredText = this.prompt.text();\n    if (context.isEditingName && enteredText.includes(':')) {\n      void this.editingCommitted(enteredText, context, 'forward');\n      return;\n    }\n\n    const valueText = this.prompt.textWithCurrentSuggestion();\n    if (valueText.includes(';')) {\n      return;\n    }\n    // Prevent destructive side-effects during live-edit. crbug.com/433889\n    const parentNode = this.parentPaneInternal.node();\n    if (parentNode) {\n      const isPseudo = Boolean(parentNode.pseudoType());\n      if (isPseudo) {\n        if (this.name.toLowerCase() === 'content') {\n          return;\n        }\n        const lowerValueText = valueText.trim().toLowerCase();\n        if (lowerValueText.startsWith('content:') || lowerValueText === 'display: none') {\n          return;\n        }\n      }\n    }\n\n    if (context.isEditingName) {\n      if (valueText.includes(':')) {\n        await this.applyStyleText(valueText, false);\n      } else if (this.hasBeenEditedIncrementally) {\n        await this.applyOriginalStyle(context);\n      }\n    } else if (this.nameElement) {\n      await this.applyStyleText(`${this.nameElement.textContent}: ${valueText}`, false);\n    }\n  }\n\n  kickFreeFlowStyleEditForTest(): Promise<void> {\n    const context = this.contextForTest;\n    return this.applyFreeFlowStyleTextEdit((context as Context));\n  }\n\n  editingEnded(context: Context): void {\n    this.setExpandable(context.hasChildren);\n    if (context.expanded) {\n      this.expand();\n    }\n    const editedElement = context.isEditingName ? this.nameElement : this.valueElement;\n    // The proxyElement has been deleted, no need to remove listener.\n    if (editedElement?.parentElement) {\n      editedElement.parentElement.classList.remove('child-editing');\n    }\n\n    this.parentPaneInternal.setEditingStyle(false);\n  }\n\n  editingCancelled(context: Context): void {\n    this.removePrompt();\n\n    if (this.hasBeenEditedIncrementally) {\n      void this.applyOriginalStyle(context);\n    } else if (this.newProperty && this.treeOutline) {\n      this.treeOutline.removeChild(this);\n    }\n    this.updateTitle();\n\n    // This should happen last, as it clears the info necessary to restore the property value after [Page]Up/Down changes.\n    this.editingEnded(context);\n  }\n\n  private async applyOriginalStyle(context: Context): Promise<void> {\n    await this.applyStyleText(this.originalPropertyText, false, context.originalProperty);\n  }\n\n  private findSibling(moveDirection: string): StylePropertyTreeElement|null {\n    let target: (StylePropertyTreeElement|null)|this = this;\n    do {\n      const sibling: UI.TreeOutline.TreeElement|null =\n          moveDirection === 'forward' ? target.nextSibling : target.previousSibling;\n      target = sibling instanceof StylePropertyTreeElement ? sibling : null;\n    } while (target?.inherited());\n\n    return target;\n  }\n\n  private async editingCommitted(userInput: string, context: Context, moveDirection: string): Promise<void> {\n    this.removePrompt();\n    this.editingEnded(context);\n    const isEditingName = context.isEditingName;\n    // If the underlying property has been ripped out, always assume that the value having been entered was\n    // a name-value pair and attempt to process it via the SDK.\n    if (!this.nameElement || !this.valueElement) {\n      return;\n    }\n\n    const nameElementValue = this.nameElement.textContent || '';\n    const nameValueEntered = (isEditingName && nameElementValue.includes(':')) || !this.property;\n\n    // Determine where to move to before making changes\n    let createNewProperty = false;\n    let moveToSelector = false;\n    const isDataPasted = typeof context.originalName !== 'undefined';\n    const isDirtyViaPaste = isDataPasted &&\n        (this.nameElement.textContent !== context.originalName ||\n         this.valueElement.textContent !== context.originalValue);\n    const isPropertySplitPaste =\n        isDataPasted && isEditingName && this.valueElement.textContent !== context.originalValue;\n    let moveTo: (StylePropertyTreeElement|null)|this = this;\n    const moveToOther = (isEditingName !== (moveDirection === 'forward'));\n    const abandonNewProperty = this.newProperty && !userInput && (moveToOther || isEditingName);\n    if (moveDirection === 'forward' && (!isEditingName || isPropertySplitPaste) ||\n        moveDirection === 'backward' && isEditingName) {\n      moveTo = moveTo.findSibling(moveDirection);\n      if (!moveTo) {\n        if (moveDirection === 'forward' && (!this.newProperty || userInput)) {\n          createNewProperty = true;\n        } else if (moveDirection === 'backward') {\n          moveToSelector = true;\n        }\n      }\n    }\n\n    // Make the Changes and trigger the moveToNextCallback after updating.\n    let moveToIndex = -1;\n    if (moveTo !== null && this.treeOutline) {\n      moveToIndex = this.treeOutline.rootElement().indexOfChild((moveTo as UI.TreeOutline.TreeElement));\n    }\n    const blankInput = Platform.StringUtilities.isWhitespace(userInput);\n    const shouldCommitNewProperty = this.newProperty &&\n        (isPropertySplitPaste || moveToOther || (!moveDirection && !isEditingName) || (isEditingName && blankInput) ||\n         nameValueEntered);\n    if (((userInput !== context.previousContent || isDirtyViaPaste) && !this.newProperty) || shouldCommitNewProperty) {\n      let propertyText;\n      if (nameValueEntered) {\n        propertyText = this.nameElement.textContent;\n      } else if (\n          blankInput ||\n          (this.newProperty && Platform.StringUtilities.isWhitespace(this.valueElement.textContent || ''))) {\n        propertyText = '';\n      } else if (isEditingName) {\n        propertyText = userInput + ': ' + this.property.value;\n      } else {\n        propertyText = this.property.name + ': ' + userInput;\n      }\n      await this.applyStyleText(propertyText || '', true);\n      moveToNextCallback.call(this, this.newProperty, !blankInput, this.#parentSection);\n    } else {\n      if (isEditingName) {\n        this.property.name = userInput;\n      } else {\n        this.property.value = userInput;\n      }\n      if (!isDataPasted && !this.newProperty) {\n        this.updateTitle();\n      }\n      moveToNextCallback.call(this, this.newProperty, false, this.#parentSection);\n    }\n\n    /**\n     * The Callback to start editing the next/previous property/selector.\n     */\n    function moveToNextCallback(\n        this: StylePropertyTreeElement, alreadyNew: boolean, valueChanged: boolean,\n        section: StylePropertiesSection): void {\n      if (!moveDirection) {\n        this.parentPaneInternal.resetFocus();\n        return;\n      }\n\n      // User just tabbed through without changes.\n      if (moveTo && moveTo.parent) {\n        if (isEditingName) {\n          moveTo.startEditingValue();\n        } else {\n          moveTo.startEditingName();\n        }\n        return;\n      }\n\n      // User has made a change then tabbed, wiping all the original treeElements.\n      // Recalculate the new treeElement for the same property we were going to edit next.\n      if (moveTo && !moveTo.parent) {\n        const rootElement = section.propertiesTreeOutline.rootElement();\n        if (moveDirection === 'forward' && blankInput && !isEditingName) {\n          --moveToIndex;\n        }\n        if (moveToIndex >= rootElement.childCount() && !this.newProperty) {\n          createNewProperty = true;\n        } else {\n          const treeElement =\n              (moveToIndex >= 0 ? rootElement.childAt(moveToIndex) : null) as StylePropertyTreeElement | null;\n          if (treeElement) {\n            if (alreadyNew && blankInput) {\n              if (moveDirection === 'forward') {\n                treeElement.startEditingName();\n              } else {\n                treeElement.startEditingValue();\n              }\n            } else if (!isEditingName || isPropertySplitPaste) {\n              treeElement.startEditingName();\n            } else {\n              treeElement.startEditingValue();\n            }\n            return;\n          }\n          if (!alreadyNew) {\n            moveToSelector = true;\n          }\n        }\n      }\n\n      // Create a new attribute in this section (or move to next editable selector if possible).\n      if (createNewProperty) {\n        if (alreadyNew && !valueChanged && (isEditingName !== (moveDirection === 'backward'))) {\n          return;\n        }\n\n        section.addNewBlankProperty().startEditingName();\n        return;\n      }\n\n      if (abandonNewProperty) {\n        moveTo = this.findSibling(moveDirection);\n        const sectionToEdit = (moveTo || moveDirection === 'backward') ? section : section.nextEditableSibling();\n        if (sectionToEdit) {\n          if (sectionToEdit.style().parentRule) {\n            sectionToEdit.startEditingSelector();\n          } else {\n            sectionToEdit.moveEditorFromSelector(moveDirection);\n          }\n        }\n        return;\n      }\n\n      if (moveToSelector) {\n        if (section.style().parentRule) {\n          section.startEditingSelector();\n        } else {\n          section.moveEditorFromSelector(moveDirection);\n        }\n      }\n    }\n  }\n\n  private removePrompt(): void {\n    // BUG 53242. This cannot go into editingEnded(), as it should always happen first for any editing outcome.\n    if (this.prompt) {\n      this.prompt.detach();\n      this.prompt = null;\n    }\n  }\n\n  styleTextAppliedForTest(): void {\n  }\n\n  applyStyleText(styleText: string, majorChange: boolean, property?: SDK.CSSProperty.CSSProperty|null): Promise<void> {\n    return this.applyStyleThrottler.schedule(this.innerApplyStyleText.bind(this, styleText, majorChange, property));\n  }\n\n  private async innerApplyStyleText(\n      styleText: string, majorChange: boolean, property?: SDK.CSSProperty.CSSProperty|null): Promise<void> {\n    // this.property might have been nulled at the end of the last innerApplyStyleText.\n    if (!this.treeOutline || !this.property) {\n      return;\n    }\n\n    const oldStyleRange = this.style.range;\n    if (!oldStyleRange) {\n      return;\n    }\n\n    const hasBeenEditedIncrementally = this.hasBeenEditedIncrementally;\n    styleText = styleText.replace(/[\\xA0\\t]/g, ' ').trim();  // Replace &nbsp; with whitespace.\n    if (!styleText.length && majorChange && this.newProperty && !hasBeenEditedIncrementally) {\n      // The user deleted everything and never applied a new property value via Up/Down scrolling/live editing, so remove the tree element and update.\n      this.parent && this.parent.removeChild(this);\n      return;\n    }\n\n    const currentNode = this.parentPaneInternal.node();\n    this.parentPaneInternal.setUserOperation(true);\n\n    styleText += Platform.StringUtilities.findUnclosedCssQuote(styleText);\n    styleText += ')'.repeat(Platform.StringUtilities.countUnmatchedLeftParentheses(styleText));\n\n    // Append a \";\" if the new text does not end in \";\".\n    // FIXME: this does not handle trailing comments.\n    if (styleText.length && !/;\\s*$/.test(styleText)) {\n      styleText += ';';\n    }\n\n    const overwriteProperty = !this.newProperty || hasBeenEditedIncrementally;\n    let success: boolean = await this.property.setText(styleText, majorChange, overwriteProperty);\n    // Revert to the original text if applying the new text failed\n    if (hasBeenEditedIncrementally && majorChange && !success) {\n      majorChange = false;\n      success = await this.property.setText(this.originalPropertyText, majorChange, overwriteProperty);\n    }\n    this.parentPaneInternal.setUserOperation(false);\n\n    // TODO: using this.property.index to access its containing StyleDeclaration's property will result in\n    // off-by-1 errors when the containing StyleDeclaration's respective property has already been deleted.\n    // These referencing logic needs to be updated to be more robust.\n    const updatedProperty = property || this.style.propertyAt(this.property.index);\n    const isPropertyWithinBounds = this.property.index < this.style.allProperties().length;\n    if (!success || (!updatedProperty && isPropertyWithinBounds)) {\n      if (majorChange) {\n        // It did not apply, cancel editing.\n        if (this.newProperty) {\n          this.treeOutline.removeChild(this);\n        } else {\n          this.updateTitle();\n        }\n      }\n      this.styleTextAppliedForTest();\n      return;\n    }\n\n    this.matchedStylesInternal.resetActiveProperties();\n    this.hasBeenEditedIncrementally = true;\n\n    // null check for updatedProperty before setting this.property as the code never expects this.property to be undefined or null.\n    // This occurs when deleting the last index of a StylePropertiesSection as this.style._allProperties array gets updated\n    // before we index it when setting the value for updatedProperty\n    const deleteProperty = majorChange && !styleText.length;\n    if (deleteProperty) {\n      this.#parentSection.resetToolbars();\n    } else if (!deleteProperty && updatedProperty) {\n      this.property = updatedProperty;\n    }\n\n    if (currentNode === this.node()) {\n      this.updatePane();\n    }\n\n    this.styleTextAppliedForTest();\n  }\n\n  override ondblclick(): boolean {\n    return true;  // handled\n  }\n\n  override isEventWithinDisclosureTriangle(event: Event): boolean {\n    return event.target === this.expandElement;\n  }\n}\nexport interface Context {\n  expanded: boolean;\n  hasChildren: boolean;\n  isEditingName: boolean;\n  originalProperty?: SDK.CSSProperty.CSSProperty;\n  originalName?: string;\n  originalValue?: string;\n  previousContent: string;\n}\n"]}