{"version":3,"file":"StylePropertyTreeElement.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/StylePropertyTreeElement.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport type * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as ColorPicker from '../../ui/legacy/components/color_picker/color_picker.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {\n  BezierPopoverIcon,\n  ColorSwatchPopoverIcon,\n  ColorSwatchPopoverIconEvents,\n  ShadowEvents,\n  ShadowSwatchPopoverHelper,\n} from './ColorSwatchPopoverIcon.js';\nimport * as ElementsComponents from './components/components.js';\nimport {cssRuleValidatorsMap, type Hint} from './CSSRuleValidator.js';\nimport {ElementsPanel} from './ElementsPanel.js';\nimport {ImagePreviewPopover} from './ImagePreviewPopover.js';\nimport {\n  AngleMatch,\n  AngleMatcher,\n  ASTUtils,\n  BezierMatch,\n  BezierMatcher,\n  BottomUpTreeMatching,\n  ColorMatch,\n  ColorMatcher,\n  ColorMixMatch,\n  ColorMixMatcher,\n  type CSSControlMap,\n  FontMatch,\n  FontMatcher,\n  GridTemplateMatch,\n  GridTemplateMatcher,\n  LegacyRegexMatcher,\n  LightDarkColorMatch,\n  LightDarkColorMatcher,\n  LinkableNameMatch,\n  LinkableNameMatcher,\n  LinkableNameProperties,\n  type Match,\n  type Matcher,\n  Renderer,\n  RenderingContext,\n  renderPropertyValue,\n  ShadowMatch,\n  ShadowMatcher,\n  ShadowType,\n  StringMatch,\n  StringMatcher,\n  tokenizeDeclaration,\n  URLMatch,\n  URLMatcher,\n  VariableMatch,\n  VariableMatcher,\n} from './PropertyParser.js';\nimport {StyleEditorWidget} from './StyleEditorWidget.js';\nimport {type StylePropertiesSection} from './StylePropertiesSection.js';\nimport {getCssDeclarationAsJavascriptProperty} from './StylePropertyUtils.js';\nimport {\n  CSSPropertyPrompt,\n  REGISTERED_PROPERTY_SECTION_NAME,\n  StylesSidebarPane,\n  unescapeCssString,\n} from './StylesSidebarPane.js';\n\nconst FlexboxEditor = ElementsComponents.StylePropertyEditor.FlexboxEditor;\nconst GridEditor = ElementsComponents.StylePropertyEditor.GridEditor;\n\nexport const activeHints = new WeakMap<Element, Hint>();\n\nconst UIStrings = {\n  /**\n   *@description Text in Color Swatch Popover Icon of the Elements panel\n   */\n  shiftClickToChangeColorFormat: 'Shift + Click to change color format.',\n  /**\n   *@description Swatch icon element title in Color Swatch Popover Icon of the Elements panel\n   *@example {Shift + Click to change color format.} PH1\n   */\n  openColorPickerS: 'Open color picker. {PH1}',\n  /**\n   *@description Context menu item for style property in edit mode\n   */\n  togglePropertyAndContinueEditing: 'Toggle property and continue editing',\n  /**\n   *@description Context menu item for style property in edit mode\n   */\n  revealInSourcesPanel: 'Reveal in Sources panel',\n  /**\n   *@description A context menu item in Styles panel to copy CSS declaration\n   */\n  copyDeclaration: 'Copy declaration',\n  /**\n   *@description A context menu item in Styles panel to copy CSS property\n   */\n  copyProperty: 'Copy property',\n  /**\n   *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel and Network pane request.\n   */\n  copyValue: 'Copy value',\n  /**\n   *@description A context menu item in Styles panel to copy CSS rule\n   */\n  copyRule: 'Copy rule',\n  /**\n   *@description A context menu item in Styles panel to copy all CSS declarations\n   */\n  copyAllDeclarations: 'Copy all declarations',\n  /**\n   *@description  A context menu item in Styles panel to copy all the CSS changes\n   */\n  copyAllCSSChanges: 'Copy all CSS changes',\n  /**\n   *@description A context menu item in Styles panel to view the computed CSS property value.\n   */\n  viewComputedValue: 'View computed value',\n  /**\n   * @description Title of the button that opens the flexbox editor in the Styles panel.\n   */\n  flexboxEditorButton: 'Open `flexbox` editor',\n  /**\n   * @description Title of the button that opens the CSS Grid editor in the Styles panel.\n   */\n  gridEditorButton: 'Open `grid` editor',\n  /**\n   *@description A context menu item in Styles panel to copy CSS declaration as JavaScript property.\n   */\n  copyCssDeclarationAsJs: 'Copy declaration as JS',\n  /**\n   *@description A context menu item in Styles panel to copy all declarations of CSS rule as JavaScript properties.\n   */\n  copyAllCssDeclarationsAsJs: 'Copy all declarations as JS',\n  /**\n   *@description Text that is announced by the screen reader when the user focuses on an input field for entering the name of a CSS property in the Styles panel\n   *@example {margin} PH1\n   */\n  cssPropertyName: '`CSS` property name: {PH1}',\n  /**\n   *@description Text that is announced by the screen reader when the user focuses on an input field for entering the value of a CSS property in the Styles panel\n   *@example {10px} PH1\n   */\n  cssPropertyValue: '`CSS` property value: {PH1}',\n\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/StylePropertyTreeElement.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst parentMap = new WeakMap<StylesSidebarPane, StylePropertyTreeElement>();\n\ninterface StylePropertyTreeElementParams {\n  stylesPane: StylesSidebarPane;\n  section: StylePropertiesSection;\n  matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  property: SDK.CSSProperty.CSSProperty;\n  isShorthand: boolean;\n  inherited: boolean;\n  overloaded: boolean;\n  newProperty: boolean;\n}\n\nexport class VariableRenderer extends VariableMatch {\n  readonly #treeElement: StylePropertyTreeElement;\n  readonly #style: SDK.CSSStyleDeclaration.CSSStyleDeclaration;\n  constructor(\n      treeElement: StylePropertyTreeElement, style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, text: string,\n      name: string, fallback: CodeMirror.SyntaxNode[], matching: BottomUpTreeMatching) {\n    super(text, name, fallback, matching);\n    this.#treeElement = treeElement;\n    this.#style = style;\n  }\n\n  resolveVariable(): SDK.CSSMatchedStyles.CSSVariableValue|null {\n    return this.#matchedStyles.computeCSSVariable(this.#style, this.name);\n  }\n\n  fallbackValue(): string|null {\n    if (this.fallback.length === 0 || this.fallback.some(node => this.matching.hasUnresolvedVars(node))) {\n      return null;\n    }\n    return this.fallback.map(node => this.matching.getComputedText(node)).join(' ');\n  }\n\n  computedText(): string|null {\n    return this.resolveVariable()?.value ?? this.fallbackValue();\n  }\n\n  render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    const renderedFallback = this.fallback.length > 0 ? Renderer.render(this.fallback, context) : undefined;\n\n    const {declaration, value: variableValue} = this.resolveVariable() ?? {};\n    const fromFallback = !variableValue;\n    const computedValue = variableValue ?? this.fallbackValue();\n\n    const varSwatch = new InlineEditor.LinkSwatch.CSSVarSwatch();\n    varSwatch.data = {\n      computedValue,\n      variableName: this.name,\n      fromFallback,\n      fallbackText: this.fallback.map(n => context.ast.text(n)).join(' '),\n      onLinkActivate: name => this.#handleVarDefinitionActivate(declaration ?? name),\n    };\n\n    if (renderedFallback?.nodes.length) {\n      // When slotting someting into the fallback slot, also emit text children so that .textContent produces the\n      // correct var value.\n      varSwatch.appendChild(document.createTextNode(`var(${this.name}`));\n      const span = varSwatch.appendChild(document.createElement('span'));\n      span.appendChild(document.createTextNode(', '));\n      span.slot = 'fallback';\n      renderedFallback.nodes.forEach(n => span.appendChild(n));\n      varSwatch.appendChild(document.createTextNode(')'));\n    } else {\n      UI.UIUtils.createTextChild(varSwatch, this.text);\n    }\n\n    if (varSwatch.link) {\n      this.#pane.addPopover(varSwatch.link, {\n        contents: () => this.#treeElement.getVariablePopoverContents(this.name, variableValue ?? null),\n        jslogContext: 'elements.css-var',\n      });\n    }\n\n    if (!computedValue || !Common.Color.parse(computedValue)) {\n      return [varSwatch];\n    }\n\n    const colorSwatch = new ColorRenderer(this.#treeElement, computedValue).renderColorSwatch(varSwatch);\n    context.addControl('color', colorSwatch);\n    return [colorSwatch];\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement, style: SDK.CSSStyleDeclaration.CSSStyleDeclaration):\n      VariableMatcher {\n    return new VariableMatcher(\n        (text, name, fallback, matching) => new VariableRenderer(treeElement, style, text, name, fallback, matching));\n  }\n\n  get #pane(): StylesSidebarPane {\n    return this.#treeElement.parentPane();\n  }\n\n  get #matchedStyles(): SDK.CSSMatchedStyles.CSSMatchedStyles {\n    return this.#treeElement.matchedStyles();\n  }\n\n  #handleVarDefinitionActivate(variable: string|SDK.CSSProperty.CSSProperty|\n                               SDK.CSSMatchedStyles.CSSRegisteredProperty): void {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.CustomPropertyLinkClicked);\n    Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.VarLink);\n    if (variable instanceof SDK.CSSProperty.CSSProperty) {\n      this.#pane.revealProperty(variable);\n    } else if (variable instanceof SDK.CSSMatchedStyles.CSSRegisteredProperty) {\n      this.#pane.jumpToProperty('initial-value', variable.propertyName(), REGISTERED_PROPERTY_SECTION_NAME);\n    } else {\n      this.#pane.jumpToProperty(variable) ||\n          this.#pane.jumpToProperty('initial-value', variable, REGISTERED_PROPERTY_SECTION_NAME);\n    }\n  }\n}\n\nexport class ColorRenderer extends ColorMatch {\n  constructor(private readonly treeElement: StylePropertyTreeElement, text: string) {\n    super(text);\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): ColorMatcher {\n    return new ColorMatcher(text => new ColorRenderer(treeElement, text));\n  }\n\n  #getValueChild(node: CodeMirror.SyntaxNode, context: RenderingContext):\n      {valueChild: HTMLSpanElement, cssControls?: CSSControlMap} {\n    const valueChild = document.createElement('span');\n    if (node.name === 'ColorLiteral' || (node.name === 'ValueName' && Common.Color.Nicknames.has(this.text))) {\n      valueChild.appendChild(document.createTextNode(this.text));\n      return {valueChild};\n    }\n    const {cssControls} = Renderer.renderInto(ASTUtils.children(node), context, valueChild);\n    return {valueChild, cssControls};\n  }\n\n  render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    const {valueChild, cssControls} = this.#getValueChild(node, context);\n    const swatch = this.renderColorSwatch(valueChild, context.matchedResult.getComputedText(node));\n    context.addControl('color', swatch);\n\n    if (cssControls && node.name === 'CallExpression' &&\n        context.ast.text(node.getChild('Callee')).match(/^(hsla?|hwba?)/)) {\n      const angles = cssControls.get('angle');\n      if (angles?.length === 1 && angles[0] instanceof InlineEditor.CSSAngle.CSSAngle) {\n        angles[0].addEventListener(InlineEditor.InlineEditorUtils.ValueChangedEvent.eventName, ev => {\n          const hue = Common.Color.parseHueNumeric(ev.data.value);\n          const color = swatch.getColor();\n          if (!hue || !color) {\n            return;\n          }\n          if (color.is(Common.Color.Format.HSL) || color.is(Common.Color.Format.HSLA)) {\n            swatch.renderColor(new Common.Color.HSL(hue, color.s, color.l, color.alpha));\n          } else if (color.is(Common.Color.Format.HWB) || color.is(Common.Color.Format.HWBA)) {\n            swatch.renderColor(new Common.Color.HWB(hue, color.w, color.b, color.alpha));\n          }\n        });\n      }\n    }\n    return [swatch];\n  }\n\n  renderColorSwatch(valueChild?: Node, text?: string): InlineEditor.ColorSwatch.ColorSwatch {\n    const editable = this.treeElement.editable();\n    const shiftClickMessage = i18nString(UIStrings.shiftClickToChangeColorFormat);\n    const tooltip = editable ? i18nString(UIStrings.openColorPickerS, {PH1: shiftClickMessage}) : '';\n\n    const swatch = new InlineEditor.ColorSwatch.ColorSwatch();\n    swatch.setReadonly(!editable);\n    swatch.renderColor(text ?? this.text, editable, tooltip);\n\n    if (!valueChild) {\n      valueChild = swatch.createChild('span');\n      const color = swatch.getColor();\n      valueChild.textContent =\n          color ? (color.getAuthoredText() ?? color.asString(swatch.getFormat() ?? undefined)) : this.text;\n    }\n    swatch.appendChild(valueChild);\n\n    const onColorChanged = (event: InlineEditor.ColorSwatch.ColorChangedEvent): void => {\n      const {data} = event;\n      swatch.firstElementChild && swatch.firstElementChild.remove();\n      swatch.createChild('span').textContent = data.text;\n      void this.treeElement.applyStyleText(this.treeElement.renderedPropertyText(), false);\n    };\n\n    swatch.addEventListener(InlineEditor.ColorSwatch.ClickEvent.eventName, () => {\n      Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.Color);\n    });\n    swatch.addEventListener(InlineEditor.ColorSwatch.ColorChangedEvent.eventName, onColorChanged);\n\n    if (editable) {\n      const swatchIcon =\n          new ColorSwatchPopoverIcon(this.treeElement, this.treeElement.parentPane().swatchPopoverHelper(), swatch);\n      swatchIcon.addEventListener(ColorSwatchPopoverIconEvents.ColorChanged, ev => {\n        // TODO(crbug.com/1402233): Is it really okay to dispatch an event from `Swatch` here?\n        // This needs consideration as current structure feels a bit different:\n        // There are: ColorSwatch, ColorSwatchPopoverIcon, and Spectrum\n        // * Our entry into the Spectrum is `ColorSwatch` and `ColorSwatch` is able to\n        // update the color too. (its format at least, don't know the difference)\n        // * ColorSwatchPopoverIcon is a helper to show/hide the Spectrum popover\n        // * Spectrum is the color picker\n        //\n        // My idea is: merge `ColorSwatch` and `ColorSwatchPopoverIcon`\n        // and emit `ColorChanged` event whenever color is changed.\n        // Until then, this is a hack to kind of emulate the behavior described above\n        // `swatch` is dispatching its own ColorChangedEvent with the changed\n        // color text whenever the color changes.\n        swatch.dispatchEvent(new InlineEditor.ColorSwatch.ColorChangedEvent(ev.data));\n      });\n      void this.#addColorContrastInfo(swatchIcon);\n    }\n\n    return swatch;\n  }\n\n  async #addColorContrastInfo(swatchIcon: ColorSwatchPopoverIcon): Promise<void> {\n    const cssModel = this.treeElement.parentPane().cssModel();\n    const node = this.treeElement.node();\n    if (this.treeElement.property.name !== 'color' || !cssModel || !node || typeof node.id === 'undefined') {\n      return;\n    }\n    const contrastInfo = new ColorPicker.ContrastInfo.ContrastInfo(await cssModel.getBackgroundColors(node.id));\n    swatchIcon.setContrastInfo(contrastInfo);\n  }\n}\n\nexport class LightDarkColorRenderer extends LightDarkColorMatch {\n  readonly #treeElement: StylePropertyTreeElement;\n  constructor(\n      treeElement: StylePropertyTreeElement, text: string, light: CodeMirror.SyntaxNode[],\n      dark: CodeMirror.SyntaxNode[]) {\n    super(text, light, dark);\n    this.#treeElement = treeElement;\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): LightDarkColorMatcher {\n    return new LightDarkColorMatcher((text, light, dark) => new LightDarkColorRenderer(treeElement, text, light, dark));\n  }\n\n  override render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    const content = document.createElement('span');\n    content.appendChild(document.createTextNode('light-dark('));\n    const light = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(', '));\n    const dark = content.appendChild(document.createElement('span'));\n    content.appendChild(document.createTextNode(')'));\n    Renderer.renderInto(this.light, context, light);\n    Renderer.renderInto(this.dark, context, dark);\n\n    if (context.matchedResult.hasUnresolvedVars(node)) {\n      return [content];\n    }\n\n    const colorSwatch = new ColorRenderer(this.#treeElement, context.ast.text(node)).renderColorSwatch(content);\n    context.addControl('color', colorSwatch);\n    void this.applyColorScheme(context, colorSwatch, light, dark);\n\n    return [colorSwatch];\n  }\n\n  async applyColorScheme(\n      context: RenderingContext, colorSwatch: InlineEditor.ColorSwatch.ColorSwatch, light: HTMLSpanElement,\n      dark: HTMLSpanElement): Promise<void> {\n    const activeColor = await this.#activeColor();\n    if (!activeColor) {\n      return;\n    }\n    const inactiveColor = (activeColor === this.light) ? dark : light;\n    const colorText = context.matchedResult.getComputedTextRange(activeColor[0], activeColor[activeColor.length - 1]);\n    const color = colorText && Common.Color.parse(colorText);\n    inactiveColor.style.textDecoration = 'line-through';\n    if (color) {\n      colorSwatch.renderColor(color);\n    }\n  }\n\n  // Returns the syntax node group corresponding the active color scheme:\n  // If the element has color-scheme set to light or dark, return the respective group.\n  // If the element has color-scheme set to both light and dark, we check the prefers-color-scheme media query.\n  async #activeColor(): Promise<CodeMirror.SyntaxNode[]|undefined> {\n    const activeColorSchemes = this.#treeElement.getComputedStyle('color-scheme')?.split(' ') ?? [];\n    const hasLight = activeColorSchemes.includes(SDK.CSSModel.ColorScheme.Light);\n    const hasDark = activeColorSchemes.includes(SDK.CSSModel.ColorScheme.Dark);\n\n    if (!hasDark && !hasLight) {\n      return this.light;\n    }\n    if (!hasLight) {\n      return this.dark;\n    }\n    if (!hasDark) {\n      return this.light;\n    }\n\n    switch (await this.#treeElement.parentPane().cssModel()?.colorScheme()) {\n      case SDK.CSSModel.ColorScheme.Dark:\n        return this.dark;\n      case SDK.CSSModel.ColorScheme.Light:\n        return this.light;\n      default:\n        return undefined;\n    }\n  }\n}\n\nexport class ColorMixRenderer extends ColorMixMatch {\n  #pane: StylesSidebarPane;\n  constructor(\n      pane: StylesSidebarPane, text: string, space: CodeMirror.SyntaxNode[], color1: CodeMirror.SyntaxNode[],\n      color2: CodeMirror.SyntaxNode[]) {\n    super(text, space, color1, color2);\n    this.#pane = pane;\n  }\n\n  override render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    const hookUpColorArg = (node: Node, onChange: (newColorText: string) => void): boolean => {\n      if (node instanceof InlineEditor.ColorMixSwatch.ColorMixSwatch ||\n          node instanceof InlineEditor.ColorSwatch.ColorSwatch) {\n        if (node instanceof InlineEditor.ColorSwatch.ColorSwatch) {\n          node.addEventListener(InlineEditor.ColorSwatch.ColorChangedEvent.eventName, ev => onChange(ev.data.text));\n        } else {\n          node.addEventListener(InlineEditor.ColorMixSwatch.Events.ColorChanged, ev => onChange(ev.data.text));\n        }\n        const color = node.getText();\n        if (color) {\n          onChange(color);\n          return true;\n        }\n      }\n      return false;\n    };\n\n    const contentChild = document.createElement('span');\n    contentChild.appendChild(document.createTextNode('color-mix('));\n    Renderer.renderInto(this.space, context, contentChild);\n    contentChild.appendChild(document.createTextNode(', '));\n    const color1 = Renderer.renderInto(this.color1, context, contentChild).cssControls.get('color') ?? [];\n    contentChild.appendChild(document.createTextNode(', '));\n    const color2 = Renderer.renderInto(this.color2, context, contentChild).cssControls.get('color') ?? [];\n    contentChild.appendChild(document.createTextNode(')'));\n\n    if (context.matchedResult.hasUnresolvedVars(node) || color1.length !== 1 || color2.length !== 1) {\n      return [contentChild];\n    }\n\n    const swatch = new InlineEditor.ColorMixSwatch.ColorMixSwatch();\n    if (!hookUpColorArg(color1[0], text => swatch.setFirstColor(text)) ||\n        !hookUpColorArg(color2[0], text => swatch.setSecondColor(text))) {\n      return [contentChild];\n    }\n\n    const space = this.space.map(space => context.matchedResult.getComputedText(space)).join(' ');\n    const color1Text = this.color1.map(color => context.matchedResult.getComputedText(color)).join(' ');\n    const color2Text = this.color2.map(color => context.matchedResult.getComputedText(color)).join(' ');\n    swatch.appendChild(contentChild);\n    swatch.setColorMixText(`color-mix(${space}, ${color1Text}, ${color2Text})`);\n    swatch.setRegisterPopoverCallback(swatch => {\n      if (swatch.icon) {\n        this.#pane.addPopover(swatch.icon, {\n          contents: () => {\n            const color = swatch.mixedColor();\n            if (!color) {\n              return undefined;\n            }\n            const span = document.createElement('span');\n            span.style.padding = '11px 7px';\n            const rgb = color.as(Common.Color.Format.HEX);\n            const text = rgb.isGamutClipped() ? color.asString() : rgb.asString();\n            if (!text) {\n              return undefined;\n            }\n            span.appendChild(document.createTextNode(text));\n            return span;\n          },\n          jslogContext: 'elements.css-color-mix',\n        });\n      }\n    });\n\n    context.addControl('color', swatch);\n    return [swatch];\n  }\n\n  static matcher(pane: StylesSidebarPane): ColorMixMatcher {\n    return new ColorMixMatcher(\n        (text, space, color1, color2) => new ColorMixRenderer(pane, text, space, color1, color2));\n  }\n}\n\nexport class URLRenderer extends URLMatch {\n  constructor(\n      private readonly rule: SDK.CSSRule.CSSRule|null, private readonly node: SDK.DOMModel.DOMNode|null,\n      url: Platform.DevToolsPath.UrlString, text: string) {\n    super(unescapeCssString(url) as Platform.DevToolsPath.UrlString, text);\n  }\n  override render(): Node[] {\n    const container = document.createDocumentFragment();\n    UI.UIUtils.createTextChild(container, 'url(');\n    let hrefUrl: Platform.DevToolsPath.UrlString|null = null;\n    if (this.rule && this.rule.resourceURL()) {\n      hrefUrl = Common.ParsedURL.ParsedURL.completeURL(this.rule.resourceURL(), this.url);\n    } else if (this.node) {\n      hrefUrl = this.node.resolveURL(this.url);\n    }\n    const link = ImagePreviewPopover.setImageUrl(\n        Components.Linkifier.Linkifier.linkifyURL(hrefUrl || this.url, {\n          text: this.url,\n          preventClick: false,\n          // crbug.com/1027168\n          // We rely on CSS text-overflow: ellipsis to hide long URLs in the Style panel,\n          // so that we don't have to keep two versions (original vs. trimmed) of URL\n          // at the same time, which complicates both StylesSidebarPane and StylePropertyTreeElement.\n          bypassURLTrimming: true,\n          showColumnNumber: false,\n          inlineFrameIndex: 0,\n        }),\n        hrefUrl || this.url);\n    container.appendChild(link);\n    UI.UIUtils.createTextChild(container, ')');\n    return [container];\n  }\n\n  static matcher(rule: SDK.CSSRule.CSSRule|null, node: SDK.DOMModel.DOMNode|null): URLMatcher {\n    return new URLMatcher((url, text) => new URLRenderer(rule, node, url, text));\n  }\n}\n\nexport class AngleRenderer extends AngleMatch {\n  #treeElement: StylePropertyTreeElement;\n  constructor(text: string, treeElement: StylePropertyTreeElement) {\n    super(text);\n    this.#treeElement = treeElement;\n  }\n\n  override render(_: unknown, context: RenderingContext): Node[] {\n    const angleText = this.text;\n    if (!this.#treeElement.editable()) {\n      return [document.createTextNode(angleText)];\n    }\n    const cssAngle = new InlineEditor.CSSAngle.CSSAngle();\n    cssAngle.setAttribute('jslog', `${VisualLogging.showStyleEditor().track({click: true}).context('css-angle')}`);\n    const valueElement = document.createElement('span');\n    valueElement.textContent = angleText;\n    const computedPropertyValue = this.#treeElement.matchedStyles().computeValue(\n                                      this.#treeElement.property.ownerStyle, this.#treeElement.property.value) ||\n        '';\n    cssAngle.data = {\n      propertyName: this.#treeElement.property.name,\n      propertyValue: computedPropertyValue,\n      angleText,\n      containingPane:\n          (this.#treeElement.parentPane().element.enclosingNodeOrSelfWithClass('style-panes-wrapper') as HTMLElement),\n    };\n    cssAngle.append(valueElement);\n\n    cssAngle.addEventListener('popovertoggled', ({data}) => {\n      const section = this.#treeElement.section();\n      if (!section) {\n        return;\n      }\n\n      if (data.open) {\n        this.#treeElement.parentPane().hideAllPopovers();\n        this.#treeElement.parentPane().activeCSSAngle = cssAngle;\n        Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.Angle);\n      }\n\n      section.element.classList.toggle('has-open-popover', data.open);\n      this.#treeElement.parentPane().setEditingStyle(data.open);\n\n      // Commit the value as a major change after the angle popover is closed.\n      if (!data.open) {\n        void this.#treeElement.applyStyleText(this.#treeElement.renderedPropertyText(), true);\n      }\n    });\n    cssAngle.addEventListener('valuechanged', async ({data}) => {\n      valueElement.textContent = data.value;\n      await this.#treeElement.applyStyleText(this.#treeElement.renderedPropertyText(), false);\n      const computedPropertyValue = this.#treeElement.matchedStyles().computeValue(\n                                        this.#treeElement.property.ownerStyle, this.#treeElement.property.value) ||\n          '';\n      cssAngle.updateProperty(this.#treeElement.property.name, computedPropertyValue);\n    });\n    cssAngle.addEventListener('unitchanged', ({data}) => {\n      valueElement.textContent = data.value;\n    });\n\n    context.addControl('angle', cssAngle);\n    return [cssAngle];\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): AngleMatcher {\n    return new AngleMatcher(text => new AngleRenderer(text, treeElement));\n  }\n}\n\nexport class LinkableNameRenderer extends LinkableNameMatch {\n  readonly #treeElement: StylePropertyTreeElement;\n  constructor(treeElement: StylePropertyTreeElement, text: string, propertyName: LinkableNameProperties) {\n    super(text, propertyName);\n    this.#treeElement = treeElement;\n  }\n\n  #getLinkData():\n      {jslogContext: string, metric: null|Host.UserMetrics.SwatchType, ruleBlock: string, isDefined: boolean} {\n    switch (this.properyName) {\n      case LinkableNameProperties.Animation:\n      case LinkableNameProperties.AnimationName:\n        return {\n          jslogContext: 'css-animation-name',\n          metric: Host.UserMetrics.SwatchType.AnimationNameLink,\n          ruleBlock: '@keyframes',\n          isDefined: Boolean(this.#treeElement.matchedStyles().keyframes().find(kf => kf.name().text === this.text)),\n        };\n      case LinkableNameProperties.FontPalette:\n        return {\n          jslogContext: 'css-font-palette',\n          metric: null,\n          ruleBlock: '@font-palette-values',\n          isDefined: this.#treeElement.matchedStyles().fontPaletteValuesRule()?.name().text === this.text,\n        };\n      case LinkableNameProperties.PositionFallback:\n        return {\n          jslogContext: 'css-position-fallback',\n          metric: Host.UserMetrics.SwatchType.PositionFallbackLink,\n          ruleBlock: '@position-fallback',\n          isDefined: Boolean(\n              this.#treeElement.matchedStyles().positionFallbackRules().find(pf => pf.name().text === this.text)),\n        };\n      case LinkableNameProperties.PositionTry:\n      case LinkableNameProperties.PositionTryOptions:\n        return {\n          jslogContext: 'css-position-try',\n          metric: Host.UserMetrics.SwatchType.PositionTryLink,\n          ruleBlock: '@position-try',\n          isDefined:\n              Boolean(this.#treeElement.matchedStyles().positionTryRules().find(pt => pt.name().text === this.text)),\n        };\n    }\n  }\n\n  override render(): Node[] {\n    const swatch = new InlineEditor.LinkSwatch.LinkSwatch();\n    UI.UIUtils.createTextChild(swatch, this.text);\n    const {metric, jslogContext, ruleBlock, isDefined} = this.#getLinkData();\n    swatch.data = {\n      text: this.text,\n      isDefined,\n      onLinkActivate: (): void => {\n        metric && Host.userMetrics.swatchActivated(metric);\n        this.#treeElement.parentPane().jumpToSectionBlock(`${ruleBlock} ${this.text}`);\n      },\n      jslogContext,\n    };\n\n    return [swatch];\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): LinkableNameMatcher {\n    return new LinkableNameMatcher((text, propertyName) => new LinkableNameRenderer(treeElement, text, propertyName));\n  }\n}\n\nexport class BezierRenderer extends BezierMatch {\n  readonly #treeElement: StylePropertyTreeElement;\n  constructor(treeElement: StylePropertyTreeElement, text: string) {\n    super(text);\n    this.#treeElement = treeElement;\n  }\n\n  override render(): Node[] {\n    return [this.renderSwatch()];\n  }\n\n  renderSwatch(): Node {\n    if (!this.#treeElement.editable()) {\n      return document.createTextNode(this.text);\n    }\n    const swatchPopoverHelper = this.#treeElement.parentPane().swatchPopoverHelper();\n    const swatch = InlineEditor.Swatches.BezierSwatch.create();\n    swatch.iconElement().addEventListener('click', () => {\n      Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.AnimationTiming);\n    });\n    swatch.setBezierText(this.text);\n    new BezierPopoverIcon({treeElement: this.#treeElement, swatchPopoverHelper, swatch});\n    return swatch;\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): BezierMatcher {\n    return new BezierMatcher(text => new BezierRenderer(treeElement, text));\n  }\n}\n\nexport class StringRenderer extends StringMatch {\n  override render(): Node[] {\n    const element = document.createElement('span');\n    element.innerText = this.text;\n    UI.Tooltip.Tooltip.install(element, unescapeCssString(this.text));\n    return [element];\n  }\n\n  static matcher(): StringMatcher {\n    return new StringMatcher(text => new StringRenderer(text));\n  }\n}\n\nexport const enum ShadowPropertyType {\n  X = 'x',\n  Y = 'y',\n  Spread = 'spread',\n  Blur = 'blur',\n  Inset = 'inset',\n  Color = 'color',\n}\n\ntype ShadowProperty = {\n  value: string|CodeMirror.SyntaxNode,\n  source: CodeMirror.SyntaxNode|null,\n  expansionContext: RenderingContext|null,\n  propertyType: ShadowPropertyType,\n};\n\ntype ShadowLengthProperty = ShadowProperty&{\n  length: InlineEditor.CSSShadowEditor.CSSLength,\n  propertyType: Exclude<ShadowPropertyType, ShadowPropertyType.Inset|ShadowPropertyType.Color>,\n};\n\n// The shadow model is an abstraction over the various shadow properties on the one hand and the order they were defined\n// in on the other, so that modifications through the shadow editor can retain the property order in the authored text.\n// The model also looks through var()s by keeping a mapping between individual properties and any var()s they are coming\n// from, replacing the var() functions as needed with concrete values when edited.\nexport class ShadowModel implements InlineEditor.CSSShadowEditor.CSSShadowModel {\n  readonly #properties: ShadowProperty[];\n  readonly #shadowType: ShadowType;\n  readonly #context: RenderingContext;\n\n  constructor(shadowType: ShadowType, properties: ShadowProperty[], context: RenderingContext) {\n    this.#shadowType = shadowType;\n    this.#properties = properties;\n    this.#context = context;\n  }\n  isBoxShadow(): boolean {\n    return this.#shadowType === ShadowType.BoxShadow;\n  }\n  inset(): boolean {\n    return Boolean(this.#properties.find(property => property.propertyType === ShadowPropertyType.Inset));\n  }\n  #length(lengthType: ShadowLengthProperty['propertyType']): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#properties.find((property): property is ShadowLengthProperty => property.propertyType === lengthType)\n               ?.length ??\n        InlineEditor.CSSShadowEditor.CSSLength.zero();\n  }\n  offsetX(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.X);\n  }\n  offsetY(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.Y);\n  }\n  blurRadius(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.Blur);\n  }\n  spreadRadius(): InlineEditor.CSSShadowEditor.CSSLength {\n    return this.#length(ShadowPropertyType.Spread);\n  }\n\n  #needsExpansion(property: ShadowProperty): boolean {\n    return Boolean(property.expansionContext && property.source);\n  }\n\n  #expandPropertyIfNeeded(property: ShadowProperty): void {\n    if (this.#needsExpansion(property)) {\n      // Rendering prefers `source` if present. It's sufficient to clear it in order to switch rendering to render the\n      // individual properties directly.\n      const source = property.source;\n      this.#properties.filter(property => property.source === source).forEach(property => {\n        property.source = null;\n      });\n    }\n  }\n\n  #expandOrGetProperty(propertyType: Exclude<ShadowPropertyType, ShadowLengthProperty['propertyType']>):\n      {property: ShadowProperty|undefined, index: number};\n  #expandOrGetProperty(propertyType: ShadowLengthProperty['propertyType']):\n      {property: ShadowLengthProperty|undefined, index: number};\n  #expandOrGetProperty(propertyType: ShadowPropertyType): {property: ShadowProperty|undefined, index: number} {\n    const index = this.#properties.findIndex(property => property.propertyType === propertyType);\n    const property = index >= 0 ? this.#properties[index] : undefined;\n    property && this.#expandPropertyIfNeeded(property);\n    return {property, index};\n  }\n\n  setInset(inset: boolean): void {\n    if (!this.isBoxShadow()) {\n      return;\n    }\n\n    const {property, index} = this.#expandOrGetProperty(ShadowPropertyType.Inset);\n    if (property) {\n      // For `inset`, remove the entry if value is false, otherwise don't touch it.\n      if (!inset) {\n        this.#properties.splice(index, 1);\n      }\n    } else {\n      this.#properties.unshift(\n          {value: 'inset', source: null, expansionContext: null, propertyType: ShadowPropertyType.Inset});\n    }\n  }\n  #setLength(value: InlineEditor.CSSShadowEditor.CSSLength, propertyType: ShadowLengthProperty['propertyType']): void {\n    const {property} = this.#expandOrGetProperty(propertyType);\n    if (property) {\n      property.value = value.asCSSText();\n      property.length = value;\n      property.source = null;\n    } else {\n      // Lengths are ordered X, Y, Blur, Spread, with the latter two being optional. When inserting an optional property\n      // we need to insert it after Y or after Blur, depending on what's being inserted and which properties are\n      // present.\n      const insertionIdx = 1 +\n          this.#properties.findLastIndex(\n              property => property.propertyType === ShadowPropertyType.Y ||\n                  (propertyType === ShadowPropertyType.Spread && property.propertyType === ShadowPropertyType.Blur));\n      if (insertionIdx > 0 && insertionIdx < this.#properties.length &&\n          this.#needsExpansion(this.#properties[insertionIdx]) &&\n          this.#properties[insertionIdx - 1].source === this.#properties[insertionIdx].source) {\n        // This prevents the edge case where insertion after the last length would break up a group of values that\n        // require expansion.\n        this.#expandPropertyIfNeeded(this.#properties[insertionIdx]);\n      }\n      this.#properties.splice(\n          insertionIdx, 0,\n          {value: value.asCSSText(), length: value, source: null, expansionContext: null, propertyType} as\n              ShadowLengthProperty);\n    }\n  }\n  setOffsetX(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.X);\n  }\n  setOffsetY(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.Y);\n  }\n  setBlurRadius(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    this.#setLength(value, ShadowPropertyType.Blur);\n  }\n  setSpreadRadius(value: InlineEditor.CSSShadowEditor.CSSLength): void {\n    if (this.isBoxShadow()) {\n      this.#setLength(value, ShadowPropertyType.Spread);\n    }\n  }\n\n  renderContents(parent: HTMLElement): void {\n    parent.removeChildren();\n    const span = parent.createChild('span');\n    let previousSource = null;\n    for (const property of this.#properties) {\n      if (!property.source || property.source !== previousSource) {\n        if (property !== this.#properties[0]) {\n          span.append(' ');\n        }\n        // If `source` is present on the property that means it came from a var() and we'll use that to render.\n        if (property.source) {\n          span.append(...Renderer.render(property.source, this.#context).nodes);\n        } else if (typeof property.value === 'string') {\n          span.append(property.value);\n        } else {\n          span.append(...Renderer.render(property.value, property.expansionContext ?? this.#context).nodes);\n        }\n      }\n      previousSource = property.source;\n    }\n  }\n}\n\nexport class ShadowRenderer extends ShadowMatch {\n  readonly #treeElement: StylePropertyTreeElement;\n  constructor(text: string, type: ShadowType, treeElement: StylePropertyTreeElement) {\n    super(text, type);\n    this.#treeElement = treeElement;\n  }\n\n  shadowModel(shadow: CodeMirror.SyntaxNode[], context: RenderingContext): null|ShadowModel {\n    const properties: Array<ShadowProperty|ShadowLengthProperty> = [];\n    const missingLengths: ShadowLengthProperty['propertyType'][] =\n        [ShadowPropertyType.Spread, ShadowPropertyType.Blur, ShadowPropertyType.Y, ShadowPropertyType.X];\n    let stillAcceptsLengths = true;\n\n    // We're parsing the individual shadow properties into an array here retaining the ordering. This also looks through\n    // var() functions by re-parsing the variable values on the fly. For properties coming from a var() we're keeping\n    // track of their origin to allow for adhoc expansion when one of those properties is edited.\n\n    const queue: {\n      value: CodeMirror.SyntaxNode,\n      source: CodeMirror.SyntaxNode,\n      match: Match|undefined,\n      expansionContext: RenderingContext|null,\n    }[] =\n        shadow.map(\n            value => ({value, source: value, match: context.matchedResult.getMatch(value), expansionContext: null}));\n    for (let item = queue.shift(); item; item = queue.shift()) {\n      const {value, source, match, expansionContext} = item;\n      const text = (expansionContext ?? context).ast.text(value);\n      if (value.name === 'NumberLiteral') {\n        if (!stillAcceptsLengths) {\n          return null;\n        }\n        const propertyType = missingLengths.pop();\n        if (propertyType === undefined ||\n            (propertyType === ShadowPropertyType.Spread && this.shadowType === ShadowType.TextShadow)) {\n          return null;\n        }\n        const length = InlineEditor.CSSShadowEditor.CSSLength.parse(text);\n        if (!length) {\n          return null;\n        }\n        properties.push({value, source, length, propertyType, expansionContext});\n      } else if (match?.type === 'var') {\n        // This doesn't come from any computed text, so we can rely on context here\n        const computedValue = context.matchedResult.getComputedText(value);\n        const computedValueAst = tokenizeDeclaration('--property', computedValue);\n        if (!computedValueAst) {\n          return null;\n        }\n        const matches =\n            BottomUpTreeMatching.walkExcludingSuccessors(computedValueAst, [ColorRenderer.matcher(this.#treeElement)]);\n        if (matches.hasUnresolvedVars(matches.ast.tree)) {\n          return null;\n        }\n        queue.unshift(...ASTUtils.siblings(ASTUtils.declValue(matches.ast.tree))\n                          .map(matchedNode => ({\n                                 value: matchedNode,\n                                 source: value,\n                                 match: matches.getMatch(matchedNode),\n                                 expansionContext: new RenderingContext(computedValueAst, matches),\n                               })));\n      } else {\n        // The length properties must come in one block, so if there were any lengths before, followed by a non-length\n        // property, we will not allow any future lengths.\n        stillAcceptsLengths = missingLengths.length === 4;\n        if (value.name === 'ValueName' && text.toLowerCase() === 'inset') {\n          if (this.shadowType === ShadowType.TextShadow ||\n              properties.find(({propertyType}) => propertyType === ShadowPropertyType.Inset)) {\n            return null;\n          }\n          properties.push({value, source, propertyType: ShadowPropertyType.Inset, expansionContext});\n        } else if (match?.type === 'color' || match?.type === 'color-mix') {\n          if (properties.find(({propertyType}) => propertyType === ShadowPropertyType.Color)) {\n            return null;\n          }\n          properties.push({value, source, propertyType: ShadowPropertyType.Color, expansionContext});\n        } else if (value.name !== 'Comment' && value.name !== 'Important') {\n          return null;\n        }\n      }\n    }\n    if (missingLengths.length > 2) {\n      // X and Y are mandatory\n      return null;\n    }\n    return new ShadowModel(this.shadowType, properties, context);\n  }\n\n  override render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    const shadows = ASTUtils.split(ASTUtils.siblings(ASTUtils.declValue(node)));\n    const result: Node[] = [];\n\n    for (const shadow of shadows) {\n      const model = this.shadowModel(shadow, context);\n      const isImportant = shadow.find(node => node.name === 'Important');\n\n      if (shadow !== shadows[0]) {\n        result.push(document.createTextNode(', '));\n      }\n\n      if (!model) {\n        const {nodes} = Renderer.render(shadow, context);\n        result.push(...nodes);\n        continue;\n      }\n\n      const swatch = new InlineEditor.Swatches.CSSShadowSwatch(model);\n      swatch.setAttribute('jslog', `${VisualLogging.showStyleEditor('css-shadow').track({click: true})}`);\n      swatch.iconElement().addEventListener('click', () => {\n        Host.userMetrics.swatchActivated(Host.UserMetrics.SwatchType.Shadow);\n      });\n      model.renderContents(swatch);\n      const popoverHelper = new ShadowSwatchPopoverHelper(\n          this.#treeElement, this.#treeElement.parentPane().swatchPopoverHelper(), swatch);\n      popoverHelper.addEventListener(ShadowEvents.ShadowChanged, () => {\n        model.renderContents(swatch);\n        void this.#treeElement.applyStyleText(this.#treeElement.renderedPropertyText(), false);\n      });\n      result.push(swatch);\n\n      if (isImportant) {\n        result.push(...[document.createTextNode(' '), ...Renderer.render(isImportant, context).nodes]);\n      }\n    }\n\n    return result;\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): ShadowMatcher {\n    return new ShadowMatcher((text, type) => new ShadowRenderer(text, type, treeElement));\n  }\n}\n\nexport class FontRenderer extends FontMatch {\n  constructor(readonly treeElement: StylePropertyTreeElement, text: string) {\n    super(text);\n  }\n\n  override render(): Node[] {\n    this.treeElement.section().registerFontProperty(this.treeElement);\n    return [document.createTextNode(this.text)];\n  }\n\n  static matcher(treeElement: StylePropertyTreeElement): FontMatcher {\n    return new FontMatcher(text => new FontRenderer(treeElement, text));\n  }\n}\n\nexport class GridTemplateRenderer extends GridTemplateMatch {\n  constructor(text: string, lines: CodeMirror.SyntaxNode[][]) {\n    super(text, lines);\n  }\n\n  override render(node: CodeMirror.SyntaxNode, context: RenderingContext): Node[] {\n    if (this.lines.length <= 1) {\n      return Renderer.render(ASTUtils.siblings(ASTUtils.declValue(node)), context).nodes;\n    }\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    const container = document.createDocumentFragment();\n    for (const line of this.lines) {\n      const value = Renderer.render(line, context);\n      const lineBreak = UI.Fragment.html`<br /><span class='styles-clipboard-only'>${indent.repeat(2)}</span>`;\n      container.append(lineBreak, ...value.nodes);\n    }\n    return [container];\n  }\n\n  static matcher(): GridTemplateMatcher {\n    return new GridTemplateMatcher((text, lines) => new GridTemplateRenderer(text, lines));\n  }\n}\n\nexport class StylePropertyTreeElement extends UI.TreeOutline.TreeElement {\n  private readonly style: SDK.CSSStyleDeclaration.CSSStyleDeclaration;\n  private matchedStylesInternal: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  property: SDK.CSSProperty.CSSProperty;\n  private readonly inheritedInternal: boolean;\n  private overloadedInternal: boolean;\n  private parentPaneInternal: StylesSidebarPane;\n  #parentSection: StylePropertiesSection;\n  isShorthand: boolean;\n  private readonly applyStyleThrottler: Common.Throttler.Throttler;\n  private newProperty: boolean;\n  private expandedDueToFilter: boolean;\n  valueElement: HTMLElement|null;\n  nameElement: HTMLElement|null;\n  private expandElement: IconButton.Icon.Icon|null;\n  private originalPropertyText: string;\n  private hasBeenEditedIncrementally: boolean;\n  private prompt: CSSPropertyPrompt|null;\n  private lastComputedValue: string|null;\n  private computedStyles: Map<string, string>|null = null;\n  private parentsComputedStyles: Map<string, string>|null = null;\n  private contextForTest!: Context|undefined;\n  #propertyTextFromSource: string;\n\n  constructor(\n      {stylesPane, section, matchedStyles, property, isShorthand, inherited, overloaded, newProperty}:\n          StylePropertyTreeElementParams,\n  ) {\n    // Pass an empty title, the title gets made later in onattach.\n    const jslogContext = property.name.startsWith('--') ? 'custom-property' : property.name;\n    super('', isShorthand, jslogContext);\n    this.style = property.ownerStyle;\n    this.matchedStylesInternal = matchedStyles;\n    this.property = property;\n    this.inheritedInternal = inherited;\n    this.overloadedInternal = overloaded;\n    this.selectable = false;\n    this.parentPaneInternal = stylesPane;\n    this.#parentSection = section;\n    this.isShorthand = isShorthand;\n    this.applyStyleThrottler = new Common.Throttler.Throttler(0);\n    this.newProperty = newProperty;\n    if (this.newProperty) {\n      this.listItemElement.textContent = '';\n    }\n    this.expandedDueToFilter = false;\n    this.valueElement = null;\n    this.nameElement = null;\n    this.expandElement = null;\n    this.originalPropertyText = '';\n    this.hasBeenEditedIncrementally = false;\n    this.prompt = null;\n\n    this.lastComputedValue = null;\n\n    this.#propertyTextFromSource = property.propertyText || '';\n  }\n\n  static renderNameElement(name: string): HTMLElement {\n    const nameElement = document.createElement('span');\n    nameElement.setAttribute(\n        'jslog', `${VisualLogging.key().track({\n          change: true,\n          keydown: 'ArrowLeft|ArrowUp|PageUp|Home|PageDown|ArrowRight|ArrowDown|End|Space|Tab|Enter|Escape',\n        })}`);\n    UI.ARIAUtils.setLabel(nameElement, i18nString(UIStrings.cssPropertyName, {PH1: name}));\n    nameElement.className = 'webkit-css-property';\n    nameElement.textContent = name;\n    nameElement.normalize();\n    return nameElement;\n  }\n\n  static renderValueElement(propertyName: string, propertyValue: string, renderers: Matcher[]): HTMLElement {\n    const valueElement = document.createElement('span');\n    valueElement.setAttribute(\n        'jslog', `${VisualLogging.value().track({\n          change: true,\n          keydown: 'ArrowLeft|ArrowUp|PageUp|Home|PageDown|ArrowRight|ArrowDown|End|Space|Tab|Enter|Escape',\n        })}`);\n    UI.ARIAUtils.setLabel(valueElement, i18nString(UIStrings.cssPropertyValue, {PH1: propertyValue}));\n    valueElement.className = 'value';\n\n    renderPropertyValue(propertyName, propertyValue, renderers).forEach(node => valueElement.appendChild(node));\n    valueElement.normalize();\n    return valueElement;\n  }\n\n  matchedStyles(): SDK.CSSMatchedStyles.CSSMatchedStyles {\n    return this.matchedStylesInternal;\n  }\n\n  editable(): boolean {\n    const isLonghandInsideShorthand = this.parent instanceof StylePropertyTreeElement && this.parent.isShorthand;\n    const hasSourceData = Boolean(this.style.styleSheetId && this.style.range);\n    return !isLonghandInsideShorthand && hasSourceData;\n  }\n\n  inherited(): boolean {\n    return this.inheritedInternal;\n  }\n\n  overloaded(): boolean {\n    return this.overloadedInternal;\n  }\n\n  setOverloaded(x: boolean): void {\n    if (x === this.overloadedInternal) {\n      return;\n    }\n    this.overloadedInternal = x;\n    this.updateState();\n  }\n\n  setComputedStyles(computedStyles: Map<string, string>|null): void {\n    this.computedStyles = computedStyles;\n  }\n\n  getComputedStyle(property: string): string|null {\n    return this.computedStyles?.get(property) ?? null;\n  }\n\n  setParentsComputedStyles(parentsComputedStyles: Map<string, string>|null): void {\n    this.parentsComputedStyles = parentsComputedStyles;\n  }\n\n  get name(): string {\n    return this.property.name;\n  }\n\n  get value(): string {\n    return this.property.value;\n  }\n\n  updateFilter(): boolean {\n    const regex = this.parentPaneInternal.filterRegex();\n    const matches = regex !== null && (regex.test(this.property.name) || regex.test(this.property.value));\n    this.listItemElement.classList.toggle('filter-match', matches);\n\n    void this.onpopulate();\n    let hasMatchingChildren = false;\n\n    for (let i = 0; i < this.childCount(); ++i) {\n      const child = (this.childAt(i) as StylePropertyTreeElement | null);\n      if (!child || (child && !child.updateFilter())) {\n        continue;\n      }\n      hasMatchingChildren = true;\n    }\n\n    if (!regex) {\n      if (this.expandedDueToFilter) {\n        this.collapse();\n      }\n      this.expandedDueToFilter = false;\n    } else if (hasMatchingChildren && !this.expanded) {\n      this.expand();\n      this.expandedDueToFilter = true;\n    } else if (!hasMatchingChildren && this.expanded && this.expandedDueToFilter) {\n      this.collapse();\n      this.expandedDueToFilter = false;\n    }\n    return matches;\n  }\n\n  renderedPropertyText(): string {\n    if (!this.nameElement || !this.valueElement) {\n      return '';\n    }\n    return this.nameElement.textContent + ': ' + this.valueElement.textContent;\n  }\n\n  private processLength(lengthText: string): Text|InlineEditor.CSSLength.CSSLength {\n    if (!this.editable()) {\n      return document.createTextNode(lengthText);\n    }\n    const cssLength = new InlineEditor.CSSLength.CSSLength();\n    const valueElement = document.createElement('span');\n    valueElement.textContent = lengthText;\n    cssLength.data = {\n      lengthText,\n      overloaded: this.overloadedInternal,\n    };\n    cssLength.append(valueElement);\n\n    const onValueChanged = (event: Event): void => {\n      const {data} = (event as InlineEditor.InlineEditorUtils.ValueChangedEvent);\n\n      valueElement.textContent = data.value;\n      this.parentPaneInternal.setEditingStyle(true);\n      void this.applyStyleText(this.renderedPropertyText(), false);\n    };\n\n    const onDraggingFinished = (): void => {\n      this.parentPaneInternal.setEditingStyle(false);\n    };\n\n    cssLength.addEventListener('valuechanged', onValueChanged);\n    cssLength.addEventListener('draggingfinished', onDraggingFinished);\n\n    return cssLength;\n  }\n\n  private updateState(): void {\n    if (!this.listItemElement) {\n      return;\n    }\n\n    if (this.style.isPropertyImplicit(this.name)) {\n      this.listItemElement.classList.add('implicit');\n    } else {\n      this.listItemElement.classList.remove('implicit');\n    }\n\n    const hasIgnorableError = !this.property.parsedOk && StylesSidebarPane.ignoreErrorsForProperty(this.property);\n    if (hasIgnorableError) {\n      this.listItemElement.classList.add('has-ignorable-error');\n    } else {\n      this.listItemElement.classList.remove('has-ignorable-error');\n    }\n\n    if (this.inherited()) {\n      this.listItemElement.classList.add('inherited');\n    } else {\n      this.listItemElement.classList.remove('inherited');\n    }\n\n    if (this.overloaded()) {\n      this.listItemElement.classList.add('overloaded');\n    } else {\n      this.listItemElement.classList.remove('overloaded');\n    }\n\n    if (this.property.disabled) {\n      this.listItemElement.classList.add('disabled');\n    } else {\n      this.listItemElement.classList.remove('disabled');\n    }\n\n    this.listItemElement.classList.toggle('changed', this.isPropertyChanged(this.property));\n  }\n\n  node(): SDK.DOMModel.DOMNode|null {\n    return this.parentPaneInternal.node();\n  }\n\n  parentPane(): StylesSidebarPane {\n    return this.parentPaneInternal;\n  }\n\n  section(): StylePropertiesSection {\n    return this.#parentSection;\n  }\n\n  private updatePane(): void {\n    this.#parentSection.refreshUpdate(this);\n  }\n\n  private async toggleDisabled(disabled: boolean): Promise<void> {\n    const oldStyleRange = this.style.range;\n    if (!oldStyleRange) {\n      return;\n    }\n\n    this.parentPaneInternal.setUserOperation(true);\n    const success = await this.property.setDisabled(disabled);\n    this.parentPaneInternal.setUserOperation(false);\n\n    if (!success) {\n      return;\n    }\n    this.matchedStylesInternal.resetActiveProperties();\n    this.updatePane();\n    this.styleTextAppliedForTest();\n  }\n\n  private isPropertyChanged(property: SDK.CSSProperty.CSSProperty): boolean {\n    if (!Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.STYLES_PANE_CSS_CHANGES)) {\n      return false;\n    }\n    // Check local cache first, then check against diffs from the workspace.\n    return this.#propertyTextFromSource !== property.propertyText || this.parentPane().isPropertyChanged(property);\n  }\n\n  override async onpopulate(): Promise<void> {\n    // Only populate once and if this property is a shorthand.\n    if (this.childCount() || !this.isShorthand) {\n      return;\n    }\n\n    const longhandProperties = this.property.getLonghandProperties();\n    const leadingProperties = this.style.leadingProperties();\n\n    for (const property of longhandProperties) {\n      const name = property.name;\n      let inherited = false;\n      let overloaded = false;\n\n      inherited = this.#parentSection.isPropertyInherited(name);\n      overloaded = this.matchedStylesInternal.propertyState(property) === SDK.CSSMatchedStyles.PropertyState.Overloaded;\n\n      const leadingProperty = leadingProperties.find(property => property.name === name && property.activeInStyle());\n      if (leadingProperty) {\n        overloaded = true;\n      }\n\n      const item = new StylePropertyTreeElement({\n        stylesPane: this.parentPaneInternal,\n        section: this.#parentSection,\n        matchedStyles: this.matchedStylesInternal,\n        property,\n        isShorthand: false,\n        inherited,\n        overloaded,\n        newProperty: false,\n      });\n      item.setComputedStyles(this.computedStyles);\n      item.setParentsComputedStyles(this.parentsComputedStyles);\n      this.appendChild(item);\n    }\n  }\n\n  override onattach(): void {\n    this.updateTitle();\n\n    this.listItemElement.addEventListener('mousedown', event => {\n      if (event.button === 0) {\n        parentMap.set(this.parentPaneInternal, this);\n      }\n    }, false);\n    this.listItemElement.addEventListener('mouseup', this.mouseUp.bind(this));\n    this.listItemElement.addEventListener('click', event => {\n      if (!event.target) {\n        return;\n      }\n\n      const node = (event.target as HTMLElement);\n      if (!node.hasSelection() && event.target !== this.listItemElement) {\n        event.consume(true);\n      }\n    });\n\n    // Copy context menu.\n    this.listItemElement.addEventListener('contextmenu', this.handleCopyContextMenuEvent.bind(this));\n  }\n\n  override onexpand(): void {\n    this.updateExpandElement();\n  }\n\n  override oncollapse(): void {\n    this.updateExpandElement();\n  }\n\n  private updateExpandElement(): void {\n    if (!this.expandElement) {\n      return;\n    }\n    if (this.expanded) {\n      this.expandElement.name = 'triangle-down';\n    } else {\n      this.expandElement.name = 'triangle-right';\n    }\n  }\n\n  #getRegisteredPropertyDetails(variableName: string): ElementsComponents.CSSVariableValueView.RegisteredPropertyDetails\n      |undefined {\n    const registration = this.matchedStyles().getRegisteredProperty(variableName);\n    const goToDefinition = (): void =>\n        this.parentPaneInternal.jumpToSection(variableName, REGISTERED_PROPERTY_SECTION_NAME);\n    return registration ? {registration, goToDefinition} : undefined;\n  }\n\n  getVariablePopoverContents(variableName: string, computedValue: string|null): HTMLElement|undefined {\n    return new ElementsComponents.CSSVariableValueView.CSSVariableValueView({\n      variableName,\n      value: computedValue ?? undefined,\n      details: this.#getRegisteredPropertyDetails(variableName),\n    });\n  }\n\n  updateTitleIfComputedValueChanged(): void {\n    const computedValue = this.matchedStylesInternal.computeValue(this.property.ownerStyle, this.property.value);\n    if (computedValue === this.lastComputedValue) {\n      return;\n    }\n    this.lastComputedValue = computedValue;\n    this.innerUpdateTitle();\n  }\n\n  updateTitle(): void {\n    this.lastComputedValue = this.matchedStylesInternal.computeValue(this.property.ownerStyle, this.property.value);\n    this.innerUpdateTitle();\n  }\n\n  private innerUpdateTitle(): void {\n    this.updateState();\n    if (this.isExpandable()) {\n      this.expandElement = IconButton.Icon.create('triangle-right', 'expand-icon');\n      this.expandElement.setAttribute('jslog', `${VisualLogging.expand().track({click: true})}`);\n    }\n\n    const matchers: Matcher[] = this.property.parsedOk ?\n        [\n          VariableRenderer.matcher(this, this.style),\n          ColorRenderer.matcher(this),\n          ColorMixRenderer.matcher(this.parentPaneInternal),\n          URLRenderer.matcher(this.style.parentRule, this.node()),\n          AngleRenderer.matcher(this),\n          LinkableNameRenderer.matcher(this),\n          BezierRenderer.matcher(this),\n          StringRenderer.matcher(),\n          ShadowRenderer.matcher(this),\n          FontRenderer.matcher(this),\n          LightDarkColorRenderer.matcher(this),\n          GridTemplateRenderer.matcher(),\n        ] :\n        [];\n\n    if (!Root.Runtime.experiments.isEnabled('css-type-component-length-deprecate') && this.property.parsedOk) {\n      matchers.push(\n          new LegacyRegexMatcher(\n              new RegExp(`^${InlineEditor.CSSLengthUtils.CSSLengthRegex}$`), text => this.processLength(text)),\n      );\n    }\n\n    this.listItemElement.removeChildren();\n    this.valueElement = StylePropertyTreeElement.renderValueElement(this.name, this.value, matchers);\n    this.nameElement = StylePropertyTreeElement.renderNameElement(this.name);\n    if (this.property.name.startsWith('--') && this.nameElement) {\n      this.parentPaneInternal.addPopover(this.nameElement, {\n        contents: () => this.getVariablePopoverContents(\n            this.property.name,\n            this.matchedStylesInternal.computeCSSVariable(this.style, this.property.name)?.value ?? null),\n        jslogContext: 'elements.css-var',\n      });\n    }\n    if (!this.treeOutline) {\n      return;\n    }\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    UI.UIUtils.createTextChild(\n        this.listItemElement.createChild('span', 'styles-clipboard-only'),\n        indent.repeat(this.section().nestingLevel + 1) + (this.property.disabled ? '/* ' : ''));\n    if (this.nameElement) {\n      this.listItemElement.appendChild(this.nameElement);\n    }\n    if (this.valueElement) {\n      const lineBreakValue =\n          this.valueElement.firstElementChild && this.valueElement.firstElementChild.tagName === 'BR';\n      const separator = lineBreakValue ? ':' : ': ';\n      this.listItemElement.createChild('span', 'styles-name-value-separator').textContent = separator;\n      if (this.expandElement) {\n        this.listItemElement.appendChild(this.expandElement);\n      }\n      this.listItemElement.appendChild(this.valueElement);\n      const semicolon = this.listItemElement.createChild('span', 'styles-semicolon');\n      semicolon.textContent = ';';\n      semicolon.onmouseup = this.mouseUp.bind(this);\n      if (this.property.disabled) {\n        UI.UIUtils.createTextChild(this.listItemElement.createChild('span', 'styles-clipboard-only'), ' */');\n      }\n    }\n\n    if (this.valueElement && this.#parentSection.editable && this.property.name === 'display') {\n      const propertyValue = this.property.trimmedValueWithoutImportant();\n      const isFlex = propertyValue === 'flex' || propertyValue === 'inline-flex';\n      const isGrid = propertyValue === 'grid' || propertyValue === 'inline-grid';\n      if (isFlex || isGrid) {\n        const key = `${this.#parentSection.getSectionIdx()}_${this.#parentSection.nextEditorTriggerButtonIdx}`;\n        const button = StyleEditorWidget.createTriggerButton(\n            this.parentPaneInternal, this.#parentSection, isFlex ? FlexboxEditor : GridEditor,\n            isFlex ? i18nString(UIStrings.flexboxEditorButton) : i18nString(UIStrings.gridEditorButton), key);\n        button.setAttribute(\n            'jslog', `${VisualLogging.showStyleEditor().track({click: true}).context(isFlex ? 'flex' : 'grid')}`);\n        this.#parentSection.nextEditorTriggerButtonIdx++;\n        button.addEventListener('click', () => {\n          Host.userMetrics.swatchActivated(\n              isFlex ? Host.UserMetrics.SwatchType.Flex : Host.UserMetrics.SwatchType.Grid);\n        });\n        this.listItemElement.appendChild(button);\n        const helper = this.parentPaneInternal.swatchPopoverHelper();\n        if (helper.isShowing(StyleEditorWidget.instance()) && StyleEditorWidget.instance().getTriggerKey() === key) {\n          helper.setAnchorElement(button);\n        }\n      }\n    }\n\n    if (this.property.parsedOk) {\n      this.updateAuthoringHint();\n    } else {\n      // Avoid having longhands under an invalid shorthand.\n      this.listItemElement.classList.add('not-parsed-ok');\n\n      const registrationDetails = this.#getRegisteredPropertyDetails(this.property.name);\n      const tooltip = registrationDetails ?\n          new ElementsComponents.CSSVariableValueView.CSSVariableParserError(registrationDetails) :\n          null;\n      // Add a separate exclamation mark IMG element with a tooltip.\n      this.listItemElement.insertBefore(\n          this.parentPaneInternal.createExclamationMark(this.property, tooltip), this.listItemElement.firstChild);\n\n      // When the property is valid but the property value is invalid,\n      // add line-through only to the property value.\n      const invalidPropertyValue = SDK.CSSMetadata.cssMetadata().isCSSPropertyName(this.property.name);\n      if (invalidPropertyValue) {\n        this.listItemElement.classList.add('invalid-property-value');\n      }\n    }\n\n    if (!this.property.activeInStyle()) {\n      this.listItemElement.classList.add('inactive');\n    }\n    this.updateFilter();\n\n    if (this.property.parsedOk && this.parent && this.parent.root) {\n      const enabledCheckboxElement = document.createElement('input');\n      enabledCheckboxElement.className = 'enabled-button';\n      enabledCheckboxElement.type = 'checkbox';\n      enabledCheckboxElement.checked = !this.property.disabled;\n      enabledCheckboxElement.setAttribute('jslog', `${VisualLogging.toggle().track({click: true})}`);\n      enabledCheckboxElement.addEventListener('mousedown', event => event.consume(), false);\n      enabledCheckboxElement.addEventListener('click', event => {\n        void this.toggleDisabled(!this.property.disabled);\n        event.consume();\n      }, false);\n      if (this.nameElement && this.valueElement) {\n        UI.ARIAUtils.setLabel(\n            enabledCheckboxElement, `${this.nameElement.textContent} ${this.valueElement.textContent}`);\n      }\n\n      const copyIcon = IconButton.Icon.create('copy', 'copy');\n      UI.Tooltip.Tooltip.install(copyIcon, i18nString(UIStrings.copyDeclaration));\n      copyIcon.addEventListener('click', () => {\n        const propertyText = `${this.property.name}: ${this.property.value};`;\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(propertyText);\n        Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.DeclarationViaChangedLine);\n      });\n      this.listItemElement.append(copyIcon);\n      this.listItemElement.insertBefore(enabledCheckboxElement, this.listItemElement.firstChild);\n    }\n  }\n\n  updateAuthoringHint(): void {\n    this.listItemElement.classList.remove('inactive-property');\n    const existingElement = this.listItemElement.querySelector('.hint');\n    if (existingElement) {\n      activeHints.delete(existingElement);\n      existingElement?.closest('.hint-wrapper')?.remove();\n    }\n    const propertyName = this.property.name;\n\n    if (!cssRuleValidatorsMap.has(propertyName)) {\n      return;\n    }\n\n    // Different rules apply to SVG nodes altogether. We currently don't have SVG-specific hints.\n    if (this.node()?.isSVGNode()) {\n      return;\n    }\n\n    const cssModel = this.parentPaneInternal.cssModel();\n    const fontFaces = cssModel?.fontFaces() || [];\n\n    const localName = this.node()?.localName();\n    for (const validator of cssRuleValidatorsMap.get(propertyName) || []) {\n      const hint = validator.getHint(\n          propertyName, this.computedStyles || undefined, this.parentsComputedStyles || undefined,\n          localName?.toLowerCase(), fontFaces);\n      if (hint) {\n        Host.userMetrics.cssHintShown(validator.getMetricType());\n        const wrapper = document.createElement('span');\n        wrapper.classList.add('hint-wrapper');\n        const hintIcon = new IconButton.Icon.Icon();\n        hintIcon.data = {iconName: 'info', color: 'var(--icon-default)', width: '14px', height: '14px'};\n        hintIcon.classList.add('hint');\n        wrapper.append(hintIcon);\n        activeHints.set(hintIcon, hint);\n        this.listItemElement.append(wrapper);\n        this.listItemElement.classList.add('inactive-property');\n        break;\n      }\n    }\n  }\n\n  private mouseUp(event: MouseEvent): void {\n    const activeTreeElement = parentMap.get(this.parentPaneInternal);\n    parentMap.delete(this.parentPaneInternal);\n    if (!activeTreeElement) {\n      return;\n    }\n    if (this.listItemElement.hasSelection()) {\n      return;\n    }\n    if (UI.UIUtils.isBeingEdited((event.target as Node))) {\n      return;\n    }\n    if (event.composedPath()[0] instanceof HTMLButtonElement) {\n      return;\n    }\n\n    event.consume(true);\n\n    if (event.target === this.listItemElement) {\n      return;\n    }\n\n    let selectedElement = event.target as Element;\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event) && this.#parentSection.navigable) {\n      this.navigateToSource(selectedElement);\n      return;\n    }\n\n    if (this.expandElement && selectedElement === this.expandElement) {\n      return;\n    }\n\n    if (!this.#parentSection.editable) {\n      return;\n    }\n\n    selectedElement = selectedElement.enclosingNodeOrSelfWithClass('webkit-css-property') ||\n        selectedElement.enclosingNodeOrSelfWithClass('value') ||\n        selectedElement.enclosingNodeOrSelfWithClass('styles-semicolon');\n    if (!selectedElement || selectedElement === this.nameElement) {\n      VisualLogging.logClick(this.nameElement as Element, event);\n      this.startEditingName();\n    } else {\n      VisualLogging.logClick(this.valueElement as Element, event);\n      this.startEditingValue();\n    }\n  }\n\n  private handleContextMenuEvent(context: Context, event: Event): void {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (this.property.parsedOk && this.parent && this.parent.root) {\n      const sectionIndex = this.parentPaneInternal.focusedSectionIndex();\n      contextMenu.defaultSection().appendCheckboxItem(\n          i18nString(UIStrings.togglePropertyAndContinueEditing), async () => {\n            if (this.treeOutline) {\n              const propertyIndex = this.treeOutline.rootElement().indexOfChild(this);\n              // order matters here: this.editingCancelled may invalidate this.treeOutline.\n              this.editingCancelled(null, context);\n              await this.toggleDisabled(!this.property.disabled);\n              event.consume();\n              this.parentPaneInternal.continueEditingElement(sectionIndex, propertyIndex);\n            }\n          }, {checked: !this.property.disabled, jslogContext: 'toggle-property-and-continue-editing'});\n    }\n    const revealCallback = this.navigateToSource.bind(this) as () => void;\n    contextMenu.defaultSection().appendItem(\n        i18nString(UIStrings.revealInSourcesPanel), revealCallback, {jslogContext: 'reveal-in-sources-panel'});\n    void contextMenu.show();\n  }\n\n  private handleCopyContextMenuEvent(event: Event): void {\n    const target = (event.target as Element | null);\n\n    if (!target) {\n      return;\n    }\n\n    const contextMenu = this.createCopyContextMenu(event);\n    void contextMenu.show();\n  }\n\n  createCopyContextMenu(event: Event): UI.ContextMenu.ContextMenu {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyDeclaration), () => {\n      const propertyText = `${this.property.name}: ${this.property.value};`;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(propertyText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.DeclarationViaContextMenu);\n    }, {jslogContext: 'copy-declaration'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyProperty), () => {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.property.name);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.PropertyViaContextMenu);\n    }, {jslogContext: 'copy-property'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyValue), () => {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.property.value);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.ValueViaContextMenu);\n    }, {jslogContext: 'copy-value'});\n\n    contextMenu.headerSection().appendItem(i18nString(UIStrings.copyRule), () => {\n      const ruleText = StylesSidebarPane.formatLeadingProperties(this.#parentSection).ruleText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(ruleText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.RuleViaContextMenu);\n    }, {jslogContext: 'copy-rule'});\n\n    contextMenu.headerSection().appendItem(\n        i18nString(UIStrings.copyCssDeclarationAsJs), this.copyCssDeclarationAsJs.bind(this),\n        {jslogContext: 'copy-css-declaration-as-js'});\n\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyAllDeclarations), () => {\n      const allDeclarationText = StylesSidebarPane.formatLeadingProperties(this.#parentSection).allDeclarationText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allDeclarationText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllDeclarationsViaContextMenu);\n    }, {jslogContext: 'copy-all-declarations'});\n\n    contextMenu.clipboardSection().appendItem(\n        i18nString(UIStrings.copyAllCssDeclarationsAsJs), this.copyAllCssDeclarationAsJs.bind(this),\n        {jslogContext: 'copy-all-css-declarations-as-js'});\n\n    // TODO(changhaohan): conditionally add this item only when there are changes to copy\n    contextMenu.defaultSection().appendItem(i18nString(UIStrings.copyAllCSSChanges), async () => {\n      const allChanges = await this.parentPane().getFormattedChanges();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allChanges);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllChangesViaStylesPane);\n    }, {jslogContext: 'copy-all-css-changes'});\n\n    contextMenu.footerSection().appendItem(i18nString(UIStrings.viewComputedValue), () => {\n      void this.viewComputedValue();\n    }, {jslogContext: 'view-computed-value'});\n\n    return contextMenu;\n  }\n\n  private async viewComputedValue(): Promise<void> {\n    const computedStyleWidget = ElementsPanel.instance().getComputedStyleWidget();\n\n    if (!computedStyleWidget.isShowing()) {\n      await UI.ViewManager.ViewManager.instance().showView('Computed');\n    }\n\n    let propertyNamePattern = '';\n    if (this.isShorthand) {\n      propertyNamePattern = '^' + this.property.name + '-';\n    } else {\n      propertyNamePattern = '^' + this.property.name + '$';\n    }\n    const regex = new RegExp(propertyNamePattern, 'i');\n    await computedStyleWidget.filterComputedStyles(regex);\n\n    computedStyleWidget.input.setValue(this.property.name);\n    computedStyleWidget.input.element.focus();\n  }\n\n  private copyCssDeclarationAsJs(): void {\n    const cssDeclarationValue = getCssDeclarationAsJavascriptProperty(this.property);\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(cssDeclarationValue);\n    Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.DeclarationAsJSViaContextMenu);\n  }\n\n  private copyAllCssDeclarationAsJs(): void {\n    const leadingProperties = this.#parentSection.style().leadingProperties();\n    const cssDeclarationsAsJsProperties =\n        leadingProperties.filter(property => !property.disabled).map(getCssDeclarationAsJavascriptProperty);\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(cssDeclarationsAsJsProperties.join(',\\n'));\n    Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllDeclarationsAsJSViaContextMenu);\n  }\n\n  private navigateToSource(element: Element, omitFocus?: boolean): void {\n    if (!this.#parentSection.navigable) {\n      return;\n    }\n    const propertyNameClicked = element === this.nameElement;\n    const uiLocation = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().propertyUILocation(\n        this.property, propertyNameClicked);\n    if (uiLocation) {\n      void Common.Revealer.reveal(uiLocation, omitFocus);\n    }\n  }\n\n  startEditingValue(): void {\n    const context: Context = {\n      expanded: this.expanded,\n      hasChildren: this.isExpandable(),\n      isEditingName: false,\n      originalProperty: this.property,\n      previousContent: this.value,\n    };\n\n    // Grid definitions are often multiline. Instead of showing the authored text reformat it a little bit nicer.\n    if (SDK.CSSMetadata.cssMetadata().isGridAreaDefiningProperty(this.name)) {\n      const splitResult =\n          TextUtils.TextUtils.Utils.splitStringByRegexes(this.value, [SDK.CSSMetadata.GridAreaRowRegex]);\n      context.previousContent = splitResult.map(result => result.value.trim()).join('\\n');\n    }\n\n    this.#startEditing(context);\n  }\n\n  startEditingName(): void {\n    const context: Context = {\n      expanded: this.expanded,\n      hasChildren: this.isExpandable(),\n      isEditingName: true,\n      originalProperty: this.property,\n      previousContent: this.name.split('\\n').map(l => l.trim()).join('\\n'),\n    };\n\n    this.#startEditing(context);\n  }\n\n  #startEditing(context: Context): void {\n    this.contextForTest = context;\n\n    // FIXME: we don't allow editing of longhand properties under a shorthand right now.\n    if (this.parent instanceof StylePropertyTreeElement && this.parent.isShorthand) {\n      return;\n    }\n\n    const selectedElement = context.isEditingName ? this.nameElement : this.valueElement;\n    if (!selectedElement) {\n      return;\n    }\n\n    if (UI.UIUtils.isBeingEdited(selectedElement)) {\n      return;\n    }\n\n    // Lie about our children to prevent expanding on double click and to collapse shorthands.\n    this.setExpandable(false);\n\n    selectedElement.parentElement?.classList.add('child-editing');\n    selectedElement.textContent = context.previousContent;  // remove color swatch and the like\n\n    function pasteHandler(this: StylePropertyTreeElement, context: Context, event: Event): void {\n      const clipboardEvent = (event as ClipboardEvent);\n      const clipboardData = clipboardEvent.clipboardData;\n      if (!clipboardData) {\n        return;\n      }\n\n      const data = clipboardData.getData('Text');\n      if (!data) {\n        return;\n      }\n      const colonIdx = data.indexOf(':');\n      if (colonIdx < 0) {\n        return;\n      }\n      const name = data.substring(0, colonIdx).trim();\n      const value = data.substring(colonIdx + 1).trim();\n\n      event.preventDefault();\n\n      if (typeof context.originalName === 'undefined') {\n        if (this.nameElement) {\n          context.originalName = this.nameElement.textContent || '';\n        }\n\n        if (this.valueElement) {\n          context.originalValue = this.valueElement.textContent || '';\n        }\n      }\n      this.property.name = name;\n      this.property.value = value;\n      if (this.nameElement) {\n        this.nameElement.textContent = name;\n        this.nameElement.normalize();\n      }\n\n      if (this.valueElement) {\n        this.valueElement.textContent = value;\n        this.valueElement.normalize();\n      }\n\n      const target = (event.target as HTMLElement);\n      void this.editingCommitted(target.textContent || '', context, 'forward');\n    }\n\n    function blurListener(this: StylePropertyTreeElement, context: Context, event: Event): void {\n      const target = (event.target as HTMLElement);\n      let text: (string|null) = target.textContent;\n      if (!context.isEditingName) {\n        text = this.value || text;\n      }\n      void this.editingCommitted(text || '', context, '');\n    }\n\n    this.originalPropertyText = this.property.propertyText || '';\n\n    this.parentPaneInternal.setEditingStyle(true, this);\n    selectedElement.parentElement?.scrollIntoViewIfNeeded(false);\n\n    this.prompt = new CSSPropertyPrompt(this, context.isEditingName);\n    this.prompt.setAutocompletionTimeout(0);\n\n    this.prompt.addEventListener(UI.TextPrompt.Events.TextChanged, () => {\n      void this.applyFreeFlowStyleTextEdit(context);\n    });\n\n    const invalidString = this.property.getInvalidStringForInvalidProperty();\n    if (invalidString) {\n      UI.ARIAUtils.alert(invalidString);\n    }\n\n    const proxyElement = this.prompt.attachAndStartEditing(selectedElement, blurListener.bind(this, context));\n    this.navigateToSource(selectedElement, true);\n\n    proxyElement.addEventListener('keydown', this.editingNameValueKeyDown.bind(this, context), false);\n    proxyElement.addEventListener('keypress', this.editingNameValueKeyPress.bind(this, context), false);\n    if (context.isEditingName) {\n      proxyElement.addEventListener('paste', pasteHandler.bind(this, context), false);\n      proxyElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this, context), false);\n    }\n\n    selectedElement.getComponentSelection()?.selectAllChildren(selectedElement);\n  }\n\n  private editingNameValueKeyDown(context: Context, event: Event): void {\n    if (event.handled) {\n      return;\n    }\n\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (keyboardEvent.target as HTMLElement);\n    let result;\n    if ((keyboardEvent.key === 'Enter' && !keyboardEvent.shiftKey) ||\n        (context.isEditingName && keyboardEvent.key === ' ')) {\n      result = 'forward';\n    } else if (\n        keyboardEvent.keyCode === UI.KeyboardShortcut.Keys.Esc.code ||\n        keyboardEvent.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n      result = 'cancel';\n    } else if (\n        !context.isEditingName && this.newProperty &&\n        keyboardEvent.keyCode === UI.KeyboardShortcut.Keys.Backspace.code) {\n      // For a new property, when Backspace is pressed at the beginning of new property value, move back to the property name.\n      const selection = target.getComponentSelection();\n      if (selection && selection.isCollapsed && !selection.focusOffset) {\n        event.preventDefault();\n        result = 'backward';\n      }\n    } else if (keyboardEvent.key === 'Tab') {\n      result = keyboardEvent.shiftKey ? 'backward' : 'forward';\n      event.preventDefault();\n    }\n\n    if (result) {\n      switch (result) {\n        case 'cancel':\n          this.editingCancelled(null, context);\n          break;\n        case 'forward':\n        case 'backward':\n          void this.editingCommitted(target.textContent || '', context, result);\n          break;\n      }\n\n      event.consume();\n      return;\n    }\n  }\n\n  private editingNameValueKeyPress(context: Context, event: Event): void {\n    function shouldCommitValueSemicolon(text: string, cursorPosition: number): boolean {\n      // FIXME: should this account for semicolons inside comments?\n      let openQuote = '';\n      for (let i = 0; i < cursorPosition; ++i) {\n        const ch = text[i];\n        if (ch === '\\\\' && openQuote !== '') {\n          ++i;\n        }  // skip next character inside string\n        else if (!openQuote && (ch === '\"' || ch === '\\'')) {\n          openQuote = ch;\n        } else if (openQuote === ch) {\n          openQuote = '';\n        }\n      }\n      return !openQuote;\n    }\n\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (keyboardEvent.target as HTMLElement);\n    const keyChar = String.fromCharCode(keyboardEvent.charCode);\n    const selectionLeftOffset = this.#selectionLeftOffset(target);\n    const isFieldInputTerminated =\n        (context.isEditingName ? keyChar === ':' :\n                                 keyChar === ';' && selectionLeftOffset !== null &&\n                 shouldCommitValueSemicolon(target.textContent || '', selectionLeftOffset));\n    if (isFieldInputTerminated) {\n      // Enter or colon (for name)/semicolon outside of string (for value).\n      event.consume(true);\n      void this.editingCommitted(target.textContent || '', context, 'forward');\n      return;\n    }\n  }\n\n  /** @returns Selection offset relative to `element` */\n  #selectionLeftOffset(element: HTMLElement): number|null {\n    const selection = element.getComponentSelection();\n    if (!selection?.containsNode(element, true)) {\n      return null;\n    }\n\n    let leftOffset = selection.anchorOffset;\n    let node: ChildNode|(Node | null) = selection.anchorNode;\n\n    while (node !== element) {\n      while (node?.previousSibling) {\n        node = node.previousSibling;\n        leftOffset += node.textContent?.length ?? 0;\n      }\n      node = node?.parentNodeOrShadowHost() ?? null;\n    }\n\n    return leftOffset;\n  }\n\n  private async applyFreeFlowStyleTextEdit(context: Context): Promise<void> {\n    if (!this.prompt || !this.parentPaneInternal.node()) {\n      return;\n    }\n\n    const enteredText = this.prompt.text();\n    if (context.isEditingName && enteredText.includes(':')) {\n      void this.editingCommitted(enteredText, context, 'forward');\n      return;\n    }\n\n    const valueText = this.prompt.textWithCurrentSuggestion();\n    if (valueText.includes(';')) {\n      return;\n    }\n    // Prevent destructive side-effects during live-edit. crbug.com/433889\n    const parentNode = this.parentPaneInternal.node();\n    if (parentNode) {\n      const isPseudo = Boolean(parentNode.pseudoType());\n      if (isPseudo) {\n        if (this.name.toLowerCase() === 'content') {\n          return;\n        }\n        const lowerValueText = valueText.trim().toLowerCase();\n        if (lowerValueText.startsWith('content:') || lowerValueText === 'display: none') {\n          return;\n        }\n      }\n    }\n\n    if (context.isEditingName) {\n      if (valueText.includes(':')) {\n        await this.applyStyleText(valueText, false);\n      } else if (this.hasBeenEditedIncrementally) {\n        await this.applyOriginalStyle(context);\n      }\n    } else {\n      if (this.nameElement) {\n        await this.applyStyleText(`${this.nameElement.textContent}: ${valueText}`, false);\n      }\n    }\n  }\n\n  kickFreeFlowStyleEditForTest(): Promise<void> {\n    const context = this.contextForTest;\n    return this.applyFreeFlowStyleTextEdit((context as Context));\n  }\n\n  editingEnded(context: Context): void {\n    this.setExpandable(context.hasChildren);\n    if (context.expanded) {\n      this.expand();\n    }\n    const editedElement = context.isEditingName ? this.nameElement : this.valueElement;\n    // The proxyElement has been deleted, no need to remove listener.\n    if (editedElement && editedElement.parentElement) {\n      editedElement.parentElement.classList.remove('child-editing');\n    }\n\n    this.parentPaneInternal.setEditingStyle(false);\n  }\n\n  editingCancelled(element: Element|null, context: Context): void {\n    this.removePrompt();\n\n    if (this.hasBeenEditedIncrementally) {\n      void this.applyOriginalStyle(context);\n    } else if (this.newProperty && this.treeOutline) {\n      this.treeOutline.removeChild(this);\n    }\n    this.updateTitle();\n\n    // This should happen last, as it clears the info necessary to restore the property value after [Page]Up/Down changes.\n    this.editingEnded(context);\n  }\n\n  private async applyOriginalStyle(context: Context): Promise<void> {\n    await this.applyStyleText(this.originalPropertyText, false, context.originalProperty);\n  }\n\n  private findSibling(moveDirection: string): StylePropertyTreeElement|null {\n    let target: (StylePropertyTreeElement|null)|this = this;\n    do {\n      const sibling: UI.TreeOutline.TreeElement|null =\n          moveDirection === 'forward' ? target.nextSibling : target.previousSibling;\n      target = sibling instanceof StylePropertyTreeElement ? sibling : null;\n    } while (target && target.inherited());\n\n    return target;\n  }\n\n  private async editingCommitted(userInput: string, context: Context, moveDirection: string): Promise<void> {\n    this.removePrompt();\n    this.editingEnded(context);\n    const isEditingName = context.isEditingName;\n    // If the underlying property has been ripped out, always assume that the value having been entered was\n    // a name-value pair and attempt to process it via the SDK.\n    if (!this.nameElement || !this.valueElement) {\n      return;\n    }\n\n    const nameElementValue = this.nameElement.textContent || '';\n    const nameValueEntered = (isEditingName && nameElementValue.includes(':')) || !this.property;\n\n    // Determine where to move to before making changes\n    let createNewProperty = false;\n    let moveToSelector = false;\n    const isDataPasted = typeof context.originalName !== 'undefined';\n    const isDirtyViaPaste = isDataPasted &&\n        (this.nameElement.textContent !== context.originalName ||\n         this.valueElement.textContent !== context.originalValue);\n    const isPropertySplitPaste =\n        isDataPasted && isEditingName && this.valueElement.textContent !== context.originalValue;\n    let moveTo: (StylePropertyTreeElement|null)|this = this;\n    const moveToOther = (isEditingName !== (moveDirection === 'forward'));\n    const abandonNewProperty = this.newProperty && !userInput && (moveToOther || isEditingName);\n    if (moveDirection === 'forward' && (!isEditingName || isPropertySplitPaste) ||\n        moveDirection === 'backward' && isEditingName) {\n      moveTo = moveTo.findSibling(moveDirection);\n      if (!moveTo) {\n        if (moveDirection === 'forward' && (!this.newProperty || userInput)) {\n          createNewProperty = true;\n        } else if (moveDirection === 'backward') {\n          moveToSelector = true;\n        }\n      }\n    }\n\n    // Make the Changes and trigger the moveToNextCallback after updating.\n    let moveToIndex = -1;\n    if (moveTo !== null && this.treeOutline) {\n      moveToIndex = this.treeOutline.rootElement().indexOfChild((moveTo as UI.TreeOutline.TreeElement));\n    }\n    const blankInput = Platform.StringUtilities.isWhitespace(userInput);\n    const shouldCommitNewProperty = this.newProperty &&\n        (isPropertySplitPaste || moveToOther || (!moveDirection && !isEditingName) || (isEditingName && blankInput) ||\n         nameValueEntered);\n    if (((userInput !== context.previousContent || isDirtyViaPaste) && !this.newProperty) || shouldCommitNewProperty) {\n      let propertyText;\n      if (nameValueEntered) {\n        propertyText = this.nameElement.textContent;\n      } else if (\n          blankInput ||\n          (this.newProperty && Platform.StringUtilities.isWhitespace(this.valueElement.textContent || ''))) {\n        propertyText = '';\n      } else {\n        if (isEditingName) {\n          propertyText = userInput + ': ' + this.property.value;\n        } else {\n          propertyText = this.property.name + ': ' + userInput;\n        }\n      }\n      await this.applyStyleText(propertyText || '', true);\n      moveToNextCallback.call(this, this.newProperty, !blankInput, this.#parentSection);\n    } else {\n      if (isEditingName) {\n        this.property.name = userInput;\n      } else {\n        this.property.value = userInput;\n      }\n      if (!isDataPasted && !this.newProperty) {\n        this.updateTitle();\n      }\n      moveToNextCallback.call(this, this.newProperty, false, this.#parentSection);\n    }\n\n    /**\n     * The Callback to start editing the next/previous property/selector.\n     */\n    function moveToNextCallback(\n        this: StylePropertyTreeElement, alreadyNew: boolean, valueChanged: boolean,\n        section: StylePropertiesSection): void {\n      if (!moveDirection) {\n        this.parentPaneInternal.resetFocus();\n        return;\n      }\n\n      // User just tabbed through without changes.\n      if (moveTo && moveTo.parent) {\n        if (isEditingName) {\n          moveTo.startEditingValue();\n        } else {\n          moveTo.startEditingName();\n        }\n        return;\n      }\n\n      // User has made a change then tabbed, wiping all the original treeElements.\n      // Recalculate the new treeElement for the same property we were going to edit next.\n      if (moveTo && !moveTo.parent) {\n        const rootElement = section.propertiesTreeOutline.rootElement();\n        if (moveDirection === 'forward' && blankInput && !isEditingName) {\n          --moveToIndex;\n        }\n        if (moveToIndex >= rootElement.childCount() && !this.newProperty) {\n          createNewProperty = true;\n        } else {\n          const treeElement =\n              (moveToIndex >= 0 ? rootElement.childAt(moveToIndex) : null) as StylePropertyTreeElement | null;\n          if (treeElement) {\n            if (alreadyNew && blankInput) {\n              if (moveDirection === 'forward') {\n                treeElement.startEditingName();\n              } else {\n                treeElement.startEditingValue();\n              }\n            } else if (!isEditingName || isPropertySplitPaste) {\n              treeElement.startEditingName();\n            } else {\n              treeElement.startEditingValue();\n            }\n            return;\n          }\n          if (!alreadyNew) {\n            moveToSelector = true;\n          }\n        }\n      }\n\n      // Create a new attribute in this section (or move to next editable selector if possible).\n      if (createNewProperty) {\n        if (alreadyNew && !valueChanged && (isEditingName !== (moveDirection === 'backward'))) {\n          return;\n        }\n\n        section.addNewBlankProperty().startEditingName();\n        return;\n      }\n\n      if (abandonNewProperty) {\n        moveTo = this.findSibling(moveDirection);\n        const sectionToEdit = (moveTo || moveDirection === 'backward') ? section : section.nextEditableSibling();\n        if (sectionToEdit) {\n          if (sectionToEdit.style().parentRule) {\n            sectionToEdit.startEditingSelector();\n          } else {\n            sectionToEdit.moveEditorFromSelector(moveDirection);\n          }\n        }\n        return;\n      }\n\n      if (moveToSelector) {\n        if (section.style().parentRule) {\n          section.startEditingSelector();\n        } else {\n          section.moveEditorFromSelector(moveDirection);\n        }\n      }\n    }\n  }\n\n  private removePrompt(): void {\n    // BUG 53242. This cannot go into editingEnded(), as it should always happen first for any editing outcome.\n    if (this.prompt) {\n      this.prompt.detach();\n      this.prompt = null;\n    }\n  }\n\n  styleTextAppliedForTest(): void {\n  }\n\n  applyStyleText(styleText: string, majorChange: boolean, property?: SDK.CSSProperty.CSSProperty|null): Promise<void> {\n    return this.applyStyleThrottler.schedule(this.innerApplyStyleText.bind(this, styleText, majorChange, property));\n  }\n\n  private async innerApplyStyleText(\n      styleText: string, majorChange: boolean, property?: SDK.CSSProperty.CSSProperty|null): Promise<void> {\n    // this.property might have been nulled at the end of the last innerApplyStyleText\n    if (!this.treeOutline || !this.property) {\n      return;\n    }\n\n    const oldStyleRange = this.style.range;\n    if (!oldStyleRange) {\n      return;\n    }\n\n    const hasBeenEditedIncrementally = this.hasBeenEditedIncrementally;\n    styleText = styleText.replace(/[\\xA0\\t]/g, ' ').trim();  // Replace &nbsp; with whitespace.\n    if (!styleText.length && majorChange && this.newProperty && !hasBeenEditedIncrementally) {\n      // The user deleted everything and never applied a new property value via Up/Down scrolling/live editing, so remove the tree element and update.\n      this.parent && this.parent.removeChild(this);\n      return;\n    }\n\n    const currentNode = this.parentPaneInternal.node();\n    this.parentPaneInternal.setUserOperation(true);\n\n    styleText += Platform.StringUtilities.findUnclosedCssQuote(styleText);\n    styleText += ')'.repeat(Platform.StringUtilities.countUnmatchedLeftParentheses(styleText));\n\n    // Append a \";\" if the new text does not end in \";\".\n    // FIXME: this does not handle trailing comments.\n    if (styleText.length && !/;\\s*$/.test(styleText)) {\n      styleText += ';';\n    }\n\n    const overwriteProperty = !this.newProperty || hasBeenEditedIncrementally;\n    let success: boolean = await this.property.setText(styleText, majorChange, overwriteProperty);\n    // Revert to the original text if applying the new text failed\n    if (hasBeenEditedIncrementally && majorChange && !success) {\n      majorChange = false;\n      success = await this.property.setText(this.originalPropertyText, majorChange, overwriteProperty);\n    }\n    this.parentPaneInternal.setUserOperation(false);\n\n    // TODO: using this.property.index to access its containing StyleDeclaration's property will result in\n    // off-by-1 errors when the containing StyleDeclaration's respective property has already been deleted.\n    // These referencing logic needs to be updated to be more robust.\n    const updatedProperty = property || this.style.propertyAt(this.property.index);\n    const isPropertyWithinBounds = this.property.index < this.style.allProperties().length;\n    if (!success || (!updatedProperty && isPropertyWithinBounds)) {\n      if (majorChange) {\n        // It did not apply, cancel editing.\n        if (this.newProperty) {\n          this.treeOutline.removeChild(this);\n        } else {\n          this.updateTitle();\n        }\n      }\n      this.styleTextAppliedForTest();\n      return;\n    }\n    if (updatedProperty) {\n      this.listItemElement.classList.toggle('changed', this.isPropertyChanged(updatedProperty));\n      this.parentPane().updateChangeStatus();\n    }\n\n    this.matchedStylesInternal.resetActiveProperties();\n    this.hasBeenEditedIncrementally = true;\n\n    // null check for updatedProperty before setting this.property as the code never expects this.property to be undefined or null.\n    // This occurs when deleting the last index of a StylePropertiesSection as this.style._allProperties array gets updated\n    // before we index it when setting the value for updatedProperty\n    const deleteProperty = majorChange && !styleText.length;\n    if (deleteProperty) {\n      this.#parentSection.resetToolbars();\n    } else if (!deleteProperty && updatedProperty) {\n      this.property = updatedProperty;\n    }\n\n    if (currentNode === this.node()) {\n      this.updatePane();\n    }\n\n    this.styleTextAppliedForTest();\n  }\n\n  override ondblclick(): boolean {\n    return true;  // handled\n  }\n\n  override isEventWithinDisclosureTriangle(event: Event): boolean {\n    return event.target === this.expandElement;\n  }\n}\nexport interface Context {\n  expanded: boolean;\n  hasChildren: boolean;\n  isEditingName: boolean;\n  originalProperty?: SDK.CSSProperty.CSSProperty;\n  originalName?: string;\n  originalValue?: string;\n  previousContent: string;\n}\n"]}