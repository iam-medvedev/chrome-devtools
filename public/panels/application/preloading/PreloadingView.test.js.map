{"version":3,"file":"PreloadingView.test.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/application/preloading/PreloadingView.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport {assertGridContents, assertGridWidgetContents} from '../../../testing/DataGridHelpers.js';\nimport {\n  getCleanTextContentFromElements,\n  getElementWithinComponent,\n  renderElementIntoDOM,\n} from '../../../testing/DOMHelpers.js';\nimport {createTarget} from '../../../testing/EnvironmentHelpers.js';\nimport {\n  describeWithMockConnection,\n  dispatchEvent,\n} from '../../../testing/MockConnection.js';\nimport * as RenderCoordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as ReportView from '../../../ui/components/report_view/report_view.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as Resources from '../application.js';\n\nimport * as PreloadingComponents from './components/components.js';\n\nconst zip2 = <T, S>(xs: T[], ys: S[]) => {\n  assert.strictEqual(xs.length, ys.length);\n\n  return Array.from(xs.map((_, i) => [xs[i], ys[i]]));\n};\n\nconst doubleRaf = () => new Promise(resolve => requestAnimationFrame(() => requestAnimationFrame(resolve)));\n\n/** Holds targets and ids, and emits events. **/\nclass NavigationEmulator {\n  private seq = 0;\n  private tabTarget: SDK.Target.Target;\n  primaryTarget: SDK.Target.Target;\n  private frameId: Protocol.Page.FrameId;\n  private loaderId: Protocol.Network.LoaderId;\n  private prerenderTarget: SDK.Target.Target|null = null;\n  private prerenderStatusUpdatedEvent: Protocol.Preload.PrerenderStatusUpdatedEvent|null = null;\n\n  constructor() {\n    this.tabTarget = createTarget({type: SDK.Target.Type.TAB});\n    // Fill fake ones here and fill real ones in async part.\n    this.primaryTarget = createTarget();\n    this.frameId = 'fakeFrameId' as Protocol.Page.FrameId;\n    this.loaderId = 'fakeLoaderId' as Protocol.Network.LoaderId;\n  }\n\n  private async createTarget(targetInfo: Protocol.Target.TargetInfo, sessionId: Protocol.Target.SessionID):\n      Promise<SDK.Target.Target> {\n    const childTargetManager = this.tabTarget.model(SDK.ChildTargetManager.ChildTargetManager);\n\n    dispatchEvent(this.tabTarget, 'Target.targetCreated', {targetInfo});\n\n    await childTargetManager!.attachedToTarget({\n      sessionId,\n      targetInfo,\n      waitingForDebugger: false,\n    });\n\n    const target = SDK.TargetManager.TargetManager.instance().targetById(targetInfo.targetId);\n    assert.exists(target);\n\n    return target;\n  }\n\n  async openDevTools(): Promise<void> {\n    const url = 'https://example.com/';\n\n    const targetId = `targetId:${this.seq}` as Protocol.Target.TargetID;\n    const sessionId = `sessionId:${this.seq}` as Protocol.Target.SessionID;\n    const targetInfo = {\n      targetId,\n      type: 'page',\n      title: 'title',\n      url,\n      attached: true,\n      canAccessOpener: false,\n    };\n    this.primaryTarget = await this.createTarget(targetInfo, sessionId);\n    this.frameId = 'frameId' as Protocol.Page.FrameId;\n    this.loaderId = 'loaderId' as Protocol.Network.LoaderId;\n    SDK.TargetManager.TargetManager.instance().setScopeTarget(this.primaryTarget);\n  }\n\n  async navigateAndDispatchEvents(path: string): Promise<void> {\n    const url = 'https://example.com/' + path;\n    this.seq++;\n    this.loaderId = `loaderId:${this.seq}` as Protocol.Network.LoaderId;\n\n    assert.notStrictEqual(url, this.prerenderTarget?.targetInfo()?.url);\n\n    dispatchEvent(this.primaryTarget, 'Page.frameNavigated', {\n      frame: {\n        id: this.frameId,\n        loaderId: this.loaderId,\n        url,\n        domainAndRegistry: 'example.com',\n        securityOrigin: 'https://example.com/',\n        mimeType: 'text/html',\n        secureContextType: Protocol.Page.SecureContextType.Secure,\n        crossOriginIsolatedContextType: Protocol.Page.CrossOriginIsolatedContextType.Isolated,\n        gatedAPIFeatures: [],\n      },\n      type: Protocol.Page.NavigationType.Navigation,\n    });\n  }\n\n  async activateAndDispatchEvents(path: string): Promise<void> {\n    const url = 'https://example.com/' + path;\n\n    assert.exists(this.prerenderTarget);\n    assert.strictEqual(url, this.prerenderTarget.targetInfo()?.url);\n    assert.exists(this.prerenderStatusUpdatedEvent);\n\n    this.seq++;\n    this.loaderId = this.prerenderStatusUpdatedEvent.key.loaderId;\n\n    const targetInfo = this.prerenderTarget.targetInfo();\n    assert.exists(targetInfo);\n\n    // This also emits ResourceTreeModel.Events.PrimaryPageChanged.\n    dispatchEvent(this.tabTarget, 'Target.targetInfoChanged', {\n      targetInfo: {\n        ...targetInfo,\n        subtype: undefined,\n      },\n    });\n\n    // Notify a new model to PreloadingModelProxy.\n    this.primaryTarget = this.prerenderTarget;\n    this.prerenderTarget = null;\n    SDK.TargetManager.TargetManager.instance().setScopeTarget(this.primaryTarget);\n\n    // Strictly speaking, we have to emit an event for SDK.PreloadingModel.PreloadingStatus.Ready earlier.\n    // It's not so important and omitted.\n    dispatchEvent(this.primaryTarget, 'Preload.prerenderStatusUpdated', {\n      ...this.prerenderStatusUpdatedEvent,\n      status: Protocol.Preload.PreloadingStatus.Success,\n    });\n  }\n\n  async addSpecRules(specrules: string): Promise<void> {\n    this.seq++;\n\n    // For simplicity, we only emit errors if parse failed.\n    let json;\n    try {\n      json = JSON.parse(specrules);\n    } catch {\n      dispatchEvent(this.primaryTarget, 'Preload.ruleSetUpdated', {\n        ruleSet: {\n          id: `ruleSetId:0.${this.seq}` as Protocol.Preload.RuleSetId,\n          loaderId: this.loaderId,\n          sourceText: specrules,\n          backendNodeId: this.seq as Protocol.DOM.BackendNodeId,\n          errorType: Protocol.Preload.RuleSetErrorType.SourceIsNotJsonObject,\n          errorMessage: 'fake error message',\n        },\n      });\n      return;\n    }\n\n    dispatchEvent(this.primaryTarget, 'Preload.ruleSetUpdated', {\n      ruleSet: {\n        id: `ruleSetId:0.${this.seq}` as Protocol.Preload.RuleSetId,\n        loaderId: this.loaderId,\n        sourceText: specrules,\n        backendNodeId: this.seq as Protocol.DOM.BackendNodeId,\n      },\n    });\n\n    for (const prefetchAttempt of json['prefetch'] || []) {\n      // For simplicity\n      assert.strictEqual(prefetchAttempt['source'], 'list');\n      assert.lengthOf(prefetchAttempt['urls'], 1);\n\n      const url = 'https://example.com' + prefetchAttempt['urls'][0];\n\n      dispatchEvent(this.primaryTarget, 'Preload.prefetchStatusUpdated', {\n        key: {\n          loaderId: this.loaderId,\n          action: Protocol.Preload.SpeculationAction.Prefetch,\n          url,\n        },\n        initiatingFrameId: this.frameId,\n        prefetchUrl: url,\n        status: Protocol.Preload.PreloadingStatus.Running,\n      } as Protocol.Preload.PrefetchStatusUpdatedEvent);\n    }\n\n    if (json['prerender'] === undefined) {\n      return;\n    }\n\n    // For simplicity\n    assert.lengthOf(json['prerender'], 1);\n    assert.strictEqual(json['prerender'][0]['source'], 'list');\n    assert.lengthOf(json['prerender'][0]['urls'], 1);\n\n    const prerenderUrl = 'https://example.com' + json['prerender'][0]['urls'][0];\n\n    this.prerenderStatusUpdatedEvent = {\n      key: {\n        loaderId: this.loaderId,\n        action: Protocol.Preload.SpeculationAction.Prerender,\n        url: prerenderUrl,\n      },\n      pipelineId: `pipelineId:0.${this.seq}` as Protocol.Preload.PreloadPipelineId,\n      status: Protocol.Preload.PreloadingStatus.Running,\n    };\n    dispatchEvent(this.primaryTarget, 'Preload.prerenderStatusUpdated', this.prerenderStatusUpdatedEvent);\n\n    const sessionId = `sessionId:prerender:${this.seq}` as Protocol.Target.SessionID;\n    const targetInfo = {\n      targetId: `targetId:prerender:${this.seq}` as Protocol.Target.TargetID,\n      type: 'page',\n      subtype: 'prerender',\n      url: prerenderUrl,\n      title: '',\n      attached: true,\n      canAccessOpener: true,\n    };\n    this.prerenderTarget = await this.createTarget(targetInfo, sessionId);\n\n    // Note that Page.frameNavigated is emitted here.\n    // See also https://crbug.com/1317959 and ResourceTreeModel.Events.PrimaryPageChanged.\n    dispatchEvent(this.prerenderTarget, 'Page.frameNavigated', {\n      frame: {\n        id: `frameId:prerender:${this.seq}` as Protocol.Page.FrameId,\n        loaderId: `loaderId:prerender:${this.seq}` as Protocol.Network.LoaderId,\n        url: prerenderUrl,\n        domainAndRegistry: 'example.com',\n        securityOrigin: 'https://example.com/',\n        mimeType: 'text/html',\n        secureContextType: Protocol.Page.SecureContextType.Secure,\n        crossOriginIsolatedContextType: Protocol.Page.CrossOriginIsolatedContextType.Isolated,\n        gatedAPIFeatures: [],\n      },\n      type: Protocol.Page.NavigationType.Navigation,\n    });\n  }\n}\n\nfunction createRuleSetView(target: SDK.Target.Target): Resources.PreloadingView.PreloadingRuleSetView {\n  const model = target.model(SDK.PreloadingModel.PreloadingModel);\n  assert.exists(model);\n  const view = new Resources.PreloadingView.PreloadingRuleSetView(model);\n  const container = new UI.Widget.VBox();\n  const div = document.createElement('div');\n  view.contentElement.style.width = '640px';\n  view.contentElement.style.height = '480px';\n\n  renderElementIntoDOM(div);\n  container.markAsRoot();\n  container.show(div);\n  view.show(container.element);\n  // Ensure PreloadingModelProxy.initialize to be called.\n  view.wasShown();\n\n  return view;\n}\n\nfunction createAttemptView(target: SDK.Target.Target): Resources.PreloadingView.PreloadingAttemptView {\n  const model = target.model(SDK.PreloadingModel.PreloadingModel);\n  assert.exists(model);\n  const view = new Resources.PreloadingView.PreloadingAttemptView(model);\n  const container = new UI.Widget.VBox();\n  const div = document.createElement('div');\n  view.contentElement.style.width = '640px';\n  view.contentElement.style.height = '480px';\n  renderElementIntoDOM(div);\n  container.markAsRoot();\n  container.show(div);\n  view.show(container.element);\n  // Ensure PreloadingModelProxy.initialize to be called.\n  view.wasShown();\n\n  return view;\n}\n\nfunction createSummaryView(target: SDK.Target.Target): Resources.PreloadingView.PreloadingSummaryView {\n  const model = target.model(SDK.PreloadingModel.PreloadingModel);\n  assert.exists(model);\n  const view = new Resources.PreloadingView.PreloadingSummaryView(model);\n  const container = new UI.Widget.VBox();\n  const div = document.createElement('div');\n  renderElementIntoDOM(div);\n  container.markAsRoot();\n  container.show(div);\n  view.show(container.element);\n  // Ensure PreloadingModelProxy.initialize to be called.\n  view.wasShown();\n\n  return view;\n}\n\ndescribeWithMockConnection('PreloadingRuleSetView', () => {\n  beforeEach(() => {\n    SDK.ChildTargetManager.ChildTargetManager.install();\n  });\n\n  it('renders placeholder', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n    await RenderCoordinator.done();\n\n    const placeholder = view.contentElement.querySelector('.empty-state');\n    assert.exists(placeholder);\n    assert.deepEqual(window.getComputedStyle(placeholder).display, 'flex');\n\n    const header = placeholder.querySelector('.empty-state-header')?.textContent;\n    const description = placeholder.querySelector('.empty-state-description > span')?.textContent;\n\n    assert.deepEqual(header, 'No rules detected');\n    assert.deepEqual(\n        description,\n        'On this page you will see the speculation rules used to prefetch and prerender page navigations.');\n\n    const rules = view.contentElement.querySelector('devtools-split-view');\n    assert.exists(rules);\n    assert.deepEqual(window.getComputedStyle(rules).display, 'none');\n  });\n\n  it('renders grid and details and hides placeholder', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n    dispatchEvent(emulator.primaryTarget, 'Preload.preloadingAttemptSourcesUpdated', {\n      loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n      preloadingAttemptSources: [\n        {\n          key: {\n            loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n            action: Protocol.Preload.SpeculationAction.Prerender,\n            url: 'https://example.com/prerendered.html',\n          },\n          ruleSetIds: ['ruleSetId:0.2'] as Protocol.Preload.RuleSetId[],\n          nodeIds: [],\n        },\n      ],\n    });\n\n    await RenderCoordinator.done();\n    await doubleRaf();\n\n    const ruleSetGrid = view.getRuleSetGridForTest();\n    assert.isNotNull(ruleSetGrid.element.shadowRoot);\n\n    assertGridContents(\n        ruleSetGrid.element,\n        ['Rule set', 'Status'],\n        [\n          ['example.com/', '1 running'],\n        ],\n    );\n\n    const placeholder = view.contentElement.querySelector('.empty-state');\n    assert.exists(placeholder);\n    assert.deepEqual(window.getComputedStyle(placeholder).display, 'none');\n  });\n\n  it('shows error of rule set', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n`);\n\n    await RenderCoordinator.done();\n    await doubleRaf();\n\n    const ruleSetGrid = view.getRuleSetGridForTest();\n    assert.isNotNull(ruleSetGrid.element.shadowRoot);\n\n    assertGridContents(\n        ruleSetGrid.element,\n        ['Rule set', 'Status'],\n        [\n          ['example.com/', '1 error'],\n        ],\n\n    );\n\n    ruleSetGrid.dispatchEventToListeners(\n        PreloadingComponents.RuleSetGrid.Events.SELECT, 'ruleSetId:0.2' as Protocol.Preload.RuleSetId);\n\n    await RenderCoordinator.done();\n    const ruleSetDetailsElement =\n        view.contentElement\n            .querySelector<UI.Widget.WidgetElement<PreloadingComponents.RuleSetDetailsView.RuleSetDetailsView>>(\n                'devtools-widget');\n    const ruleSetDetailsComponent = ruleSetDetailsElement?.getWidget();\n    assert.exists(ruleSetDetailsComponent);\n    await ruleSetDetailsComponent.updateComplete;\n\n    assert.deepEqual(\n        ruleSetDetailsComponent.contentElement.querySelector('#ruleset-url')?.textContent, 'https://example.com/');\n    assert.deepEqual(\n        ruleSetDetailsComponent.contentElement.querySelector('#error-message-text')?.textContent, 'fake error message');\n  });\n\n  it('clears SpeculationRules for previous pages', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n    await emulator.navigateAndDispatchEvents('notprerendered.html');\n\n    await RenderCoordinator.done();\n    await doubleRaf();\n\n    const ruleSetGrid = view.getRuleSetGridForTest();\n    assert.isNotNull(ruleSetGrid.element.shadowRoot);\n\n    assertGridContents(\n        ruleSetGrid.element,\n        ['Rule set', 'Status'],\n        [],\n    );\n  });\n\n  it('clears SpeculationRules for previous pages when prerendered page activated', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n    await emulator.activateAndDispatchEvents('prerendered.html');\n\n    await RenderCoordinator.done();\n    await doubleRaf();\n\n    const ruleSetGrid = view.getRuleSetGridForTest();\n    assert.isNotNull(ruleSetGrid.element.shadowRoot);\n\n    assertGridContents(\n        ruleSetGrid.element,\n        ['Rule set', 'Status'],\n        [],\n    );\n  });\n\n  // See https://crbug.com/1432880\n  it('preserves information even if iframe loaded', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createRuleSetView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    const targetInfo = {\n      targetId: 'targetId' as Protocol.Target.TargetID,\n      type: 'iframe',\n      title: 'title',\n      url: 'https://example.com/iframe.html',\n      attached: true,\n      canAccessOpener: false,\n    };\n    const childTargetManager = emulator.primaryTarget.model(SDK.ChildTargetManager.ChildTargetManager);\n    assert.exists(childTargetManager);\n\n    dispatchEvent(emulator.primaryTarget, 'Target.targetCreated', {targetInfo});\n\n    await childTargetManager.attachedToTarget({\n      sessionId: 'sessionId' as Protocol.Target.SessionID,\n      targetInfo,\n      waitingForDebugger: false,\n    });\n\n    await RenderCoordinator.done();\n    await doubleRaf();\n\n    const ruleSetGrid = view.getRuleSetGridForTest();\n    assert.isNotNull(ruleSetGrid.element.shadowRoot);\n\n    assertGridContents(\n        ruleSetGrid.element,\n        ['Rule set', 'Status'],\n        [\n          ['example.com/', ''],\n        ],\n    );\n  });\n});\n\ndescribeWithMockConnection('PreloadingAttemptView', () => {\n  beforeEach(() => {\n    SDK.ChildTargetManager.ChildTargetManager.install();\n  });\n\n  it('renders placeholder', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n    await RenderCoordinator.done();\n\n    const placeholder = view.contentElement.querySelector('.empty-state');\n    assert.exists(placeholder);\n    assert.deepEqual(window.getComputedStyle(placeholder).display, 'flex');\n\n    const header = placeholder.querySelector('.empty-state-header')?.textContent;\n    const description = placeholder.querySelector('.empty-state-description > span')?.textContent;\n\n    assert.deepEqual(header, 'No speculation detected');\n    assert.deepEqual(description, 'On this page you will see details on speculative loads.');\n\n    const rules = view.contentElement.querySelector('devtools-split-view');\n    assert.exists(rules);\n    assert.deepEqual(window.getComputedStyle(rules).display, 'none');\n  });\n\n  it('renders grid and details and hides placeholder', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    await RenderCoordinator.done();\n\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n\n    assert.isNotNull(preloadingGridComponent.contentElement);\n    const preloadingDetailsComponent = view.getPreloadingDetailsForTest();\n    assert.isNotNull(preloadingDetailsComponent.shadowRoot);\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/prerendered.html',\n            'Prerender',\n            '',\n            'Running',\n          ],\n        ],\n    );\n\n    const placeholder = view.contentElement.querySelector('.empty-state');\n    assert.exists(placeholder);\n    assert.deepEqual(window.getComputedStyle(placeholder).display, 'none');\n  });\n\n  // See https://crbug.com/1432880\n  it('preserves information even if iframe loaded', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    const targetInfo = {\n      targetId: 'targetId' as Protocol.Target.TargetID,\n      type: 'iframe',\n      title: 'title',\n      url: 'https://example.com/iframe.html',\n      attached: true,\n      canAccessOpener: false,\n    };\n    const childTargetManager = emulator.primaryTarget.model(SDK.ChildTargetManager.ChildTargetManager);\n    assert.exists(childTargetManager);\n\n    dispatchEvent(emulator.primaryTarget, 'Target.targetCreated', {targetInfo});\n\n    await childTargetManager.attachedToTarget({\n      sessionId: 'sessionId' as Protocol.Target.SessionID,\n      targetInfo,\n      waitingForDebugger: false,\n    });\n\n    await RenderCoordinator.done();\n\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n    assert.isNotNull(preloadingGridComponent.contentElement);\n    const preloadingDetailsComponent = view.getPreloadingDetailsForTest();\n    assert.isNotNull(preloadingDetailsComponent.shadowRoot);\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/prerendered.html',\n            'Prerender',\n            '',\n            'Running',\n          ],\n        ],\n    );\n\n    const placeholderHeader = preloadingDetailsComponent.shadowRoot.querySelector('.empty-state-header');\n    assert.strictEqual(placeholderHeader?.textContent?.trim(), 'No element selected');\n\n    const placeholderDescription = preloadingDetailsComponent.shadowRoot.querySelector('.empty-state-description');\n    assert.strictEqual(placeholderDescription?.textContent, 'Select an element for more details');\n  });\n\n  it('filters preloading attempts by selected rule set', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    // ruleSetId:0.2\n    await emulator.addSpecRules(`\n{\n  \"prefetch\": [\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/subresource2.js\"]\n    }\n  ]\n}\n`);\n    await emulator.addSpecRules(`\n{\n  \"prerender\": [\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered3.html\"]\n    }\n  ]\n}\n`);\n    dispatchEvent(emulator.primaryTarget, 'Preload.preloadingAttemptSourcesUpdated', {\n      loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n      preloadingAttemptSources: [\n        {\n          key: {\n            loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n            action: Protocol.Preload.SpeculationAction.Prefetch,\n            url: 'https://example.com/subresource2.js',\n          },\n          ruleSetIds: ['ruleSetId:0.2'] as Protocol.Preload.RuleSetId[],\n          nodeIds: [2, 3] as Protocol.DOM.BackendNodeId[],\n        },\n        {\n          key: {\n            loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n            action: Protocol.Preload.SpeculationAction.Prerender,\n            url: 'https://example.com/prerendered3.html',\n          },\n          ruleSetIds: ['ruleSetId:0.3'] as Protocol.Preload.RuleSetId[],\n          nodeIds: [3] as Protocol.DOM.BackendNodeId[],\n        },\n      ],\n    });\n\n    await RenderCoordinator.done();\n\n    const ruleSetSelectorToolbarItem = view.getRuleSetSelectorToolbarItemForTest();\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n    assert.isNotNull(preloadingGridComponent.contentElement);\n\n    assert.strictEqual(ruleSetSelectorToolbarItem.element.querySelector('span')?.textContent, 'All speculative loads');\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/subresource2.js',\n            'Prefetch',\n            'example.com/',\n            'Running',\n          ],\n          [\n            '/prerendered3.html',\n            'Prerender',\n            'example.com/',\n            'Running',\n          ],\n        ],\n    );\n\n    // Turn on filtering.\n    view.selectRuleSetOnFilterForTest('ruleSetId:0.2' as Protocol.Preload.RuleSetId);\n\n    await RenderCoordinator.done();\n\n    assert.strictEqual(ruleSetSelectorToolbarItem.element.querySelector('span')?.textContent, 'example.com/');\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/subresource2.js',\n            'Prefetch',\n            'example.com/',\n            'Running',\n          ],\n        ],\n    );\n\n    // Turn off filtering.\n    view.selectRuleSetOnFilterForTest(null);\n\n    await RenderCoordinator.done();\n\n    assert.strictEqual(ruleSetSelectorToolbarItem.element.querySelector('span')?.textContent, 'All speculative loads');\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/subresource2.js',\n            'Prefetch',\n            'example.com/',\n            'Running',\n          ],\n          [\n            '/prerendered3.html',\n            'Prerender',\n            'example.com/',\n            'Running',\n          ],\n        ],\n    );\n  });\n\n  it('shows prerender details with Investigate button for Running', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    await RenderCoordinator.done();\n\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n    assert.isNotNull(preloadingGridComponent.contentElement);\n    const preloadingDetailsComponent = view.getPreloadingDetailsForTest();\n    assert.isNotNull(preloadingDetailsComponent.shadowRoot);\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/prerendered.html',\n            'Prerender',\n            '',\n            'Running',\n          ],\n        ],\n    );\n\n    preloadingGridComponent.contentElement.querySelectorAll('tr')[1].dispatchEvent(new Event('select'));\n\n    await RenderCoordinator.done();\n\n    const report =\n        getElementWithinComponent(preloadingDetailsComponent, 'devtools-report', ReportView.ReportView.Report);\n\n    const keys = getCleanTextContentFromElements(report, 'devtools-report-key');\n    const values = getCleanTextContentFromElements(report, 'devtools-report-value');\n    assert.deepEqual(zip2(keys, values), [\n      ['URL', 'https://example.com/prerendered.html'],\n      ['Action', 'Prerender Inspect'],\n      ['Status', 'Speculative load is running.'],\n    ]);\n\n    const buttons = report.querySelectorAll('devtools-report-value:nth-of-type(2) devtools-button');\n    assert.strictEqual(buttons[0].textContent?.trim(), 'Inspect');\n    assert.isNull(buttons[0].getAttribute('disabled'));\n  });\n\n  it('shows prerender details with Investigate button for Ready', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    dispatchEvent(emulator.primaryTarget, 'Preload.prerenderStatusUpdated', {\n      key: {\n        loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n        action: Protocol.Preload.SpeculationAction.Prerender,\n        url: 'https://example.com/prerendered.html',\n      },\n      status: Protocol.Preload.PreloadingStatus.Ready,\n    } as Protocol.Preload.PrerenderStatusUpdatedEvent);\n\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n    assert.isNotNull(preloadingGridComponent.contentElement);\n    const preloadingDetailsComponent = view.getPreloadingDetailsForTest();\n    assert.isNotNull(preloadingDetailsComponent.shadowRoot);\n\n    await RenderCoordinator.done();\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/prerendered.html',\n            'Prerender',\n            '',\n            'Ready',\n          ],\n        ],\n    );\n\n    preloadingGridComponent.contentElement.querySelectorAll('tr')[1].dispatchEvent(new Event('select'));\n\n    await RenderCoordinator.done();\n\n    const report =\n        getElementWithinComponent(preloadingDetailsComponent, 'devtools-report', ReportView.ReportView.Report);\n\n    const keys = getCleanTextContentFromElements(report, 'devtools-report-key');\n    const values = getCleanTextContentFromElements(report, 'devtools-report-value');\n    assert.deepEqual(zip2(keys, values), [\n      ['URL', 'https://example.com/prerendered.html'],\n      ['Action', 'Prerender Inspect'],\n      ['Status', 'Speculative load finished and the result is ready for the next navigation.'],\n    ]);\n\n    const buttons = report.querySelectorAll('devtools-report-value:nth-of-type(2) devtools-button');\n    assert.strictEqual(buttons[0].textContent?.trim(), 'Inspect');\n    assert.isNull(buttons[0].getAttribute('disabled'));\n  });\n\n  it('shows prerender details with Investigate (disabled) button for Failure', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createAttemptView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n\n    dispatchEvent(emulator.primaryTarget, 'Preload.prerenderStatusUpdated', {\n      key: {\n        loaderId: 'loaderId:1' as Protocol.Network.LoaderId,\n        action: Protocol.Preload.SpeculationAction.Prerender,\n        url: 'https://example.com/prerendered.html',\n      },\n      status: Protocol.Preload.PreloadingStatus.Failure,\n      prerenderStatus: Protocol.Preload.PrerenderFinalStatus.MojoBinderPolicy,\n      disallowedMojoInterface: 'device.mojom.GamepadMonitor',\n    } as Protocol.Preload.PrerenderStatusUpdatedEvent);\n    // Note that `TargetManager.removeTarget` is not called on `Target.targetDestroyed`.\n    // Here, we manually remove the target for prerendered page from `TargetManager`.\n    const prerenderTarget = SDK.TargetManager.TargetManager.instance().targets().find(\n        child => child.targetInfo()?.subtype === 'prerender' &&\n            child.inspectedURL() === 'https://example.com/prerendered.html');\n    prerenderTarget?.dispose('test');\n\n    const preloadingGridComponent = view.getPreloadingGridForTest();\n    assert.isNotNull(preloadingGridComponent.contentElement);\n    const preloadingDetailsComponent = view.getPreloadingDetailsForTest();\n    assert.isNotNull(preloadingDetailsComponent.shadowRoot);\n\n    await RenderCoordinator.done();\n\n    assertGridWidgetContents(\n        preloadingGridComponent.contentElement,\n        ['URL', 'Action', 'Rule set', 'Status'],\n        [\n          [\n            '/prerendered.html',\n            'Prerender',\n            '',\n            'Failure - The prerendered page used a forbidden JavaScript API that is currently not supported. (Internal Mojo interface: device.mojom.GamepadMonitor)',\n          ],\n        ],\n    );\n\n    preloadingGridComponent.contentElement.querySelectorAll('tr')[1].dispatchEvent(new Event('select'));\n\n    await RenderCoordinator.done();\n\n    const report =\n        getElementWithinComponent(preloadingDetailsComponent, 'devtools-report', ReportView.ReportView.Report);\n\n    const keys = getCleanTextContentFromElements(report, 'devtools-report-key');\n    const values = getCleanTextContentFromElements(report, 'devtools-report-value');\n    assert.deepEqual(zip2(keys, values), [\n      ['URL', 'https://example.com/prerendered.html'],\n      ['Action', 'Prerender Inspect'],\n      ['Status', 'Speculative load failed.'],\n      [\n        'Failure reason',\n        'The prerendered page used a forbidden JavaScript API that is currently not supported. (Internal Mojo interface: device.mojom.GamepadMonitor)',\n      ],\n    ]);\n\n    const buttons = report.querySelectorAll('devtools-report-value:nth-of-type(2) devtools-button');\n    assert.strictEqual(buttons[0].textContent?.trim(), 'Inspect');\n    assert.strictEqual(buttons[0].shadowRoot?.querySelector('button')?.getAttribute('disabled'), '');\n  });\n});\n\ndescribeWithMockConnection('PreloadingSummaryView', () => {\n  beforeEach(() => {\n    SDK.ChildTargetManager.ChildTargetManager.install();\n  });\n\n  it('shows information of preloading of the last page', async () => {\n    const emulator = new NavigationEmulator();\n    await emulator.openDevTools();\n    const view = createSummaryView(emulator.primaryTarget);\n\n    await emulator.navigateAndDispatchEvents('');\n    await emulator.addSpecRules(`\n{\n  \"prerender\":[\n    {\n      \"source\": \"list\",\n      \"urls\": [\"/prerendered.html\"]\n    }\n  ]\n}\n`);\n    await emulator.activateAndDispatchEvents('prerendered.html');\n\n    await RenderCoordinator.done();\n\n    const usedPreloadingComponent = view.getUsedPreloadingForTest();\n    await usedPreloadingComponent.updateComplete;\n\n    assert.include(usedPreloadingComponent.contentElement.textContent, 'This page was successfully prerendered.');\n  });\n});\n"]}