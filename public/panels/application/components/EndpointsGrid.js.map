{"version":3,"file":"EndpointsGrid.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/application/components/EndpointsGrid.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../../ui/legacy/components/data_grid/data_grid.js';\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport type * as Protocol from '../../../generated/protocol.js';\n// inspectorCommonStyles is imported for the empty state styling that is used for the start view\n// eslint-disable-next-line rulesdir/es-modules-import\nimport inspectorCommonStylesRaw from '../../../ui/legacy/inspectorCommon.css.js';\nimport * as Lit from '../../../ui/lit/lit.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport reportingApiGridStylesRaw from './reportingApiGrid.css.js';\n\n// TODO(crbug.com/391381439): Fully migrate off of constructed style sheets.\nconst reportingApiGridStyles = new CSSStyleSheet();\nreportingApiGridStyles.replaceSync(reportingApiGridStylesRaw.cssContent);\n\n// TODO(crbug.com/391381439): Fully migrate off of constructed style sheets.\nconst inspectorCommonStyles = new CSSStyleSheet();\ninspectorCommonStyles.replaceSync(inspectorCommonStylesRaw.cssContent);\n\nconst UIStrings = {\n  /**\n   *@description Placeholder text when there are no Reporting API endpoints.\n   *(https://developers.google.com/web/updates/2018/09/reportingapi#tldr)\n   */\n  noEndpointsToDisplay: 'No endpoints to display',\n  /**\n   *@description Placeholder text when there are no Reporting API endpoints.\n   *(https://developers.google.com/web/updates/2018/09/reportingapi#tldr)\n   */\n  endpointsDescription: 'Here you will find the list of endpoints that receive the reports'\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/application/components/EndpointsGrid.ts', UIStrings);\nexport const i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst {render, html} = Lit;\n\nexport interface EndpointsGridData {\n  endpoints: Map<string, Protocol.Network.ReportingApiEndpoint[]>;\n}\n\nexport class EndpointsGrid extends HTMLElement {\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #endpoints = new Map<string, Protocol.Network.ReportingApiEndpoint[]>();\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [reportingApiGridStyles, inspectorCommonStyles];\n    this.#render();\n  }\n\n  set data(data: EndpointsGridData) {\n    this.#endpoints = data.endpoints;\n    this.#render();\n  }\n\n  #render(): void {\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <div class=\"reporting-container\" jslog=${VisualLogging.section('endpoints')}>\n        <div class=\"reporting-header\">${i18n.i18n.lockedString('Endpoints')}</div>\n        ${this.#endpoints.size > 0 ? html`\n          <devtools-data-grid striped>\n           <table>\n            <tr>\n              <th id=\"origin\" weight=\"30\">${i18n.i18n.lockedString('Origin')}</th>\n              <th id=\"name\" weight=\"20\">${i18n.i18n.lockedString('Name')}</th>\n              <th id=\"url\" weight=\"30\">${i18n.i18n.lockedString('URL')}</th>\n            </tr>\n            ${Array.from(this.#endpoints).map(([origin, endpointArray]) =>\n                endpointArray.map(endpoint => html`<tr>\n                  <td>${origin}</td>\n                  <td>${endpoint.groupName}</td>\n                  <td>${endpoint.url}</td>\n                </tr>`))\n                .flat()}\n            </table>\n          </devtools-data-grid>\n        ` : html`\n          <div class=\"empty-state\">\n            <span class=\"empty-state-header\">${i18nString(UIStrings.noEndpointsToDisplay)}</span>\n            <span class=\"empty-state-description\">${i18nString(UIStrings.endpointsDescription)}</span>\n          </div>\n        `}\n      </div>\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-resources-endpoints-grid', EndpointsGrid);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-resources-endpoints-grid': EndpointsGrid;\n  }\n}\n"]}