{"version":3,"file":"DeveloperResourcesListView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/developer_resources/DeveloperResourcesListView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../ui/legacy/components/data_grid/data_grid.js';\n\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport {Directives, html, nothing, render} from '../../ui/lit/lit.js';\n\nimport developerResourcesListViewStyles from './developerResourcesListView.css.js';\n\nconst {ref} = Directives;\n\nconst UIStrings = {\n  /**\n   * @description Text for the status of something\n   */\n  status: 'Status',\n  /**\n   * @description Text for web URLs\n   */\n  url: 'URL',\n  /**\n   * @description Text for the initiator of something\n   */\n  initiator: 'Initiator',\n  /**\n   * @description Text in Coverage List View of the Coverage tab\n   */\n  totalBytes: 'Total Bytes',\n  /**\n   * @description Column header. The column contains the time it took to load a resource.\n   */\n  duration: 'Duration',\n  /**\n   * @description Text for errors\n   */\n  error: 'Error',\n  /**\n   * @description Title for the Developer resources tab\n   */\n  developerResources: 'Developer resources',\n  /**\n   * @description Text for a context menu entry\n   */\n  copyUrl: 'Copy URL',\n  /**\n   * @description Text for a context menu entry. Command to copy a URL to the clipboard. The initiator\n   * of a request is the entity that caused this request to be sent.\n   */\n  copyInitiatorUrl: 'Copy initiator URL',\n  /**\n   * @description Text for the status column of a list view\n   */\n  pending: 'pending',\n  /**\n   * @description Text for the status column of a list view\n   */\n  success: 'success',\n  /**\n   * @description Text for the status column of a list view\n   */\n  failure: 'failure',\n  /**\n   * @description Accessible text for the value in bytes in memory allocation.\n   */\n  sBytes: '{n, plural, =1 {# byte} other {# bytes}}',\n  /**\n   * @description Number of resource(s) match\n   */\n  numberOfResourceMatch: '{n, plural, =1 {# resource matches} other {# resources match}}',\n  /**\n   * @description No resource matches\n   */\n  noResourceMatches: 'No resource matches',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/developer_resources/DeveloperResourcesListView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst {withThousandsSeparator} = Platform.NumberUtilities;\n\nexport interface ViewInput {\n  items: SDK.PageResourceLoader.PageResource[];\n  selectedItem: SDK.PageResourceLoader.PageResource|null;\n  highlight: (element: Element|undefined, textContent: string|undefined, columnId: string) => void;\n  filters: TextUtils.TextUtils.ParsedFilter[];\n  onContextMenu: (e: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>) => void;\n  onSelect: (e: CustomEvent<HTMLElement>) => void;\n  onInitiatorMouseEnter: (frameId: Protocol.Page.FrameId|null) => void;\n  onInitiatorMouseLeave: () => void;\n}\n\nexport type View = (input: ViewInput, output: object, target: HTMLElement) => void;\n\nconst DEFAULT_VIEW: View = (input, _output, target) => {\n  // clang-format off\n  render(html`\n      <style>${developerResourcesListViewStyles}</style>\n      <devtools-data-grid name=${i18nString(UIStrings.developerResources)} striped class=\"flex-auto\"\n         .filters=${input.filters} @contextmenu=${input.onContextMenu} @selected=${input.onSelect}>\n        <table>\n          <tr>\n            <th id=\"status\" sortable fixed width=\"60px\">\n              ${i18nString(UIStrings.status)}\n            </th>\n            <th id=\"url\" sortable width=\"250px\">\n              ${i18nString(UIStrings.url)}\n            </th>\n            <th id=\"initiator\" sortable width=\"80px\">\n              ${i18nString(UIStrings.initiator)}\n            </th>\n            <th id=\"size\" sortable fixed width=\"80px\" align=\"right\">\n              ${i18nString(UIStrings.totalBytes)}\n            </th>\n            <th id=\"duration\" sortable fixed width=\"80px\" align=\"right\">\n              ${i18nString(UIStrings.duration)}\n            </th>\n            <th id=\"error-message\" sortable width=\"200px\">\n              ${i18nString(UIStrings.error)}\n            </th>\n          </tr>\n          ${input.items.map((item, index) => {\n            const splitURL = /^(.*)(\\/[^/]*)$/.exec(item.url);\n            return html`\n            <tr selected=${(item === input.selectedItem) || nothing}\n                data-url=${item.url ?? nothing}\n                data-initiator-url=${item.initiator.initiatorUrl ?? nothing}\n                data-index=${index}>\n              <td>${item.success === true  ? i18nString(UIStrings.success) :\n                    item.success === false ? i18nString(UIStrings.failure) :\n                                             i18nString(UIStrings.pending)}</td>\n              <td title=${item.url} aria-label=${item.url}>\n                <div aria-hidden=\"true\" part=\"url-outer\"\n                     ${ref(e => input.highlight(e, item.url, 'url'))}>\n                  <div part=\"url-prefix\">${splitURL ? splitURL[1] : item.url}</div>\n                  <div part=\"url-suffix\">${splitURL ? splitURL[2] : ''}</div>\n                </div>\n              </td>\n              <td title=${item.initiator.initiatorUrl || ''}\n                  aria-label=${item.initiator.initiatorUrl || ''}\n                  @mouseenter=${() => input.onInitiatorMouseEnter(item.initiator.frameId)}\n                  @mouseleave=${input.onInitiatorMouseLeave}\n              >${item.initiator.initiatorUrl || ''}</td>\n              <td aria-label=${item.size !== null ? i18nString(UIStrings.sBytes, {n: item.size}) : nothing}\n                  data-value=${item.size ?? nothing}>${\n                item.size !== null ?  html`<span>${withThousandsSeparator(item.size)}</span>` : ''}</td>\n              <td aria-label=${item.duration !== null ? i18n.TimeUtilities.millisToString(item.duration) : nothing}\n                  data-value=${item.duration ?? nothing}>${\n                  item.duration !== null ? html`<span>${i18n.TimeUtilities.millisToString(item.duration)}</span>` : ''}</td>\n              <td class=\"error-message\">\n                ${item.errorMessage ? html`\n                <span ${ref(e => input.highlight(e, item.errorMessage, 'error-message'))}>\n                  ${item.errorMessage}\n                </span>` : nothing}\n              </td>\n            </tr>`;\n          })}\n          </table>\n        </devtools-data-grid>`,\n        target);\n  // clang-format on\n};\n\nexport class DeveloperResourcesListView extends UI.Widget.VBox {\n  #items: SDK.PageResourceLoader.PageResource[] = [];\n  #selectedItem: SDK.PageResourceLoader.PageResource|null = null;\n  #onSelect: ((item: SDK.PageResourceLoader.PageResource|null) => void)|null = null;\n  readonly #view: View;\n  #filters: TextUtils.TextUtils.ParsedFilter[] = [];\n  constructor(element: HTMLElement, view = DEFAULT_VIEW) {\n    super(element, {useShadowDom: true});\n    this.#view = view;\n  }\n\n  set selectedItem(item: SDK.PageResourceLoader.PageResource|null) {\n    this.#selectedItem = item;\n    this.requestUpdate();\n  }\n\n  set onSelect(onSelect: (item: SDK.PageResourceLoader.PageResource|null) => void) {\n    this.#onSelect = onSelect;\n  }\n\n  #populateContextMenu(contextMenu: UI.ContextMenu.ContextMenu, element: HTMLElement): void {\n    const url = element.dataset.url;\n    if (url) {\n      contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyUrl), () => {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(url);\n      }, {jslogContext: 'copy-url'});\n    }\n\n    const initiatorUrl = element.dataset.initiatorUrl;\n    if (initiatorUrl) {\n      contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyInitiatorUrl), () => {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(initiatorUrl);\n      }, {jslogContext: 'copy-initiator-url'});\n    }\n  }\n\n  set items(items: Iterable<SDK.PageResourceLoader.PageResource>) {\n    this.#items = [...items];\n    this.requestUpdate();\n  }\n\n  reset(): void {\n    this.items = [];\n    this.requestUpdate();\n  }\n\n  set filters(filters: TextUtils.TextUtils.ParsedFilter[]) {\n    this.#filters = filters;\n    this.requestUpdate();\n    void this.updateComplete.then(() => {\n      const numberOfResourceMatch =\n          Number(this.contentElement.querySelector('devtools-data-grid')?.getAttribute('aria-rowcount')) ?? 0;\n      let resourceMatch = '';\n      if (numberOfResourceMatch === 0) {\n        resourceMatch = i18nString(UIStrings.noResourceMatches);\n      } else {\n        resourceMatch = i18nString(UIStrings.numberOfResourceMatch, {n: numberOfResourceMatch});\n      }\n      UI.ARIAUtils.LiveAnnouncer.alert(resourceMatch);\n    });\n  }\n\n  override performUpdate(): void {\n    const input = {\n      items: this.#items,\n      selectedItem: this.#selectedItem,\n      filters: this.#filters,\n      highlight: this.#highlight.bind(this),\n      onContextMenu: (e: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>) => {\n        if (e.detail?.element) {\n          this.#populateContextMenu(e.detail.menu, e.detail.element);\n        }\n      },\n      onSelect: (e: CustomEvent<HTMLElement|null>) => {\n        this.#selectedItem = e.detail ? this.#items[Number(e.detail.dataset.index)] : null;\n        this.#onSelect?.(this.#selectedItem);\n      },\n      onInitiatorMouseEnter: (frameId: Protocol.Page.FrameId|null) => {\n        const frame = frameId ? SDK.FrameManager.FrameManager.instance().getFrame(frameId) : null;\n        if (frame) {\n          void frame.highlight();\n        }\n      },\n      onInitiatorMouseLeave: () => {\n        SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n      },\n    };\n    const output = {};\n    this.#view(input, output, this.contentElement);\n  }\n\n  #highlight(element: Element|undefined, textContent: string|undefined, columnId: string): void {\n    if (!element || !textContent) {\n      return;\n    }\n    const highlightContainers =\n        new Set<Element>([...element.querySelectorAll('.filter-highlight')].map(e => e.parentElement as Element));\n    for (const container of highlightContainers) {\n      container.textContent = container.textContent;\n    }\n    const filter = this.#filters.find(filter => filter.key?.split(',')?.includes(columnId));\n    if (!filter?.regex) {\n      return;\n    }\n    const matches = filter.regex.exec(element.textContent ?? '');\n    if (!matches?.length) {\n      return;\n    }\n    const range = new TextUtils.TextRange.SourceRange(matches.index, matches[0].length);\n    UI.UIUtils.highlightRangesWithStyleClass(element, [range], 'filter-highlight');\n    for (const el of element.querySelectorAll('.filter-highlight')) {\n      el.setAttribute('part', 'filter-highlight');\n    }\n  }\n}\n"]}