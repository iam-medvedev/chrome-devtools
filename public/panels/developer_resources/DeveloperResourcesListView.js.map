{"version":3,"file":"DeveloperResourcesListView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/developer_resources/DeveloperResourcesListView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport '../../ui/legacy/components/data_grid/data_grid.js';\n\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport {html, nothing, render} from '../../ui/lit/lit.js';\n\nimport developerResourcesListViewStyles from './developerResourcesListView.css.js';\n\nconst UIStrings = {\n  /**\n   *@description Text for the status of something\n   */\n  status: 'Status',\n  /**\n   *@description Text for web URLs\n   */\n  url: 'URL',\n  /**\n   *@description Text for the initiator of something\n   */\n  initiator: 'Initiator',\n  /**\n   *@description Text in Coverage List View of the Coverage tab\n   */\n  totalBytes: 'Total Bytes',\n  /**\n   * @description Column header. The column contains the time it took to load a resource.\n   */\n  duration: 'Duration',\n  /**\n   *@description Text for errors\n   */\n  error: 'Error',\n  /**\n   *@description Title for the Developer resources tab\n   */\n  developerResources: 'Developer resources',\n  /**\n   *@description Text for a context menu entry\n   */\n  copyUrl: 'Copy URL',\n  /**\n   * @description Text for a context menu entry. Command to copy a URL to the clipboard. The initiator\n   * of a request is the entity that caused this request to be sent.\n   */\n  copyInitiatorUrl: 'Copy initiator URL',\n  /**\n   *@description Text for the status column of a list view\n   */\n  pending: 'pending',\n  /**\n   *@description Text for the status column of a list view\n   */\n  success: 'success',\n  /**\n   *@description Text for the status column of a list view\n   */\n  failure: 'failure',\n  /**\n   *@description Accessible text for the value in bytes in memory allocation.\n   */\n  sBytes: '{n, plural, =1 {# byte} other {# bytes}}',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('panels/developer_resources/DeveloperResourcesListView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst {withThousandsSeparator} = Platform.NumberUtilities;\n\nexport interface ViewInput {\n  items: SDK.PageResourceLoader.PageResource[];\n  highlight: (element: Element, textContent: string, columnId: string) => void;\n  filters: TextUtils.TextUtils.ParsedFilter[];\n  onContextMenu: (e: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>) => void;\n  onInitiatorMouseEnter: (frameId: Protocol.Page.FrameId|null) => void;\n  onInitiatorMouseLeave: () => void;\n}\n\nexport type View = (input: ViewInput, output: object, target: HTMLElement) => void;\n\nexport class DeveloperResourcesListView extends UI.Widget.VBox {\n  #items: SDK.PageResourceLoader.PageResource[] = [];\n  #selectedItem: SDK.PageResourceLoader.PageResource|null = null;\n  readonly #view: View;\n  #filters: TextUtils.TextUtils.ParsedFilter[] = [];\n  constructor(\n      view: View = (input, _, target) => {\n        // clang-format off\n        render(html`\n            <devtools-data-grid\n              name=${i18nString(UIStrings.developerResources)}\n              striped\n              .filters=${input.filters}\n               @contextmenu=${input.onContextMenu}\n              class=\"flex-auto\"\n            >\n              <table>\n                <tr>\n                  <th id=\"status\" sortable fixed width=\"60px\">\n                    ${i18nString(UIStrings.status)}\n                  </th>\n                  <th id=\"url\" sortable width=\"250px\">\n                    ${i18nString(UIStrings.url)}\n                  </th>\n                  <th id=\"initiator\" sortable width=\"80px\">\n                    ${i18nString(UIStrings.initiator)}\n                  </th>\n                  <th id=\"size\" sortable fixed width=\"80px\" align=\"right\">\n                    ${i18nString(UIStrings.totalBytes)}\n                  </th>\n                  <th id=\"duration\" sortable fixed width=\"80px\" align=\"right\">\n                    ${i18nString(UIStrings.duration)}\n                  </th>\n                  <th id=\"error-message\" sortable width=\"200px\">\n                    ${i18nString(UIStrings.error)}\n                  </th>\n                </tr>\n                ${input.items.map(item => html`\n                  <tr selected=${(item === this.#selectedItem) || nothing}\n                      data-url=${item.url ?? nothing}\n                      data-initiator-url=${item.initiator.initiatorUrl ?? nothing}>\n                    <td>${item.success === true  ? i18nString(UIStrings.success) :\n                          item.success === false ? i18nString(UIStrings.failure) :\n                                                   i18nString(UIStrings.pending)}</td>\n                    <td title=${item.url} aria-label=${item.url}>${(() => {\n                        const url = renderUrl(item.url);\n                        input.highlight(url, item.url, 'url');\n                        return url;\n                      })()}</td>\n                    <td title=${item.initiator.initiatorUrl || ''}\n                        aria-label=${item.initiator.initiatorUrl || ''}\n                        @mouseenter=${() => input.onInitiatorMouseEnter(item.initiator.frameId)}\n                        @mouseleave=${input.onInitiatorMouseLeave}\n                    >${item.initiator.initiatorUrl || ''}</td>\n                    <td aria-label=${item.size !== null ? i18nString(UIStrings.sBytes, {n: item.size}) : nothing}\n                        data-value=${item.size ?? nothing}>${\n                      item.size !== null ?  html`<span>${withThousandsSeparator(item.size)}</span>` : ''}</td>\n                    <td aria-label=${item.duration !== null ? i18n.TimeUtilities.millisToString(item.duration) : nothing}\n                        data-value=${item.duration ?? nothing}>${\n                        item.duration !== null ? html`<span>${i18n.TimeUtilities.millisToString(item.duration)}</span>` : ''}</td>\n                    <td class=\"error-message\">${(() => {\n                        const cell = document.createElement('span');\n                        if (item.errorMessage) {\n                          cell.textContent = item.errorMessage;\n                          input.highlight(cell, item.errorMessage, 'error-message');\n                        }\n                        return cell;\n                      })()}</td>\n                  </tr>`)}\n              </table>\n            </devtools-data-grid>`,\n            target, {host: input});\n        // clang-format on\n        function renderUrl(url: string): HTMLElement {\n          const outer = document.createElement('div');\n          UI.ARIAUtils.setHidden(outer, true);\n          outer.setAttribute('part', 'url-outer');\n          const domain = outer.createChild('div');\n          domain.setAttribute('part', 'url-prefix');\n          const path = outer.createChild('div');\n          path.setAttribute('part', 'url-suffix');\n          const splitURL = /^(.*)(\\/[^/]*)$/.exec(url);\n          domain.textContent = splitURL ? splitURL[1] : url;\n          path.textContent = splitURL ? splitURL[2] : '';\n          return outer;\n        }\n      }) {\n    super(true);\n    this.#view = view;\n    this.registerRequiredCSS(developerResourcesListViewStyles);\n  }\n\n  select(item: SDK.PageResourceLoader.PageResource): void {\n    this.#selectedItem = item;\n    this.requestUpdate();\n  }\n\n  selectedItem(): SDK.PageResourceLoader.PageResource|null {\n    return this.#selectedItem;\n  }\n\n  #populateContextMenu(contextMenu: UI.ContextMenu.ContextMenu, element: HTMLElement): void {\n    const url = element.dataset.url;\n    if (url) {\n      contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyUrl), () => {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(url);\n      }, {jslogContext: 'copy-url'});\n    }\n\n    const initiatorUrl = element.dataset.initiatorUrl;\n    if (initiatorUrl) {\n      contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyInitiatorUrl), () => {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(initiatorUrl);\n      }, {jslogContext: 'copy-initiator-url'});\n    }\n  }\n\n  set items(items: Iterable<SDK.PageResourceLoader.PageResource>) {\n    this.#items = [...items];\n    this.requestUpdate();\n  }\n\n  reset(): void {\n    this.items = [];\n    this.requestUpdate();\n  }\n\n  updateFilterAndHighlight(filters: TextUtils.TextUtils.ParsedFilter[]): void {\n    this.#filters = filters;\n    this.requestUpdate();\n  }\n\n  getNumberOfVisibleItems(): number {\n    return parseInt(this.contentElement.querySelector('devtools-data-grid')?.getAttribute('aria-rowcount') || '', 10) ??\n        0;\n  }\n\n  override performUpdate(): void {\n    const input = {\n      items: this.#items,\n      filters: this.#filters,\n      highlight: this.#highlight.bind(this),\n      onContextMenu: (e: CustomEvent<{menu: UI.ContextMenu.ContextMenu, element: HTMLElement}>) => {\n        if (e.detail?.element) {\n          this.#populateContextMenu(e.detail.menu, e.detail.element);\n        }\n      },\n      onInitiatorMouseEnter: (frameId: Protocol.Page.FrameId|null) => {\n        const frame = frameId ? SDK.FrameManager.FrameManager.instance().getFrame(frameId) : null;\n        if (frame) {\n          void frame.highlight();\n        }\n      },\n      onInitiatorMouseLeave: () => {\n        SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n      },\n    };\n    const output = {};\n    this.#view(input, output, this.contentElement);\n  }\n\n  #highlight(element: Element, textContent: string, columnId: string): void {\n    const filter = this.#filters.find(filter => filter.key?.split(',')?.includes(columnId));\n    if (!filter?.regex || element.querySelector('.filter-highlight')) {\n      return;\n    }\n    const matches = filter.regex.exec(textContent);\n    if (!matches?.length) {\n      return;\n    }\n    const range = new TextUtils.TextRange.SourceRange(matches.index, matches[0].length);\n    UI.UIUtils.highlightRangesWithStyleClass(element, [range], 'filter-highlight');\n    for (const el of element.querySelectorAll('.filter-highlight')) {\n      el.setAttribute('part', 'filter-highlight');\n    }\n  }\n}\n"]}