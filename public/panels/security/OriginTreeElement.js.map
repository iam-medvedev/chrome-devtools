{"version":3,"file":"OriginTreeElement.js","sourceRoot":"","sources":["../../../../../../front_end/panels/security/OriginTreeElement.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAK7B,OAAO,EAAC,+BAA+B,EAAC,MAAM,sCAAsC,CAAC;AAErF,MAAM,OAAO,eAAgB,SAAQ,KAAK;IACxC,MAAM,CAAU,SAAS,GAAG,YAAY,CAAC;IACzC,MAAM,CAAuC;IAE7C,YAAY,MAA4C;QACtD,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,EAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;QAClE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;;AAGH,MAAM,OAAO,iBAAkB,SAAQ,+BAA+B;IACpE,sBAAsB,CAAuC;IACpD,kBAAkB,CAAqD;IACvE,eAAe,GAAyC,IAAI,CAAC;IAEtE,YACI,SAAiB,EAAE,iBAAqE,EACxF,SAA+C,IAAI;QACrD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;QAC5C,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;QAE9B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,gBAAgB,yDAAyC,CAAC;IACjE,CAAC;IAED,gBAAgB,CAAC,gBAAiD;QAChE,IAAI,CAAC,sBAAsB,GAAG,gBAAgB,CAAC;QAC/C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACrC,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAEQ,QAAQ;QACf,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;QAC9E,OAAO,IAAI,CAAC;IACd,CAAC;CACF","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {SecurityPanelSidebarTreeElement} from './SecurityPanelSidebarTreeElement.js';\n\nexport class ShowOriginEvent extends Event {\n  static readonly eventName = 'showorigin';\n  origin: Platform.DevToolsPath.UrlString|null;\n\n  constructor(origin: Platform.DevToolsPath.UrlString|null) {\n    super(ShowOriginEvent.eventName, {bubbles: true, composed: true});\n    this.origin = origin;\n  }\n}\n\nexport class OriginTreeElement extends SecurityPanelSidebarTreeElement {\n  #securityStateInternal: Protocol.Security.SecurityState|null;\n  readonly #renderTreeElement: (element: SecurityPanelSidebarTreeElement) => void;\n  readonly #originInternal: Platform.DevToolsPath.UrlString|null = null;\n\n  constructor(\n      className: string, renderTreeElement: (element: SecurityPanelSidebarTreeElement) => void,\n      origin: Platform.DevToolsPath.UrlString|null = null) {\n    super();\n\n    this.#renderTreeElement = renderTreeElement;\n    this.#originInternal = origin;\n\n    this.listItemElement.classList.add(className);\n    this.#securityStateInternal = null;\n    this.setSecurityState(Protocol.Security.SecurityState.Unknown);\n  }\n\n  setSecurityState(newSecurityState: Protocol.Security.SecurityState): void {\n    this.#securityStateInternal = newSecurityState;\n    this.#renderTreeElement(this);\n  }\n\n  securityState(): Protocol.Security.SecurityState|null {\n    return this.#securityStateInternal;\n  }\n\n  origin(): Platform.DevToolsPath.UrlString|null {\n    return this.#originInternal;\n  }\n\n  override onselect(): boolean {\n    this.listItemElement.dispatchEvent(new ShowOriginEvent(this.#originInternal));\n    return true;\n  }\n}\n\ndeclare global {\n  interface HTMLElementEventMap {\n    'showorigin': ShowOriginEvent;\n  }\n}\n"]}