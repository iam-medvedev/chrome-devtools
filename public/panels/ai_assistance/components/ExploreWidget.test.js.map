{"version":3,"file":"ExploreWidget.test.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/ai_assistance/components/ExploreWidget.test.ts"],"names":[],"mappings":"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","sourcesContent":["\n// Copyright 2025 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assertScreenshot, renderElementIntoDOM} from '../../../testing/DOMHelpers.js';\nimport {updateHostConfig} from '../../../testing/EnvironmentHelpers.js';\nimport {createViewFunctionStub, type ViewFunctionStub} from '../../../testing/ViewFunctionHelpers.js';\nimport * as AiAssistance from '../ai_assistance.js';\n\ndescribe('ExploreWidget', () => {\n  async function createComponent(): Promise<ViewFunctionStub<typeof AiAssistance.ExploreWidget.ExploreWidget>> {\n    const view = createViewFunctionStub(AiAssistance.ExploreWidget.ExploreWidget);\n    const component = new AiAssistance.ExploreWidget.ExploreWidget(undefined, view);\n    component.wasShown();\n    await component.updateComplete;\n    return view;\n  }\n  it('should show feature cards for enabled features', async () => {\n    updateHostConfig({\n      devToolsFreestyler: {\n        enabled: true,\n      },\n      devToolsAiAssistanceNetworkAgent: {\n        enabled: true,\n      },\n      devToolsAiAssistanceFileAgent: {\n        enabled: true,\n      },\n      devToolsAiAssistancePerformanceAgent: {\n        enabled: true,\n      },\n    });\n    const view = await createComponent();\n    const featureCards = view.input.featureCards;\n\n    assert.isDefined(featureCards);\n    assert.lengthOf(featureCards, 4);\n    assert.strictEqual(featureCards[0].heading, 'CSS styles');\n    assert.strictEqual(featureCards[1].heading, 'Network');\n    assert.strictEqual(featureCards[2].heading, 'Files');\n    assert.strictEqual(featureCards[3].heading, 'Performance');\n  });\n\n  it('should not show any feature cards if none of the entrypoints are available', async () => {\n    updateHostConfig({\n      devToolsFreestyler: {\n        enabled: false,\n      },\n      devToolsAiAssistanceNetworkAgent: {\n        enabled: false,\n      },\n      devToolsAiAssistanceFileAgent: {\n        enabled: false,\n      },\n      devToolsAiAssistancePerformanceAgent: {\n        enabled: false,\n      },\n    });\n    const view = await createComponent();\n    const featureCards = view.input.featureCards;\n\n    assert.isDefined(featureCards);\n    assert.lengthOf(featureCards, 0);\n  });\n\n  describe('view', () => {\n    it('looks fine', async () => {\n      const target = document.createElement('div');\n      renderElementIntoDOM(target);\n      AiAssistance.ExploreWidget.DEFAULT_VIEW(\n          {\n            featureCards: [{\n              icon: 'brush-2',\n              heading: 'CSS styles',\n              jslogContext: 'open-elements-panel',\n              onClick: () => {},\n              panelName: 'Elements',\n              text: 'to ask about CSS styles'\n            }]\n          },\n          {}, target);\n      await assertScreenshot('ai_assistance/explore-default.png');\n    });\n  });\n});\n"]}