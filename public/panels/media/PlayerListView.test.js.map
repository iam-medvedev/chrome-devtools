{"version":3,"file":"PlayerListView.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/media/PlayerListView.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,uBAAuB,EAAC,MAAM,qCAAqC,CAAC;AAC5E,OAAO,EAAC,sBAAsB,EAAC,MAAM,sCAAsC,CAAC;AAE5E,OAAO,KAAK,KAAK,MAAM,YAAY,CAAC;AAEpC,uBAAuB,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC7C,EAAE,CAAC,uCAAuC,EAAE,KAAK,IAAI,EAAE;QACrD,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QAC/C,MAAM,IAAI,GAAG,sBAAsB,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACzE,MAAM,cAAc,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/E,cAAc,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QAC9C,MAAM,IAAI,CAAC,SAAS,CAAC;QAErB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC1B,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;QAErE,gBAAgB;QAChB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACpC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC;QACnC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+BAA+B,EAAE,KAAK,IAAI,EAAE;QAC7C,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QAC/C,MAAM,IAAI,GAAG,sBAAsB,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACzE,MAAM,cAAc,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/E,cAAc,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QAC9C,MAAM,IAAI,CAAC,SAAS,CAAC;QAErB,MAAM,KAAK,GAAG;YACZ,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;gBACpB,KAAK,EAAE,OAAO;gBACd,GAAG,EAAE,8BAA8B;aACpC,CAAC;SAC6B,CAAC;QAClC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QACzC,MAAM,IAAI,CAAC,SAAS,CAAC;QAErB,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QAEnE,MAAM,SAAS,GAAG;YAChB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;gBACpB,KAAK,EAAE,OAAO;aACf,CAAC;SAC6B,CAAC;QAClC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAC7C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC;QACnC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {describeWithEnvironment} from '../../testing/EnvironmentHelpers.js';\nimport {createViewFunctionStub} from '../../testing/ViewFunctionHelpers.js';\n\nimport * as Media from './media.js';\n\ndescribeWithEnvironment('PlayerListView', () => {\n  it('renders players and handles selection', async () => {\n    const mainView = new Media.MainView.MainView();\n    const view = createViewFunctionStub(Media.PlayerListView.PlayerListView);\n    const playerListView = new Media.PlayerListView.PlayerListView(mainView, view);\n    playerListView.addMediaElementItem('player1');\n    await view.nextInput;\n\n    sinon.assert.called(view);\n    assert.lengthOf(view.input.players, 1);\n    assert.strictEqual(view.input.players[0].playerTitle, 'PlayerTitle');\n\n    // Select player\n    view.input.onPlayerClick('player1');\n    const input = await view.nextInput;\n    assert.strictEqual(input.selectedPlayerID, 'player1');\n  });\n\n  it('updates player title and icon', async () => {\n    const mainView = new Media.MainView.MainView();\n    const view = createViewFunctionStub(Media.PlayerListView.PlayerListView);\n    const playerListView = new Media.PlayerListView.PlayerListView(mainView, view);\n    playerListView.addMediaElementItem('player1');\n    await view.nextInput;\n\n    const event = {\n      value: JSON.stringify({\n        event: 'kLoad',\n        url: 'http://example.com/video.mp4',\n      }),\n    } as Media.MediaModel.PlayerEvent;\n    playerListView.onEvent('player1', event);\n    await view.nextInput;\n\n    assert.strictEqual(view.input.players[0].playerTitle, 'video.mp4');\n\n    const playEvent = {\n      value: JSON.stringify({\n        event: 'kPlay',\n      }),\n    } as Media.MediaModel.PlayerEvent;\n    playerListView.onEvent('player1', playEvent);\n    const input = await view.nextInput;\n    assert.strictEqual(input.players[0].iconName, 'play');\n  });\n});\n"]}