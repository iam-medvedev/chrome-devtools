{"version":3,"file":"FormatterWorkerPool.test.js","sourceRoot":"","sources":["../../../../../../front_end/models/formatter/FormatterWorkerPool.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,SAAS,MAAM,gBAAgB,CAAC;AAE5C,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;IACnC,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;QACnC,EAAE,CAAC,OAAO,EAAE,KAAK,IAAI,EAAE;YACrB,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,CAAC;YAErE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,CAAC;YAEtE,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC5B,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,yDAAiD,CAAC;YACnF,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,2DAAmD,CAAC;YAEjG,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;QACtB,EAAE,CAAC,OAAO,EAAE,KAAK,IAAI,EAAE;YACrB,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,CAAC;YAErE,MAAM,EAAC,OAAO,EAAC,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,uCAAuC,EAAE,IAAI,CAAC,CAAC;YACtG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBACpC,kBAAkB;gBAClB,yBAAyB;gBACzB,GAAG;gBACH,EAAE;aACH,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Formatter from './formatter.js';\n\ndescribe('FormatterWorkerPool', () => {\n  describe('javaScriptScopeTree', () => {\n    it('works', async () => {\n      const pool = new Formatter.FormatterWorkerPool.FormatterWorkerPool();\n\n      const scopeTree = await pool.javaScriptScopeTree('function foo() {}');\n\n      assert.isNotNull(scopeTree);\n      assert.strictEqual(scopeTree.kind, Formatter.FormatterWorkerPool.ScopeKind.GLOBAL);\n      assert.strictEqual(scopeTree.children[0].kind, Formatter.FormatterWorkerPool.ScopeKind.FUNCTION);\n\n      pool.dispose();\n    });\n  });\n\n  describe('format', () => {\n    it('works', async () => {\n      const pool = new Formatter.FormatterWorkerPool.FormatterWorkerPool();\n\n      const {content} = await pool.format('text/javascript', 'function foo(){console.log(\"hello\");}', '  ');\n      assert.deepEqual(content.split('\\n'), [\n        'function foo() {',\n        '  console.log(\"hello\");',\n        '}',\n        '',\n      ]);\n\n      pool.dispose();\n    });\n  });\n});\n"]}