{
  "version": 3,
  "sources": ["../../../../../../front_end/models/issues_manager/AttributionReportingIssue.ts", "../../../../../../front_end/models/issues_manager/Issue.ts", "../../../../../../front_end/models/issues_manager/CheckFormsIssuesTrigger.ts", "../../../../../../front_end/models/issues_manager/ClientHintIssue.ts", "../../../../../../front_end/models/issues_manager/MarkdownIssueDescription.ts", "../../../../../../front_end/models/issues_manager/ContentSecurityPolicyIssue.ts", "../../../../../../front_end/models/issues_manager/ContrastCheckTrigger.ts", "../../../../../../front_end/models/issues_manager/CookieDeprecationMetadataIssue.ts", "../../../../../../front_end/models/issues_manager/CookieIssue.ts", "../../../../../../front_end/models/issues_manager/CorsIssue.ts", "../../../../../../front_end/models/issues_manager/CrossOriginEmbedderPolicyIssue.ts", "../../../../../../front_end/models/issues_manager/DeprecationIssue.ts", "../../../../../../front_end/generated/Deprecation.ts", "../../../../../../front_end/models/issues_manager/ElementAccessibilityIssue.ts", "../../../../../../front_end/models/issues_manager/FederatedAuthUserInfoRequestIssue.ts", "../../../../../../front_end/models/issues_manager/GenericIssue.ts", "../../../../../../front_end/models/issues_manager/HeavyAdIssue.ts", "../../../../../../front_end/models/issues_manager/IssueResolver.ts", "../../../../../../front_end/models/issues_manager/IssuesManager.ts", "../../../../../../front_end/models/issues_manager/BounceTrackingIssue.ts", "../../../../../../front_end/models/issues_manager/FederatedAuthRequestIssue.ts", "../../../../../../front_end/models/issues_manager/LowTextContrastIssue.ts", "../../../../../../front_end/models/issues_manager/MixedContentIssue.ts", "../../../../../../front_end/models/issues_manager/PartitioningBlobURLIssue.ts", "../../../../../../front_end/models/issues_manager/PropertyRuleIssue.ts", "../../../../../../front_end/models/issues_manager/QuirksModeIssue.ts", "../../../../../../front_end/models/issues_manager/SharedArrayBufferIssue.ts", "../../../../../../front_end/models/issues_manager/SharedDictionaryIssue.ts", "../../../../../../front_end/models/issues_manager/SourceFrameIssuesManager.ts", "../../../../../../front_end/models/issues_manager/StylesheetLoadingIssue.ts", "../../../../../../front_end/models/issues_manager/SRIMessageSignatureIssue.ts", "../../../../../../front_end/models/issues_manager/UnencodedDigestIssue.ts", "../../../../../../front_end/models/issues_manager/UserReidentificationIssue.ts", "../../../../../../front_end/models/issues_manager/RelatedIssue.ts"],
  "sourcesContent": ["// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nexport const enum IssueCode {\n  PERMISSION_POLICY_DISABLED = 'AttributionReportingIssue::PermissionPolicyDisabled',\n  UNTRUSTWORTHY_REPORTING_ORIGIN = 'AttributionReportingIssue::UntrustworthyReportingOrigin',\n  INSECURE_CONTEXT = 'AttributionReportingIssue::InsecureContext',\n  INVALID_REGISTER_SOURCE_HEADER = 'AttributionReportingIssue::InvalidRegisterSourceHeader',\n  INVALID_REGISTER_TRIGGER_HEADER = 'AttributionReportingIssue::InvalidRegisterTriggerHeader',\n  SOURCE_AND_TRIGGER_HEADERS = 'AttributionReportingIssue::SourceAndTriggerHeaders',\n  SOURCE_IGNORED = 'AttributionReportingIssue::SourceIgnored',\n  TRIGGER_IGNORED = 'AttributionReportingIssue::TriggerIgnored',\n  OS_SOURCE_IGNORED = 'AttributionReportingIssue::OsSourceIgnored',\n  OS_TRIGGER_IGNORED = 'AttributionReportingIssue::OsTriggerIgnored',\n  INVALID_REGISTER_OS_SOURCE_HEADER = 'AttributionReportingIssue::InvalidRegisterOsSourceHeader',\n  INVALID_REGISTER_OS_TRIGGER_HEADER = 'AttributionReportingIssue::InvalidRegisterOsTriggerHeader',\n  WEB_AND_OS_HEADERS = 'AttributionReportingIssue::WebAndOsHeaders',\n  NO_WEB_OR_OS_SUPPORT = 'AttributionReportingIssue::NoWebOrOsSupport',\n  NAVIGATION_REGISTRATION_WITHOUT_TRANSIENT_USER_ACTIVATION =\n      'AttributionReportingIssue::NavigationRegistrationWithoutTransientUserActivation',\n  INVALID_INFO_HEADER = 'AttributionReportingIssue::InvalidInfoHeader',\n  NO_REGISTER_SOURCE_HEADER = 'AttributionReportingIssue::NoRegisterSourceHeader',\n  NO_REGISTER_TRIGGER_HEADER = 'AttributionReportingIssue::NoRegisterTriggerHeader',\n  NO_REGISTER_OS_SOURCE_HEADER = 'AttributionReportingIssue::NoRegisterOsSourceHeader',\n  NO_REGISTER_OS_TRIGGER_HEADER = 'AttributionReportingIssue::NoRegisterOsTriggerHeader',\n  NAVIGATION_REGISTRATION_UNIQUE_SCOPE_ALREADY_SET =\n      'AttributionReportingIssue::NavigationRegistrationUniqueScopeAlreadySet',\n  UNKNOWN = 'AttributionReportingIssue::Unknown',\n}\n\nfunction getIssueCode(details: Protocol.Audits.AttributionReportingIssueDetails): IssueCode {\n  switch (details.violationType) {\n    case Protocol.Audits.AttributionReportingIssueType.PermissionPolicyDisabled:\n      return IssueCode.PERMISSION_POLICY_DISABLED;\n    case Protocol.Audits.AttributionReportingIssueType.UntrustworthyReportingOrigin:\n      return IssueCode.UNTRUSTWORTHY_REPORTING_ORIGIN;\n    case Protocol.Audits.AttributionReportingIssueType.InsecureContext:\n      return IssueCode.INSECURE_CONTEXT;\n    case Protocol.Audits.AttributionReportingIssueType.InvalidHeader:\n      return IssueCode.INVALID_REGISTER_SOURCE_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.InvalidRegisterTriggerHeader:\n      return IssueCode.INVALID_REGISTER_TRIGGER_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.SourceAndTriggerHeaders:\n      return IssueCode.SOURCE_AND_TRIGGER_HEADERS;\n    case Protocol.Audits.AttributionReportingIssueType.SourceIgnored:\n      return IssueCode.SOURCE_IGNORED;\n    case Protocol.Audits.AttributionReportingIssueType.TriggerIgnored:\n      return IssueCode.TRIGGER_IGNORED;\n    case Protocol.Audits.AttributionReportingIssueType.OsSourceIgnored:\n      return IssueCode.OS_SOURCE_IGNORED;\n    case Protocol.Audits.AttributionReportingIssueType.OsTriggerIgnored:\n      return IssueCode.OS_TRIGGER_IGNORED;\n    case Protocol.Audits.AttributionReportingIssueType.InvalidRegisterOsSourceHeader:\n      return IssueCode.INVALID_REGISTER_OS_SOURCE_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.InvalidRegisterOsTriggerHeader:\n      return IssueCode.INVALID_REGISTER_OS_TRIGGER_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.WebAndOsHeaders:\n      return IssueCode.WEB_AND_OS_HEADERS;\n    case Protocol.Audits.AttributionReportingIssueType.NoWebOrOsSupport:\n      return IssueCode.NO_WEB_OR_OS_SUPPORT;\n    case Protocol.Audits.AttributionReportingIssueType.NavigationRegistrationWithoutTransientUserActivation:\n      return IssueCode.NAVIGATION_REGISTRATION_WITHOUT_TRANSIENT_USER_ACTIVATION;\n    case Protocol.Audits.AttributionReportingIssueType.InvalidInfoHeader:\n      return IssueCode.INVALID_INFO_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.NoRegisterSourceHeader:\n      return IssueCode.NO_REGISTER_SOURCE_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.NoRegisterTriggerHeader:\n      return IssueCode.NO_REGISTER_TRIGGER_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.NoRegisterOsSourceHeader:\n      return IssueCode.NO_REGISTER_OS_SOURCE_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.NoRegisterOsTriggerHeader:\n      return IssueCode.NO_REGISTER_OS_TRIGGER_HEADER;\n    case Protocol.Audits.AttributionReportingIssueType.NavigationRegistrationUniqueScopeAlreadySet:\n      return IssueCode.NAVIGATION_REGISTRATION_UNIQUE_SCOPE_ALREADY_SET;\n    default:\n      return IssueCode.UNKNOWN;\n  }\n}\n\nconst structuredHeaderLink = {\n  link: 'https://tools.ietf.org/id/draft-ietf-httpbis-header-structure-15.html#rfc.section.4.2.2',\n  linkTitle: 'Structured Headers RFC',\n};\n\nexport class AttributionReportingIssue extends Issue<IssueCode> {\n  issueDetails: Readonly<Protocol.Audits.AttributionReportingIssueDetails>;\n\n  constructor(\n      issueDetails: Protocol.Audits.AttributionReportingIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(getIssueCode(issueDetails), issuesModel);\n    this.issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.ATTRIBUTION_REPORTING;\n  }\n\n  getHeaderValidatorLink(name: string): {link: string, linkTitle: string} {\n    const url = new URL('https://wicg.github.io/attribution-reporting-api/validate-headers');\n    url.searchParams.set('header', name);\n\n    if (this.issueDetails.invalidParameter) {\n      url.searchParams.set('json', this.issueDetails.invalidParameter);\n    }\n\n    return {\n      link: url.toString(),\n      linkTitle: 'Header Validator',\n    };\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    switch (this.code()) {\n      case IssueCode.PERMISSION_POLICY_DISABLED:\n        return {\n          file: 'arPermissionPolicyDisabled.md',\n          links: [],\n        };\n      case IssueCode.UNTRUSTWORTHY_REPORTING_ORIGIN:\n        return {\n          file: 'arUntrustworthyReportingOrigin.md',\n          links: [],\n        };\n      case IssueCode.INSECURE_CONTEXT:\n        return {\n          file: 'arInsecureContext.md',\n          links: [],\n        };\n      case IssueCode.INVALID_REGISTER_SOURCE_HEADER:\n        return {\n          file: 'arInvalidRegisterSourceHeader.md',\n          links: [this.getHeaderValidatorLink('source')],\n        };\n      case IssueCode.INVALID_REGISTER_TRIGGER_HEADER:\n        return {\n          file: 'arInvalidRegisterTriggerHeader.md',\n          links: [this.getHeaderValidatorLink('trigger')],\n        };\n      case IssueCode.INVALID_REGISTER_OS_SOURCE_HEADER:\n        return {\n          file: 'arInvalidRegisterOsSourceHeader.md',\n          links: [this.getHeaderValidatorLink('os-source')],\n        };\n      case IssueCode.INVALID_REGISTER_OS_TRIGGER_HEADER:\n        return {\n          file: 'arInvalidRegisterOsTriggerHeader.md',\n          links: [this.getHeaderValidatorLink('os-trigger')],\n        };\n      case IssueCode.SOURCE_AND_TRIGGER_HEADERS:\n        return {\n          file: 'arSourceAndTriggerHeaders.md',\n          links: [],\n        };\n      case IssueCode.WEB_AND_OS_HEADERS:\n        return {\n          file: 'arWebAndOsHeaders.md',\n          links: [],\n        };\n      case IssueCode.SOURCE_IGNORED:\n        return {\n          file: 'arSourceIgnored.md',\n          links: [structuredHeaderLink],\n        };\n      case IssueCode.TRIGGER_IGNORED:\n        return {\n          file: 'arTriggerIgnored.md',\n          links: [structuredHeaderLink],\n        };\n      case IssueCode.OS_SOURCE_IGNORED:\n        return {\n          file: 'arOsSourceIgnored.md',\n          links: [structuredHeaderLink],\n        };\n      case IssueCode.OS_TRIGGER_IGNORED:\n        return {\n          file: 'arOsTriggerIgnored.md',\n          links: [structuredHeaderLink],\n        };\n      case IssueCode.NAVIGATION_REGISTRATION_WITHOUT_TRANSIENT_USER_ACTIVATION:\n        return {\n          file: 'arNavigationRegistrationWithoutTransientUserActivation.md',\n          links: [],\n        };\n      case IssueCode.NO_WEB_OR_OS_SUPPORT:\n        return {\n          file: 'arNoWebOrOsSupport.md',\n          links: [],\n        };\n      case IssueCode.INVALID_INFO_HEADER:\n        return {\n          file: 'arInvalidInfoHeader.md',\n          links: [],\n        };\n      case IssueCode.NO_REGISTER_SOURCE_HEADER:\n        return {\n          file: 'arNoRegisterSourceHeader.md',\n          links: [],\n        };\n      case IssueCode.NO_REGISTER_TRIGGER_HEADER:\n        return {\n          file: 'arNoRegisterTriggerHeader.md',\n          links: [],\n        };\n      case IssueCode.NO_REGISTER_OS_SOURCE_HEADER:\n        return {\n          file: 'arNoRegisterOsSourceHeader.md',\n          links: [],\n        };\n      case IssueCode.NO_REGISTER_OS_TRIGGER_HEADER:\n        return {\n          file: 'arNoRegisterOsTriggerHeader.md',\n          links: [],\n        };\n      case IssueCode.NAVIGATION_REGISTRATION_UNIQUE_SCOPE_ALREADY_SET:\n        return {\n          file: 'arNavigationRegistrationUniqueScopeAlreadySet.md',\n          links: [],\n        };\n      case IssueCode.UNKNOWN:\n        return null;\n    }\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      AttributionReportingIssue[] {\n    const {attributionReportingIssueDetails} = inspectorIssue.details;\n    if (!attributionReportingIssueDetails) {\n      console.warn('Attribution Reporting issue without details received.');\n      return [];\n    }\n    return [new AttributionReportingIssue(attributionReportingIssueDetails, issuesModel)];\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description The kind of an issue (plural) (Issues are categorized into kinds).\n   */\n  improvements: 'Improvements',\n  /**\n   * @description The kind of an issue (plural) (Issues are categorized into kinds).\n   */\n  pageErrors: 'Page Errors',\n  /**\n   * @description The kind of an issue (plural) (Issues are categorized into kinds).\n   */\n  breakingChanges: 'Breaking Changes',\n  /**\n   * @description A description for a kind of issue we display in the issues tab.\n   */\n  pageErrorIssue: 'A page error issue: the page is not working correctly',\n  /**\n   * @description A description for a kind of issue we display in the issues tab.\n   */\n  breakingChangeIssue: 'A breaking change issue: the page may stop working in an upcoming version of Chrome',\n  /**\n   * @description A description for a kind of issue we display in the issues tab.\n   */\n  improvementIssue: 'An improvement issue: there is an opportunity to improve the page',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/Issue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport const enum IssueCategory {\n  CROSS_ORIGIN_EMBEDDER_POLICY = 'CrossOriginEmbedderPolicy',\n  GENERIC = 'Generic',\n  MIXED_CONTENT = 'MixedContent',\n  COOKIE = 'Cookie',\n  HEAVY_AD = 'HeavyAd',\n  CONTENT_SECURITY_POLICY = 'ContentSecurityPolicy',\n  LOW_TEXT_CONTRAST = 'LowTextContrast',\n  CORS = 'Cors',\n  ATTRIBUTION_REPORTING = 'AttributionReporting',\n  QUIRKS_MODE = 'QuirksMode',\n  OTHER = 'Other',\n}\n\nexport const enum IssueKind {\n  /**\n   * Something is not working in the page right now. Issues of this kind need\n   * usually be fixed right away. They usually indicate that a Web API is being\n   * used in a wrong way, or that a network request was misconfigured.\n   */\n  PAGE_ERROR = 'PageError',\n  /**\n   * The page is using a Web API or relying on browser behavior that is going\n   * to change in the future. If possible, the message associated with issues\n   * of this kind should include a time when the behavior is going to change.\n   */\n  BREAKING_CHANGE = 'BreakingChange',\n  /**\n   * Anything that can be improved about the page, but isn't urgent and doesn't\n   * impair functionality in a major way.\n   */\n  IMPROVEMENT = 'Improvement',\n}\n\nexport function getIssueKindName(issueKind: IssueKind): Common.UIString.LocalizedString {\n  switch (issueKind) {\n    case IssueKind.BREAKING_CHANGE:\n      return i18nString(UIStrings.breakingChanges);\n    case IssueKind.IMPROVEMENT:\n      return i18nString(UIStrings.improvements);\n    case IssueKind.PAGE_ERROR:\n      return i18nString(UIStrings.pageErrors);\n  }\n}\n\nexport function getIssueKindDescription(issueKind: IssueKind): Common.UIString.LocalizedString {\n  switch (issueKind) {\n    case IssueKind.PAGE_ERROR:\n      return i18nString(UIStrings.pageErrorIssue);\n    case IssueKind.BREAKING_CHANGE:\n      return i18nString(UIStrings.breakingChangeIssue);\n    case IssueKind.IMPROVEMENT:\n      return i18nString(UIStrings.improvementIssue);\n  }\n}\n\n/**\n * Union two issue kinds for issue aggregation. The idea is to show the most\n * important kind on aggregated issues that union issues of different kinds.\n */\nexport function unionIssueKind(a: IssueKind, b: IssueKind): IssueKind {\n  if (a === IssueKind.PAGE_ERROR || b === IssueKind.PAGE_ERROR) {\n    return IssueKind.PAGE_ERROR;\n  }\n  if (a === IssueKind.BREAKING_CHANGE || b === IssueKind.BREAKING_CHANGE) {\n    return IssueKind.BREAKING_CHANGE;\n  }\n  return IssueKind.IMPROVEMENT;\n}\n\nexport function getShowThirdPartyIssuesSetting(): Common.Settings.Setting<boolean> {\n  return Common.Settings.Settings.instance().createSetting('show-third-party-issues', true);\n}\n\nexport interface AffectedElement {\n  backendNodeId: Protocol.DOM.BackendNodeId;\n  nodeName: string;\n  target: SDK.Target.Target|null;\n}\n\nexport abstract class Issue<IssueCode extends string = string> {\n  #issueCode: IssueCode;\n  #issuesModel: SDK.IssuesModel.IssuesModel|null;\n  protected issueId: Protocol.Audits.IssueId|undefined = undefined;\n  #hidden: boolean;\n\n  constructor(\n      code: IssueCode|{code: IssueCode, umaCode: string}, issuesModel: SDK.IssuesModel.IssuesModel|null = null,\n      issueId?: Protocol.Audits.IssueId) {\n    this.#issueCode = typeof code === 'object' ? code.code : code;\n    this.#issuesModel = issuesModel;\n    this.issueId = issueId;\n    Host.userMetrics.issueCreated(typeof code === 'string' ? code : code.umaCode);\n    this.#hidden = false;\n  }\n\n  code(): IssueCode {\n    return this.#issueCode;\n  }\n\n  abstract primaryKey(): string;\n  abstract getDescription(): MarkdownIssueDescription|null;\n  abstract getCategory(): IssueCategory;\n  abstract getKind(): IssueKind;\n\n  getBlockedByResponseDetails(): Iterable<Protocol.Audits.BlockedByResponseIssueDetails> {\n    return [];\n  }\n\n  cookies(): Iterable<Protocol.Audits.AffectedCookie> {\n    return [];\n  }\n\n  rawCookieLines(): Iterable<string> {\n    return [];\n  }\n\n  elements(): Iterable<AffectedElement> {\n    return [];\n  }\n\n  requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    return [];\n  }\n\n  sources(): Iterable<Protocol.Audits.SourceCodeLocation> {\n    return [];\n  }\n\n  trackingSites(): Iterable<string> {\n    return [];\n  }\n\n  isAssociatedWithRequestId(requestId: string): boolean {\n    for (const request of this.requests()) {\n      if (request.requestId === requestId) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * The model might be unavailable or belong to a target that has already been disposed.\n   */\n  model(): SDK.IssuesModel.IssuesModel|null {\n    return this.#issuesModel;\n  }\n\n  isCausedByThirdParty(): boolean {\n    return false;\n  }\n\n  getIssueId(): Protocol.Audits.IssueId|undefined {\n    return this.issueId;\n  }\n\n  isHidden(): boolean {\n    return this.#hidden;\n  }\n\n  setHidden(hidden: boolean): void {\n    this.#hidden = hidden;\n  }\n\n  maybeCreateConsoleMessage(): SDK.ConsoleModel.ConsoleMessage|undefined {\n    return;\n  }\n}\n\nexport function toZeroBasedLocation(location: Protocol.Audits.SourceCodeLocation|undefined): {\n  url: Platform.DevToolsPath.UrlString,\n  scriptId: Protocol.Runtime.ScriptId|undefined,\n  lineNumber: number,\n  columnNumber: number|undefined,\n}|undefined {\n  if (!location) {\n    return undefined;\n  }\n  return {\n    url: location.url as Platform.DevToolsPath.UrlString,\n    scriptId: location.scriptId,\n    lineNumber: location.lineNumber,\n    columnNumber: location.columnNumber === 0 ? undefined : location.columnNumber - 1,\n  };\n}\n", "\n// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport type * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\n\n/**\n * Responsible for asking autofill for current form issues. This currently happens when devtools is first open.\n */\n// TODO(crbug.com/1399414): Trigger check form issues when an element with an associated issue is editted in the issues panel.\nlet checkFormsIssuesTriggerInstance: CheckFormsIssuesTrigger|null = null;\nexport class CheckFormsIssuesTrigger {\n  constructor() {\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.Load, this.#pageLoaded, this,\n        {scoped: true});\n\n    for (const model of SDK.TargetManager.TargetManager.instance().models(SDK.ResourceTreeModel.ResourceTreeModel)) {\n      if (model.target().outermostTarget() !== model.target()) {\n        continue;\n      }\n\n      this.#checkFormsIssues(model);\n    }\n  }\n\n  static instance({forceNew}: {forceNew: boolean} = {forceNew: false}): CheckFormsIssuesTrigger {\n    if (!checkFormsIssuesTriggerInstance || forceNew) {\n      checkFormsIssuesTriggerInstance = new CheckFormsIssuesTrigger();\n    }\n    return checkFormsIssuesTriggerInstance;\n  }\n\n  // TODO(crbug.com/1399414): Handle response by dropping current issues in favor of new ones.\n  #checkFormsIssues(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): void {\n    void resourceTreeModel.target().auditsAgent().invoke_checkFormsIssues();\n  }\n\n  #pageLoaded(event: Common.EventTarget\n                  .EventTargetEvent<{resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel, loadTime: number}>):\n      void {\n    const {resourceTreeModel} = event.data;\n    this.#checkFormsIssues(resourceTreeModel);\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Client Hint specification url link\n   */\n  clientHintsInfrastructure: 'Client Hints Infrastructure',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/ClientHintIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class ClientHintIssue extends Issue {\n  private issueDetails: Protocol.Audits.ClientHintIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.ClientHintIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: Protocol.Audits.InspectorIssueCode.ClientHintIssue,\n          umaCode: [Protocol.Audits.InspectorIssueCode.ClientHintIssue, issueDetails.clientHintIssueReason].join('::'),\n        },\n        issuesModel);\n    this.issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.ClientHintIssueDetails {\n    return this.issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.issueDetails.clientHintIssueReason);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  override sources(): Iterable<Protocol.Audits.SourceCodeLocation> {\n    return [this.issueDetails.sourceCodeLocation];\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      ClientHintIssue[] {\n    const details = inspectorIssue.details.clientHintIssueDetails;\n    if (!details) {\n      console.warn('Client Hint issue without details received.');\n      return [];\n    }\n    return [new ClientHintIssue(details, issuesModel)];\n  }\n}\n\nconst issueDescriptions = new Map<Protocol.Audits.ClientHintIssueReason, LazyMarkdownIssueDescription>([\n  [\n    Protocol.Audits.ClientHintIssueReason.MetaTagAllowListInvalidOrigin,\n    {\n      file: 'clientHintMetaTagAllowListInvalidOrigin.md',\n      links: [{\n        link: 'https://wicg.github.io/client-hints-infrastructure/',\n        linkTitle: i18nLazyString(UIStrings.clientHintsInfrastructure),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.ClientHintIssueReason.MetaTagModifiedHTML,\n    {\n      file: 'clientHintMetaTagModifiedHTML.md',\n      links: [{\n        link: 'https://wicg.github.io/client-hints-infrastructure/',\n        linkTitle: i18nLazyString(UIStrings.clientHintsInfrastructure),\n      }],\n    },\n  ],\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Marked from '../../third_party/marked/marked.js';\n\n/**\n * The description that subclasses of `Issue` use define the issue appearance:\n * `file` specifies the markdown file, substitutions can be used to replace\n * placeholders with, e.g. URLs. The `links` property is used to specify the\n * links at the bottom of the issue.\n */\nexport interface MarkdownIssueDescription {\n  file: string;\n  substitutions?: Map<string, string>;\n  links: Array<{link: string, linkTitle: string}>;\n}\n\nexport interface LazyMarkdownIssueDescription {\n  file: string;\n  substitutions?: Map<string, () => string>;\n  links: Array<{link: string, linkTitle: () => string}>;\n}\n\n/**\n * A lazy version of the description. Allows to specify a description as a\n * constant and at the same time delays resolution of the substitutions\n * and/or link titles to allow localization.\n */\nexport function resolveLazyDescription(lazyDescription: LazyMarkdownIssueDescription): MarkdownIssueDescription {\n  function linksMap(currentLink: {link: string, linkTitle: () => string}): {link: string, linkTitle: string} {\n    return {link: currentLink.link, linkTitle: currentLink.linkTitle()};\n  }\n\n  const substitutionMap = new Map();\n  lazyDescription.substitutions?.forEach((value, key) => {\n    substitutionMap.set(key, value());\n  });\n\n  const description = {\n    file: lazyDescription.file,\n    links: lazyDescription.links.map(linksMap),\n    substitutions: substitutionMap,\n  };\n  return description;\n}\n\n/**\n * A loaded and parsed issue description. This is usually obtained by loading\n * a `MarkdownIssueDescription` via `createIssueDescriptionFromMarkdown`.\n */\nexport interface IssueDescription {\n  title: string;\n  markdown: Marked.Marked.Token[];\n  links: Array<{link: string, linkTitle: string}>;\n}\n\nexport async function getFileContent(url: URL): Promise<string> {\n  try {\n    const response = await fetch(url.toString());\n    return await response.text();\n  } catch {\n    throw new Error(\n        `Markdown file ${url.toString()} not found. Make sure it is correctly listed in the relevant BUILD.gn files.`);\n  }\n}\n\nexport async function getMarkdownFileContent(filename: string): Promise<string> {\n  return await getFileContent(new URL(`descriptions/${filename}`, import.meta.url));\n}\n\nexport async function createIssueDescriptionFromMarkdown(description: MarkdownIssueDescription):\n    Promise<IssueDescription> {\n  const rawMarkdown = await getMarkdownFileContent(description.file);\n  const rawMarkdownWithPlaceholdersReplaced = substitutePlaceholders(rawMarkdown, description.substitutions);\n  return createIssueDescriptionFromRawMarkdown(rawMarkdownWithPlaceholdersReplaced, description);\n}\n\n/**\n * This function is exported separately for unit testing.\n */\nexport function createIssueDescriptionFromRawMarkdown(\n    markdown: string, description: MarkdownIssueDescription): IssueDescription {\n  const markdownAst = Marked.Marked.lexer(markdown);\n  const title = findTitleFromMarkdownAst(markdownAst);\n  if (!title) {\n    throw new Error('Markdown issue descriptions must start with a heading');\n  }\n\n  return {\n    title,\n    markdown: markdownAst.slice(1),\n    links: description.links,\n  };\n}\n\nconst validPlaceholderMatchPattern = /\\{(PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*)\\}/g;\nconst validPlaceholderNamePattern = /PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*/;\n\n/**\n * Replaces placeholders in markdown text with a string provided by the\n * `substitutions` map. To keep mental overhead to a minimum, the same\n * syntax is used as for l10n placeholders. Please note that the\n * placeholders require a mandatory 'PLACEHOLDER_' prefix.\n *\n * Example:\n *   const str = \"This is markdown with `code` and two placeholders, namely {PLACEHOLDER_PH1} and {PLACEHOLDER_PH2}\".\n *   const result = substitutePlaceholders(str, new Map([['PLACEHOLDER_PH1', 'foo'], ['PLACEHOLDER_PH2', 'bar']]));\n *\n * Exported only for unit testing.\n */\nexport function substitutePlaceholders(markdown: string, substitutions?: Map<string, string>): string {\n  const unusedPlaceholders = new Set(substitutions ? substitutions.keys() : []);\n  validatePlaceholders(unusedPlaceholders);\n\n  const result = markdown.replace(validPlaceholderMatchPattern, (_, placeholder) => {\n    const replacement = substitutions ? substitutions.get(placeholder) : undefined;\n    if (replacement === undefined) {\n      throw new Error(`No replacement provided for placeholder '${placeholder}'.`);\n    }\n    unusedPlaceholders.delete(placeholder);\n    return replacement;\n  });\n\n  if (unusedPlaceholders.size > 0) {\n    throw new Error(`Unused replacements provided: ${[...unusedPlaceholders]}`);\n  }\n\n  return result;\n}\n\n// Ensure that all provided placeholders match the naming pattern.\nfunction validatePlaceholders(placeholders: Set<string>): void {\n  const invalidPlaceholders = [...placeholders].filter(placeholder => !validPlaceholderNamePattern.test(placeholder));\n  if (invalidPlaceholders.length > 0) {\n    throw new Error(`Invalid placeholders provided in the substitutions map: ${invalidPlaceholders}`);\n  }\n}\n\nexport function findTitleFromMarkdownAst(markdownAst: Marked.Marked.Token[]): string|null {\n  if (markdownAst.length === 0 || markdownAst[0].type !== 'heading' || markdownAst[0].depth !== 1) {\n    return null;\n  }\n  return markdownAst[0].text;\n}\n\nexport async function getIssueTitleFromMarkdownDescription(description: MarkdownIssueDescription):\n    Promise<string|null> {\n  const rawMarkdown = await getMarkdownFileContent(description.file);\n  const markdownAst = Marked.Marked.lexer(rawMarkdown);\n  return findTitleFromMarkdownAst(markdownAst);\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  resolveLazyDescription,\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for CSP url link\n   */\n  contentSecurityPolicySource: 'Content Security Policy - Source Allowlists',\n  /**\n   * @description Title for CSP inline issue link\n   */\n  contentSecurityPolicyInlineCode: 'Content Security Policy - Inline Code',\n  /**\n   * @description Title for the CSP eval link\n   */\n  contentSecurityPolicyEval: 'Content Security Policy - Eval',\n  /**\n   * @description Title for Trusted Types policy violation issue link. https://developer.mozilla.org/en-US/docs/Web/API/Trusted_Types_API\n   */\n  trustedTypesFixViolations: 'Trusted Types - Fix violations',\n  /**\n   * @description Title for Trusted Types policy violation issue link. https://developer.mozilla.org/en-US/docs/Web/API/Trusted_Types_API\n   */\n  trustedTypesPolicyViolation: 'Trusted Types - Policy violation',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/ContentSecurityPolicyIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class ContentSecurityPolicyIssue extends Issue {\n  #issueDetails: Protocol.Audits.ContentSecurityPolicyIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.ContentSecurityPolicyIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId?: Protocol.Audits.IssueId) {\n    const issueCode = [\n      Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n      issueDetails.contentSecurityPolicyViolationType,\n    ].join('::');\n    super(issueCode, issuesModel, issueId);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.CONTENT_SECURITY_POLICY;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails, [\n      'blockedURL',\n      'contentSecurityPolicyViolationType',\n      'violatedDirective',\n      'isReportOnly',\n      'sourceCodeLocation',\n      'url',\n      'lineNumber',\n      'columnNumber',\n      'violatingNodeId',\n    ]);\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.#issueDetails.contentSecurityPolicyViolationType);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  details(): Protocol.Audits.ContentSecurityPolicyIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getKind(): IssueKind {\n    if (this.#issueDetails.isReportOnly) {\n      return IssueKind.IMPROVEMENT;\n    }\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      ContentSecurityPolicyIssue[] {\n    const cspDetails = inspectorIssue.details.contentSecurityPolicyIssueDetails;\n    if (!cspDetails) {\n      console.warn('Content security policy issue without details received.');\n      return [];\n    }\n    return [new ContentSecurityPolicyIssue(cspDetails, issuesModel, inspectorIssue.issueId)];\n  }\n}\n\nconst cspURLViolation = {\n  file: 'cspURLViolation.md',\n  links: [{\n    link: 'https://developers.google.com/web/fundamentals/security/csp#source_allowlists',\n    linkTitle: i18nLazyString(UIStrings.contentSecurityPolicySource),\n  }],\n};\n\nconst cspInlineViolation = {\n  file: 'cspInlineViolation.md',\n  links: [{\n    link: 'https://developers.google.com/web/fundamentals/security/csp#inline_code_is_considered_harmful',\n    linkTitle: i18nLazyString(UIStrings.contentSecurityPolicyInlineCode),\n  }],\n};\n\nconst cspEvalViolation = {\n  file: 'cspEvalViolation.md',\n  links: [{\n    link: 'https://developers.google.com/web/fundamentals/security/csp#eval_too',\n    linkTitle: i18nLazyString(UIStrings.contentSecurityPolicyEval),\n  }],\n};\n\nconst cspTrustedTypesSinkViolation = {\n  file: 'cspTrustedTypesSinkViolation.md',\n  links: [{\n    link: 'https://web.dev/trusted-types/#fix-the-violations',\n    linkTitle: i18nLazyString(UIStrings.trustedTypesFixViolations),\n  }],\n};\n\nconst cspTrustedTypesPolicyViolation = {\n  file: 'cspTrustedTypesPolicyViolation.md',\n  links: [{link: 'https://web.dev/trusted-types/', linkTitle: i18nLazyString(UIStrings.trustedTypesPolicyViolation)}],\n};\n\nexport const urlViolationCode = [\n  Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n  Protocol.Audits.ContentSecurityPolicyViolationType.KURLViolation,\n].join('::');\n\nexport const inlineViolationCode = [\n  Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n  Protocol.Audits.ContentSecurityPolicyViolationType.KInlineViolation,\n].join('::');\n\nexport const evalViolationCode = [\n  Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n  Protocol.Audits.ContentSecurityPolicyViolationType.KEvalViolation,\n].join('::');\n\nexport const trustedTypesSinkViolationCode = [\n  Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n  Protocol.Audits.ContentSecurityPolicyViolationType.KTrustedTypesSinkViolation,\n].join('::');\n\nexport const trustedTypesPolicyViolationCode = [\n  Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n  Protocol.Audits.ContentSecurityPolicyViolationType.KTrustedTypesPolicyViolation,\n].join('::');\n\nconst issueDescriptions = new Map<Protocol.Audits.ContentSecurityPolicyViolationType, LazyMarkdownIssueDescription>([\n  [Protocol.Audits.ContentSecurityPolicyViolationType.KURLViolation, cspURLViolation],\n  [Protocol.Audits.ContentSecurityPolicyViolationType.KInlineViolation, cspInlineViolation],\n  [Protocol.Audits.ContentSecurityPolicyViolationType.KEvalViolation, cspEvalViolation],\n  [Protocol.Audits.ContentSecurityPolicyViolationType.KTrustedTypesSinkViolation, cspTrustedTypesSinkViolation],\n  [Protocol.Audits.ContentSecurityPolicyViolationType.KTrustedTypesPolicyViolation, cspTrustedTypesPolicyViolation],\n]);\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\n\nlet contrastCheckTriggerInstance: ContrastCheckTrigger|null = null;\n\nexport class ContrastCheckTrigger {\n  #pageLoadListeners = new WeakMap<SDK.ResourceTreeModel.ResourceTreeModel, Common.EventTarget.EventDescriptor>();\n  #frameAddedListeners = new WeakMap<SDK.ResourceTreeModel.ResourceTreeModel, Common.EventTarget.EventDescriptor>();\n\n  constructor() {\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.ResourceTreeModel.ResourceTreeModel, this);\n  }\n\n  static instance({forceNew}: {forceNew: boolean} = {forceNew: false}): ContrastCheckTrigger {\n    if (!contrastCheckTriggerInstance || forceNew) {\n      contrastCheckTriggerInstance = new ContrastCheckTrigger();\n    }\n\n    return contrastCheckTriggerInstance;\n  }\n\n  async modelAdded(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): Promise<void> {\n    this.#pageLoadListeners.set(\n        resourceTreeModel,\n        resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.Load, this.#pageLoaded, this));\n    this.#frameAddedListeners.set(\n        resourceTreeModel,\n        resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.FrameAdded, this.#frameAdded, this));\n  }\n\n  modelRemoved(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): void {\n    const pageLoadListener = this.#pageLoadListeners.get(resourceTreeModel);\n    if (pageLoadListener) {\n      Common.EventTarget.removeEventListeners([pageLoadListener]);\n    }\n    const frameAddedListeners = this.#frameAddedListeners.get(resourceTreeModel);\n    if (frameAddedListeners) {\n      Common.EventTarget.removeEventListeners([frameAddedListeners]);\n    }\n  }\n\n  #checkContrast(resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel): void {\n    if (!Root.Runtime.experiments.isEnabled('contrast-issues')) {\n      return;\n    }\n    void resourceTreeModel.target().auditsAgent().invoke_checkContrast({});\n  }\n\n  #pageLoaded(event: Common.EventTarget\n                  .EventTargetEvent<{resourceTreeModel: SDK.ResourceTreeModel.ResourceTreeModel, loadTime: number}>):\n      void {\n    const {resourceTreeModel} = event.data;\n    this.#checkContrast(resourceTreeModel);\n  }\n\n  async #frameAdded(event: Common.EventTarget.EventTargetEvent<SDK.ResourceTreeModel.ResourceTreeFrame>):\n      Promise<void> {\n    if (!Root.Runtime.experiments.isEnabled('contrast-issues')) {\n      return;\n    }\n    const frame = event.data;\n    if (!frame.isMainFrame()) {\n      return;\n    }\n    // If the target document finished loading, check the contrast immediately.\n    // Otherwise, it should be triggered when the page load event fires.\n    const response = await frame.resourceTreeModel().target().runtimeAgent().invoke_evaluate(\n        {expression: 'document.readyState', returnByValue: true});\n    if (response.result && response.result.value === 'complete') {\n      this.#checkContrast(frame.resourceTreeModel());\n    }\n  }\n}\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Label for a link for third-party cookie Issues.\n   */\n  thirdPartyPhaseoutExplained: 'Changes to Chrome\\'s treatment of third-party cookies',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/CookieDeprecationMetadataIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n// TODO(b/305738703): Move this issue into a warning on CookieIssue.\nexport class CookieDeprecationMetadataIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.CookieDeprecationMetadataIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.CookieDeprecationMetadataIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    // Set a distinct code for ReadCookie and SetCookie issues, so they are grouped separately.\n    const issueCode = Protocol.Audits.InspectorIssueCode.CookieDeprecationMetadataIssue + '_' + issueDetails.operation;\n    super(issueCode, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    const fileName = this.#issueDetails.operation === 'SetCookie' ? 'cookieWarnMetadataGrantSet.md' :\n                                                                    'cookieWarnMetadataGrantRead.md';\n\n    let optOutText = '';\n    if (this.#issueDetails.isOptOutTopLevel) {\n      optOutText = '\\n\\n (Top level site opt-out: ' + this.#issueDetails.optOutPercentage +\n          '% - [learn more](gracePeriodStagedControlExplainer))';\n    }\n\n    return {\n      file: fileName,\n      substitutions: new Map([\n        ['PLACEHOLDER_topleveloptout', optOutText],\n      ]),\n      links: [\n        {\n          link: 'https://goo.gle/changes-to-chrome-browsing',\n          linkTitle: i18nString(UIStrings.thirdPartyPhaseoutExplained),\n        },\n      ],\n    };\n  }\n\n  details(): Protocol.Audits.CookieDeprecationMetadataIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      CookieDeprecationMetadataIssue[] {\n    const details = inspectorIssue.details.cookieDeprecationMetadataIssueDetails;\n    if (!details) {\n      console.warn('Cookie deprecation metadata issue without details received.');\n      return [];\n    }\n    return [new CookieDeprecationMetadataIssue(details, issuesModel)];\n  }\n}\n", "\n// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as ThirdPartyWeb from '../../third_party/third-party-web/third-party-web.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Label for the link for SameSiteCookies Issues\n   */\n  samesiteCookiesExplained: 'SameSite cookies explained',\n  /**\n   * @description Label for the link for Schemeful Same-Site Issues\n   */\n  howSchemefulSamesiteWorks: 'How Schemeful Same-Site Works',\n  /**\n   * @description Label for a link for SameParty Issues. 'Attribute' refers to a cookie attribute.\n   */\n  firstPartySetsExplained: '`First-Party Sets` and the `SameParty` attribute',\n  /**\n   * @description Label for a link for cross-site redirect Issues.\n   */\n  fileCrosSiteRedirectBug: 'File a bug',\n  /**\n   * @description text to show in Console panel when a third-party cookie is blocked in Chrome.\n   */\n  consoleTpcdErrorMessage:\n      'Third-party cookie is blocked in Chrome either because of Chrome flags or browser configuration.',\n\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/CookieIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\n// The enum string values need to match the IssueExpanded enum values in UserMetrics.ts.\nexport const enum CookieIssueSubCategory {\n  GENERIC_COOKIE = 'GenericCookie',\n  SAME_SITE_COOKIE = 'SameSiteCookie',\n  THIRD_PARTY_PHASEOUT_COOKIE = 'ThirdPartyPhaseoutCookie',\n}\n\n// Enum to show cookie status from the security panel's third-party cookie report tool\nexport const enum CookieStatus {\n  BLOCKED = 0,\n  ALLOWED = 1,\n  ALLOWED_BY_GRACE_PERIOD = 2,\n  ALLOWED_BY_HEURISTICS = 3,\n}\n\nexport interface CookieReportInfo {\n  name: string;\n  domain: string;\n  type?: string;\n  platform?: string;\n  status: CookieStatus;\n  insight?: Protocol.Audits.CookieIssueInsight;\n}\n\nexport class CookieIssue extends Issue {\n  #issueDetails: Protocol.Audits.CookieIssueDetails;\n\n  constructor(\n      code: string, issueDetails: Protocol.Audits.CookieIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId: Protocol.Audits.IssueId|undefined) {\n    super(code, issuesModel, issueId);\n    this.#issueDetails = issueDetails;\n  }\n\n  cookieId(): string {\n    if (this.#issueDetails.cookie) {\n      const {domain, path, name} = this.#issueDetails.cookie;\n      const cookieId = `${domain};${path};${name}`;\n      return cookieId;\n    }\n    return this.#issueDetails.rawCookieLine ?? 'no-cookie-info';\n  }\n\n  primaryKey(): string {\n    const requestId = this.#issueDetails.request ? this.#issueDetails.request.requestId : 'no-request';\n    return `${this.code()}-(${this.cookieId()})-(${requestId})`;\n  }\n\n  /**\n   * Returns an array of issues from a given CookieIssueDetails.\n   */\n  static createIssuesFromCookieIssueDetails(\n      cookieIssueDetails: Protocol.Audits.CookieIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId: Protocol.Audits.IssueId|undefined): CookieIssue[] {\n    const issues: CookieIssue[] = [];\n\n    // Exclusion reasons have priority. It means a cookie was blocked. Create an issue\n    // for every exclusion reason but ignore warning reasons if the cookie was blocked.\n    // Some exclusion reasons are dependent on warning reasons existing in order to produce an issue.\n    if (cookieIssueDetails.cookieExclusionReasons && cookieIssueDetails.cookieExclusionReasons.length > 0) {\n      for (const exclusionReason of cookieIssueDetails.cookieExclusionReasons) {\n        const code = CookieIssue.codeForCookieIssueDetails(\n            exclusionReason, cookieIssueDetails.cookieWarningReasons, cookieIssueDetails.operation,\n            cookieIssueDetails.cookieUrl as Platform.DevToolsPath.UrlString | undefined);\n        if (code) {\n          issues.push(new CookieIssue(code, cookieIssueDetails, issuesModel, issueId));\n        }\n      }\n      return issues;\n    }\n\n    if (cookieIssueDetails.cookieWarningReasons) {\n      for (const warningReason of cookieIssueDetails.cookieWarningReasons) {\n        // warningReasons should be an empty array here.\n        const code = CookieIssue.codeForCookieIssueDetails(\n            warningReason, [], cookieIssueDetails.operation,\n            cookieIssueDetails.cookieUrl as Platform.DevToolsPath.UrlString | undefined);\n        if (code) {\n          issues.push(new CookieIssue(code, cookieIssueDetails, issuesModel, issueId));\n        }\n      }\n    }\n    return issues;\n  }\n\n  /**\n   * Calculates an issue code from a reason, an operation, and an array of warningReasons. All these together\n   * can uniquely identify a specific cookie issue.\n   * warningReasons is only needed for some CookieExclusionReason in order to determine if an issue should be raised.\n   * It is not required if reason is a CookieWarningReason.\n   *\n   * The issue code will be mapped to a CookieIssueSubCategory enum for metric purpose.\n   */\n  static codeForCookieIssueDetails(\n      reason: Protocol.Audits.CookieExclusionReason|Protocol.Audits.CookieWarningReason,\n      warningReasons: Protocol.Audits.CookieWarningReason[], operation: Protocol.Audits.CookieOperation,\n      cookieUrl?: Platform.DevToolsPath.UrlString): string|null {\n    const isURLSecure =\n        cookieUrl && (Common.ParsedURL.schemeIs(cookieUrl, 'https:') || Common.ParsedURL.schemeIs(cookieUrl, 'wss:'));\n    const secure = isURLSecure ? 'Secure' : 'Insecure';\n\n    if (reason === Protocol.Audits.CookieExclusionReason.ExcludeSameSiteStrict ||\n        reason === Protocol.Audits.CookieExclusionReason.ExcludeSameSiteLax ||\n        reason === Protocol.Audits.CookieExclusionReason.ExcludeSameSiteUnspecifiedTreatedAsLax) {\n      if (warningReasons && warningReasons.length > 0) {\n        if (warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnSameSiteStrictLaxDowngradeStrict)) {\n          return [\n            Protocol.Audits.InspectorIssueCode.CookieIssue,\n            'ExcludeNavigationContextDowngrade',\n            secure,\n          ].join('::');\n        }\n\n        if (warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnSameSiteStrictCrossDowngradeStrict) ||\n            warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnSameSiteStrictCrossDowngradeLax) ||\n            warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnSameSiteLaxCrossDowngradeStrict) ||\n            warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnSameSiteLaxCrossDowngradeLax)) {\n          return [\n            Protocol.Audits.InspectorIssueCode.CookieIssue,\n            'ExcludeContextDowngrade',\n            operation,\n            secure,\n          ].join('::');\n        }\n      }\n\n      if (warningReasons.includes(Protocol.Audits.CookieWarningReason.WarnCrossSiteRedirectDowngradeChangesInclusion)) {\n        return [\n          Protocol.Audits.InspectorIssueCode.CookieIssue,\n          'CrossSiteRedirectDowngradeChangesInclusion',\n        ].join('::');\n      }\n\n      // If we have ExcludeSameSiteUnspecifiedTreatedAsLax but no corresponding warnings, then add just\n      // the Issue code for ExcludeSameSiteUnspecifiedTreatedAsLax.\n      if (reason === Protocol.Audits.CookieExclusionReason.ExcludeSameSiteUnspecifiedTreatedAsLax) {\n        return [Protocol.Audits.InspectorIssueCode.CookieIssue, reason, operation].join('::');\n      }\n\n      // ExcludeSameSiteStrict and ExcludeSameSiteLax require being paired with an appropriate warning. We didn't\n      // find one of those warnings so return null to indicate there shouldn't be an issue created.\n      return null;\n    }\n\n    if (reason === Protocol.Audits.CookieWarningReason.WarnSameSiteStrictLaxDowngradeStrict) {\n      return [Protocol.Audits.InspectorIssueCode.CookieIssue, reason, secure].join('::');\n    }\n    // These have the same message.\n    if (reason === Protocol.Audits.CookieWarningReason.WarnSameSiteStrictCrossDowngradeStrict ||\n        reason === Protocol.Audits.CookieWarningReason.WarnSameSiteStrictCrossDowngradeLax ||\n        reason === Protocol.Audits.CookieWarningReason.WarnSameSiteLaxCrossDowngradeLax ||\n        reason === Protocol.Audits.CookieWarningReason.WarnSameSiteLaxCrossDowngradeStrict) {\n      return [Protocol.Audits.InspectorIssueCode.CookieIssue, 'WarnCrossDowngrade', operation, secure].join('::');\n    }\n\n    if (reason === Protocol.Audits.CookieExclusionReason.ExcludePortMismatch) {\n      return [Protocol.Audits.InspectorIssueCode.CookieIssue, 'ExcludePortMismatch'].join('::');\n    }\n\n    if (reason === Protocol.Audits.CookieExclusionReason.ExcludeSchemeMismatch) {\n      return [Protocol.Audits.InspectorIssueCode.CookieIssue, 'ExcludeSchemeMismatch'].join('::');\n    }\n    return [Protocol.Audits.InspectorIssueCode.CookieIssue, reason, operation].join('::');\n  }\n\n  override cookies(): Iterable<Protocol.Audits.AffectedCookie> {\n    if (this.#issueDetails.cookie) {\n      return [this.#issueDetails.cookie];\n    }\n    return [];\n  }\n\n  override rawCookieLines(): Iterable<string> {\n    if (this.#issueDetails.rawCookieLine) {\n      return [this.#issueDetails.rawCookieLine];\n    }\n    return [];\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    if (this.#issueDetails.request) {\n      return [this.#issueDetails.request];\n    }\n    return [];\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.COOKIE;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.code());\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  override isCausedByThirdParty(): boolean {\n    const outermostFrame = SDK.FrameManager.FrameManager.instance().getOutermostFrame();\n    return isCausedByThirdParty(outermostFrame, this.#issueDetails.cookieUrl, this.#issueDetails.siteForCookies);\n  }\n\n  getKind(): IssueKind {\n    if (this.#issueDetails.cookieExclusionReasons?.length > 0) {\n      return IssueKind.PAGE_ERROR;\n    }\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  makeCookieReportEntry(): CookieReportInfo|undefined {\n    const status = CookieIssue.getCookieStatus(this.#issueDetails);\n    if (this.#issueDetails.cookie && this.#issueDetails.cookieUrl && status !== undefined) {\n      const entity = ThirdPartyWeb.ThirdPartyWeb.getEntity(this.#issueDetails.cookieUrl);\n      return {\n        name: this.#issueDetails.cookie.name,\n        domain: this.#issueDetails.cookie.domain,\n        type: entity?.category,\n        platform: entity?.name,\n        status,\n        insight: this.#issueDetails.insight,\n      };\n    }\n\n    return;\n  }\n\n  static getCookieStatus(cookieIssueDetails: Protocol.Audits.CookieIssueDetails): CookieStatus|undefined {\n    if (cookieIssueDetails.cookieExclusionReasons.includes(\n            Protocol.Audits.CookieExclusionReason.ExcludeThirdPartyPhaseout)) {\n      return CookieStatus.BLOCKED;\n    }\n\n    if (cookieIssueDetails.cookieWarningReasons.includes(\n            Protocol.Audits.CookieWarningReason.WarnDeprecationTrialMetadata)) {\n      return CookieStatus.ALLOWED_BY_GRACE_PERIOD;\n    }\n\n    if (cookieIssueDetails.cookieWarningReasons.includes(\n            Protocol.Audits.CookieWarningReason.WarnThirdPartyCookieHeuristic)) {\n      return CookieStatus.ALLOWED_BY_HEURISTICS;\n    }\n\n    if (cookieIssueDetails.cookieWarningReasons.includes(Protocol.Audits.CookieWarningReason.WarnThirdPartyPhaseout)) {\n      return CookieStatus.ALLOWED;\n    }\n\n    return;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      CookieIssue[] {\n    const cookieIssueDetails = inspectorIssue.details.cookieIssueDetails;\n    if (!cookieIssueDetails) {\n      console.warn('Cookie issue without details received.');\n      return [];\n    }\n\n    return CookieIssue.createIssuesFromCookieIssueDetails(cookieIssueDetails, issuesModel, inspectorIssue.issueId);\n  }\n\n  static getSubCategory(code: string): CookieIssueSubCategory {\n    if (code.includes('SameSite') || code.includes('Downgrade')) {\n      return CookieIssueSubCategory.SAME_SITE_COOKIE;\n    }\n    if (code.includes('ThirdPartyPhaseout')) {\n      return CookieIssueSubCategory.THIRD_PARTY_PHASEOUT_COOKIE;\n    }\n    return CookieIssueSubCategory.GENERIC_COOKIE;\n  }\n\n  static isThirdPartyCookiePhaseoutRelatedIssue(issue: Issue): boolean {\n    const excludeFromAggregate = [\n      Protocol.Audits.CookieWarningReason.WarnThirdPartyCookieHeuristic,\n      Protocol.Audits.CookieWarningReason.WarnDeprecationTrialMetadata,\n      Protocol.Audits.CookieWarningReason.WarnThirdPartyPhaseout,\n      Protocol.Audits.CookieExclusionReason.ExcludeThirdPartyPhaseout,\n    ];\n\n    return (excludeFromAggregate.some(exclude => issue.code().includes(exclude)));\n  }\n\n  override maybeCreateConsoleMessage(): SDK.ConsoleModel.ConsoleMessage|undefined {\n    const issuesModel = this.model();\n    if (issuesModel && this.code().includes(Protocol.Audits.CookieExclusionReason.ExcludeThirdPartyPhaseout)) {\n      return new SDK.ConsoleModel.ConsoleMessage(\n          issuesModel.target().model(SDK.RuntimeModel.RuntimeModel), Common.Console.FrontendMessageSource.ISSUE_PANEL,\n          Protocol.Log.LogEntryLevel.Warning, UIStrings.consoleTpcdErrorMessage, {\n            url: this.#issueDetails.request?.url as Platform.DevToolsPath.UrlString | undefined,\n            affectedResources: {requestId: this.#issueDetails.request?.requestId, issueId: this.issueId},\n            isCookieReportIssue: true\n          });\n    }\n    return;\n  }\n}\n\n/**\n * Exported for unit test.\n */\nexport function isCausedByThirdParty(\n    outermostFrame: SDK.ResourceTreeModel.ResourceTreeFrame|null, cookieUrl?: string,\n    siteForCookies?: string): boolean {\n  if (!outermostFrame) {\n    // The outermost frame is not yet available. Consider this issue as a third-party issue\n    // until the outermost frame is available. This will prevent the issue from being visible\n    // for only just a split second.\n    return true;\n  }\n  // The value that should be consulted for the third-partiness as defined in\n  // https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-cookie-same-site#section-2.1.1\n  if (!siteForCookies) {\n    return true;\n  }\n\n  // In the case of no domain and registry, we assume its an IP address or localhost\n  // during development, in this case we classify the issue as first-party.\n  if (!cookieUrl || outermostFrame.domainAndRegistry() === '') {\n    return false;\n  }\n\n  const parsedCookieUrl = Common.ParsedURL.ParsedURL.fromString(cookieUrl);\n  if (!parsedCookieUrl) {\n    return false;\n  }\n\n  // For both operation types we compare the cookieUrl's domain  with the outermost frames\n  // registered domain to determine first-party vs third-party. If they don't match\n  // then we consider this issue a third-party issue.\n  //\n  // For a Set operation: The Set-Cookie response is part of a request to a third-party.\n  //\n  // For a Read operation: The cookie was included in a request to a third-party\n  //     site. Only cookies that have their domain also set to this third-party\n  //     are included in the request. We assume that the cookie was set by the same\n  //     third-party at some point, so we treat this as a third-party issue.\n  //\n  // TODO(crbug.com/1080589): Use \"First-Party sets\" instead of the sites registered domain.\n  return !isSubdomainOf(parsedCookieUrl.domain(), outermostFrame.domainAndRegistry());\n}\n\nfunction isSubdomainOf(subdomain: string, superdomain: string): boolean {\n  // Subdomain must be identical or have strictly more labels than the\n  // superdomain.\n  if (subdomain.length <= superdomain.length) {\n    return subdomain === superdomain;\n  }\n\n  // Superdomain must be suffix of subdomain, and the last character not\n  // included in the matching substring must be a dot.\n  if (!subdomain.endsWith(superdomain)) {\n    return false;\n  }\n\n  const subdomainWithoutSuperdomian = subdomain.substr(0, subdomain.length - superdomain.length);\n  return subdomainWithoutSuperdomian.endsWith('.');\n}\n\nconst sameSiteUnspecifiedWarnRead: LazyMarkdownIssueDescription = {\n  file: 'SameSiteUnspecifiedLaxAllowUnsafeRead.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst sameSiteUnspecifiedWarnSet: LazyMarkdownIssueDescription = {\n  file: 'SameSiteUnspecifiedLaxAllowUnsafeSet.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst sameSiteNoneInsecureErrorRead: LazyMarkdownIssueDescription = {\n  file: 'SameSiteNoneInsecureErrorRead.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst sameSiteNoneInsecureErrorSet: LazyMarkdownIssueDescription = {\n  file: 'SameSiteNoneInsecureErrorSet.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst sameSiteNoneInsecureWarnRead: LazyMarkdownIssueDescription = {\n  file: 'SameSiteNoneInsecureWarnRead.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst sameSiteNoneInsecureWarnSet: LazyMarkdownIssueDescription = {\n  file: 'SameSiteNoneInsecureWarnSet.md',\n  links: [\n    {\n      link: 'https://web.dev/samesite-cookies-explained/',\n      linkTitle: i18nLazyString(UIStrings.samesiteCookiesExplained),\n    },\n  ],\n};\n\nconst schemefulSameSiteArticles =\n    [{link: 'https://web.dev/schemeful-samesite/', linkTitle: i18nLazyString(UIStrings.howSchemefulSamesiteWorks)}];\n\nfunction schemefulSameSiteSubstitutions(\n    {isDestinationSecure, isOriginSecure}: {isDestinationSecure: boolean, isOriginSecure: boolean}):\n    Map<string, () => string> {\n  return new Map([\n    // TODO(crbug.com/1168438): Use translated phrases once the issue description is localized.\n    ['PLACEHOLDER_destination', () => isDestinationSecure ? 'a secure' : 'an insecure'],\n    ['PLACEHOLDER_origin', () => isOriginSecure ? 'a secure' : 'an insecure'],\n  ]);\n}\n\nfunction sameSiteWarnStrictLaxDowngradeStrict(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteWarnStrictLaxDowngradeStrict.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: isSecure, isOriginSecure: !isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nfunction sameSiteExcludeNavigationContextDowngrade(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteExcludeNavigationContextDowngrade.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: isSecure, isOriginSecure: !isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nfunction sameSiteWarnCrossDowngradeRead(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteWarnCrossDowngradeRead.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: isSecure, isOriginSecure: !isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nfunction sameSiteExcludeContextDowngradeRead(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteExcludeContextDowngradeRead.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: isSecure, isOriginSecure: !isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nfunction sameSiteWarnCrossDowngradeSet(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteWarnCrossDowngradeSet.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: !isSecure, isOriginSecure: isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nfunction sameSiteExcludeContextDowngradeSet(isSecure: boolean): LazyMarkdownIssueDescription {\n  return {\n    file: 'SameSiteExcludeContextDowngradeSet.md',\n    substitutions: schemefulSameSiteSubstitutions({isDestinationSecure: isSecure, isOriginSecure: !isSecure}),\n    links: schemefulSameSiteArticles,\n  };\n}\n\nconst sameSiteInvalidSameParty: LazyMarkdownIssueDescription = {\n  file: 'SameSiteInvalidSameParty.md',\n  links: [{\n    link: 'https://developer.chrome.com/blog/first-party-sets-sameparty/',\n    linkTitle: i18nLazyString(UIStrings.firstPartySetsExplained),\n  }],\n};\n\nconst samePartyCrossPartyContextSet: LazyMarkdownIssueDescription = {\n  file: 'SameSiteSamePartyCrossPartyContextSet.md',\n  links: [{\n    link: 'https://developer.chrome.com/blog/first-party-sets-sameparty/',\n    linkTitle: i18nLazyString(UIStrings.firstPartySetsExplained),\n  }],\n};\n\nconst attributeValueExceedsMaxSize: LazyMarkdownIssueDescription = {\n  file: 'CookieAttributeValueExceedsMaxSize.md',\n  links: [],\n};\n\nconst warnDomainNonAscii: LazyMarkdownIssueDescription = {\n  file: 'cookieWarnDomainNonAscii.md',\n  links: [],\n};\n\nconst excludeDomainNonAscii: LazyMarkdownIssueDescription = {\n  file: 'cookieExcludeDomainNonAscii.md',\n  links: [],\n};\n\nconst excludeBlockedWithinRelatedWebsiteSet: LazyMarkdownIssueDescription = {\n  file: 'cookieExcludeBlockedWithinRelatedWebsiteSet.md',\n  links: [],\n};\n\nconst cookieCrossSiteRedirectDowngrade: LazyMarkdownIssueDescription = {\n  file: 'cookieCrossSiteRedirectDowngrade.md',\n  links: [{\n    link:\n        'https://bugs.chromium.org/p/chromium/issues/entry?template=Defect%20report%20from%20user&summary=[Cross-Site Redirect Chain] <INSERT BUG SUMMARY HERE>&comment=Chrome Version: (copy from chrome://version)%0AChannel: (e.g. Canary, Dev, Beta, Stable)%0A%0AAffected URLs:%0A%0AWhat is the expected result?%0A%0AWhat happens instead?%0A%0AWhat is the purpose of the cross-site redirect?:%0A%0AWhat steps will reproduce the problem?:%0A(1)%0A(2)%0A(3)%0A%0APlease provide any additional information below.&components=Internals%3ENetwork%3ECookies',\n    linkTitle: i18nLazyString(UIStrings.fileCrosSiteRedirectBug),\n  }],\n};\n\nconst ExcludePortMismatch: LazyMarkdownIssueDescription = {\n  file: 'cookieExcludePortMismatch.md',\n  links: [],\n};\n\nconst ExcludeSchemeMismatch: LazyMarkdownIssueDescription = {\n  file: 'cookieExcludeSchemeMismatch.md',\n  links: [],\n};\n\n// This description will be used by cookie issues that need to be added to the\n// issueManager, but aren't intended to be surfaced in the issues pane. This\n// is why they are using a placeholder description\nconst placeholderDescriptionForInvisibleIssues: LazyMarkdownIssueDescription = {\n  file: 'placeholderDescriptionForInvisibleIssues.md',\n  links: [],\n};\n\nconst issueDescriptions = new Map<string, LazyMarkdownIssueDescription>([\n  // These two don't have a deprecation date yet, but they need to be fixed eventually.\n  ['CookieIssue::WarnSameSiteUnspecifiedLaxAllowUnsafe::ReadCookie', sameSiteUnspecifiedWarnRead],\n  ['CookieIssue::WarnSameSiteUnspecifiedLaxAllowUnsafe::SetCookie', sameSiteUnspecifiedWarnSet],\n  ['CookieIssue::WarnSameSiteUnspecifiedCrossSiteContext::ReadCookie', sameSiteUnspecifiedWarnRead],\n  ['CookieIssue::WarnSameSiteUnspecifiedCrossSiteContext::SetCookie', sameSiteUnspecifiedWarnSet],\n  ['CookieIssue::ExcludeSameSiteNoneInsecure::ReadCookie', sameSiteNoneInsecureErrorRead],\n  ['CookieIssue::ExcludeSameSiteNoneInsecure::SetCookie', sameSiteNoneInsecureErrorSet],\n  ['CookieIssue::WarnSameSiteNoneInsecure::ReadCookie', sameSiteNoneInsecureWarnRead],\n  ['CookieIssue::WarnSameSiteNoneInsecure::SetCookie', sameSiteNoneInsecureWarnSet],\n  ['CookieIssue::WarnSameSiteStrictLaxDowngradeStrict::Secure', sameSiteWarnStrictLaxDowngradeStrict(true)],\n  ['CookieIssue::WarnSameSiteStrictLaxDowngradeStrict::Insecure', sameSiteWarnStrictLaxDowngradeStrict(false)],\n  ['CookieIssue::WarnCrossDowngrade::ReadCookie::Secure', sameSiteWarnCrossDowngradeRead(true)],\n  ['CookieIssue::WarnCrossDowngrade::ReadCookie::Insecure', sameSiteWarnCrossDowngradeRead(false)],\n  ['CookieIssue::WarnCrossDowngrade::SetCookie::Secure', sameSiteWarnCrossDowngradeSet(true)],\n  ['CookieIssue::WarnCrossDowngrade::SetCookie::Insecure', sameSiteWarnCrossDowngradeSet(false)],\n  ['CookieIssue::ExcludeNavigationContextDowngrade::Secure', sameSiteExcludeNavigationContextDowngrade(true)],\n  [\n    'CookieIssue::ExcludeNavigationContextDowngrade::Insecure',\n    sameSiteExcludeNavigationContextDowngrade(false),\n  ],\n  ['CookieIssue::ExcludeContextDowngrade::ReadCookie::Secure', sameSiteExcludeContextDowngradeRead(true)],\n  ['CookieIssue::ExcludeContextDowngrade::ReadCookie::Insecure', sameSiteExcludeContextDowngradeRead(false)],\n  ['CookieIssue::ExcludeContextDowngrade::SetCookie::Secure', sameSiteExcludeContextDowngradeSet(true)],\n  ['CookieIssue::ExcludeContextDowngrade::SetCookie::Insecure', sameSiteExcludeContextDowngradeSet(false)],\n  ['CookieIssue::ExcludeInvalidSameParty::SetCookie', sameSiteInvalidSameParty],\n  ['CookieIssue::ExcludeSamePartyCrossPartyContext::SetCookie', samePartyCrossPartyContextSet],\n  ['CookieIssue::WarnAttributeValueExceedsMaxSize::ReadCookie', attributeValueExceedsMaxSize],\n  ['CookieIssue::WarnAttributeValueExceedsMaxSize::SetCookie', attributeValueExceedsMaxSize],\n  ['CookieIssue::WarnDomainNonASCII::ReadCookie', warnDomainNonAscii],\n  ['CookieIssue::WarnDomainNonASCII::SetCookie', warnDomainNonAscii],\n  ['CookieIssue::ExcludeDomainNonASCII::ReadCookie', excludeDomainNonAscii],\n  ['CookieIssue::ExcludeDomainNonASCII::SetCookie', excludeDomainNonAscii],\n  [\n    'CookieIssue::ExcludeThirdPartyCookieBlockedInRelatedWebsiteSet::ReadCookie',\n    excludeBlockedWithinRelatedWebsiteSet,\n  ],\n  [\n    'CookieIssue::ExcludeThirdPartyCookieBlockedInRelatedWebsiteSet::SetCookie',\n    excludeBlockedWithinRelatedWebsiteSet,\n  ],\n  ['CookieIssue::WarnThirdPartyPhaseout::ReadCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::WarnThirdPartyPhaseout::SetCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::WarnDeprecationTrialMetadata::ReadCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::WarnDeprecationTrialMetadata::SetCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::WarnThirdPartyCookieHeuristic::ReadCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::WarnThirdPartyCookieHeuristic::SetCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::ExcludeThirdPartyPhaseout::ReadCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::ExcludeThirdPartyPhaseout::SetCookie', placeholderDescriptionForInvisibleIssues],\n  ['CookieIssue::CrossSiteRedirectDowngradeChangesInclusion', cookieCrossSiteRedirectDowngrade],\n  ['CookieIssue::ExcludePortMismatch', ExcludePortMismatch],\n  ['CookieIssue::ExcludeSchemeMismatch', ExcludeSchemeMismatch],\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Label for the link for CORS Local Network Access issues\n   */\n  corsLocalNetworkAccess: 'Local Network Access',\n  /**\n   * @description Label for the link for CORS private network issues\n   */\n  corsPrivateNetworkAccess: 'Private Network Access',\n  /**\n   * @description Label for the link for CORS network issues\n   */\n  CORS: 'Cross-Origin Resource Sharing (`CORS`)',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/CorsIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport const enum IssueCode {\n  INSECURE_PRIVATE_NETWORK = 'CorsIssue::InsecurePrivateNetwork',\n  INVALID_HEADER_VALUES = 'CorsIssue::InvalidHeaders',\n  WILDCARD_ORIGN_NOT_ALLOWED = 'CorsIssue::WildcardOriginWithCredentials',\n  PREFLIGHT_RESPONSE_INVALID = 'CorsIssue::PreflightResponseInvalid',\n  ORIGIN_MISMATCH = 'CorsIssue::OriginMismatch',\n  ALLOW_CREDENTIALS_REQUIRED = 'CorsIssue::AllowCredentialsRequired',\n  METHOD_DISALLOWED_BY_PREFLIGHT_RESPONSE = 'CorsIssue::MethodDisallowedByPreflightResponse',\n  HEADER_DISALLOWED_BY_PREFLIGHT_RESPONSE = 'CorsIssue::HeaderDisallowedByPreflightResponse',\n  REDIRECT_CONTAINS_CREDENTIALS = 'CorsIssue::RedirectContainsCredentials',\n  DISALLOWED_BY_MODE = 'CorsIssue::DisallowedByMode',\n  CORS_DISABLED_SCHEME = 'CorsIssue::CorsDisabledScheme',\n  // TODO(https://crbug.com/1263483): Remove this once it's removed from CDP.\n  PREFLIGHT_MISSING_ALLOW_EXTERNAL = 'CorsIssue::PreflightMissingAllowExternal',\n  // TODO(https://crbug.com/1263483): Remove this once it's removed from CDP.\n  PREFLIGHT_INVALID_ALLOW_EXTERNAL = 'CorsIssue::PreflightInvalidAllowExternal',\n  NO_CORS_REDIRECT_MODE_NOT_FOLLOW = 'CorsIssue::NoCorsRedirectModeNotFollow',\n  INVALID_PRIVATE_NETWORK_ACCESS = 'CorsIssue::InvalidPrivateNetworkAccess',\n  UNEXPECTED_PRIVATE_NETWORK_ACCESS = 'CorsIssue::UnexpectedPrivateNetworkAccess',\n  PREFLIGHT_ALLOW_PRIVATE_NETWORK_ERROR = 'CorsIssue::PreflightAllowPrivateNetworkError',\n  PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_ID = 'CorsIssue::PreflightMissingPrivateNetworkAccessId',\n  PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_NAME = 'CorsIssue::PreflightMissingPrivateNetworkAccessName',\n  PRIVATE_NETWORK_ACCESS_PERMISSION_UNAVAILABLE = 'CorsIssue::PrivateNetworkAccessPermissionUnavailable',\n  PRIVATE_NETWORK_ACCESS_PERMISSION_DENIED = 'CorsIssue::PrivateNetworkAccessPermissionDenied',\n  LOCAL_NETWORK_ACCESS_PERMISSION_DENIED = 'CorsIssue::LocalNetworkAccessPermissionDenied',\n}\n\nfunction getIssueCode(details: Protocol.Audits.CorsIssueDetails): IssueCode {\n  switch (details.corsErrorStatus.corsError) {\n    case Protocol.Network.CorsError.InvalidAllowMethodsPreflightResponse:\n    case Protocol.Network.CorsError.InvalidAllowHeadersPreflightResponse:\n    case Protocol.Network.CorsError.PreflightMissingAllowOriginHeader:\n    case Protocol.Network.CorsError.PreflightMultipleAllowOriginValues:\n    case Protocol.Network.CorsError.PreflightInvalidAllowOriginValue:\n    case Protocol.Network.CorsError.MissingAllowOriginHeader:\n    case Protocol.Network.CorsError.MultipleAllowOriginValues:\n    case Protocol.Network.CorsError.InvalidAllowOriginValue:\n      return IssueCode.INVALID_HEADER_VALUES;\n    case Protocol.Network.CorsError.PreflightWildcardOriginNotAllowed:\n    case Protocol.Network.CorsError.WildcardOriginNotAllowed:\n      return IssueCode.WILDCARD_ORIGN_NOT_ALLOWED;\n    case Protocol.Network.CorsError.PreflightInvalidStatus:\n    case Protocol.Network.CorsError.PreflightDisallowedRedirect:\n    case Protocol.Network.CorsError.InvalidResponse:\n      return IssueCode.PREFLIGHT_RESPONSE_INVALID;\n    case Protocol.Network.CorsError.AllowOriginMismatch:\n    case Protocol.Network.CorsError.PreflightAllowOriginMismatch:\n      return IssueCode.ORIGIN_MISMATCH;\n    case Protocol.Network.CorsError.InvalidAllowCredentials:\n    case Protocol.Network.CorsError.PreflightInvalidAllowCredentials:\n      return IssueCode.ALLOW_CREDENTIALS_REQUIRED;\n    case Protocol.Network.CorsError.MethodDisallowedByPreflightResponse:\n      return IssueCode.METHOD_DISALLOWED_BY_PREFLIGHT_RESPONSE;\n    case Protocol.Network.CorsError.HeaderDisallowedByPreflightResponse:\n      return IssueCode.HEADER_DISALLOWED_BY_PREFLIGHT_RESPONSE;\n    case Protocol.Network.CorsError.RedirectContainsCredentials:\n      return IssueCode.REDIRECT_CONTAINS_CREDENTIALS;\n    case Protocol.Network.CorsError.DisallowedByMode:\n      return IssueCode.DISALLOWED_BY_MODE;\n    case Protocol.Network.CorsError.CorsDisabledScheme:\n      return IssueCode.CORS_DISABLED_SCHEME;\n    case Protocol.Network.CorsError.PreflightMissingAllowExternal:\n      return IssueCode.PREFLIGHT_MISSING_ALLOW_EXTERNAL;\n    case Protocol.Network.CorsError.PreflightInvalidAllowExternal:\n      return IssueCode.PREFLIGHT_INVALID_ALLOW_EXTERNAL;\n    case Protocol.Network.CorsError.InsecurePrivateNetwork:\n      return IssueCode.INSECURE_PRIVATE_NETWORK;\n    case Protocol.Network.CorsError.NoCorsRedirectModeNotFollow:\n      return IssueCode.NO_CORS_REDIRECT_MODE_NOT_FOLLOW;\n    case Protocol.Network.CorsError.InvalidPrivateNetworkAccess:\n      return IssueCode.INVALID_PRIVATE_NETWORK_ACCESS;\n    case Protocol.Network.CorsError.UnexpectedPrivateNetworkAccess:\n      return IssueCode.UNEXPECTED_PRIVATE_NETWORK_ACCESS;\n    case Protocol.Network.CorsError.PreflightMissingAllowPrivateNetwork:\n    case Protocol.Network.CorsError.PreflightInvalidAllowPrivateNetwork:\n      return IssueCode.PREFLIGHT_ALLOW_PRIVATE_NETWORK_ERROR;\n    case Protocol.Network.CorsError.PreflightMissingPrivateNetworkAccessId:\n      return IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_ID;\n    case Protocol.Network.CorsError.PreflightMissingPrivateNetworkAccessName:\n      return IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_NAME;\n    case Protocol.Network.CorsError.PrivateNetworkAccessPermissionUnavailable:\n      return IssueCode.PRIVATE_NETWORK_ACCESS_PERMISSION_UNAVAILABLE;\n    case Protocol.Network.CorsError.PrivateNetworkAccessPermissionDenied:\n      return IssueCode.PRIVATE_NETWORK_ACCESS_PERMISSION_DENIED;\n    case Protocol.Network.CorsError.LocalNetworkAccessPermissionDenied:\n      return IssueCode.LOCAL_NETWORK_ACCESS_PERMISSION_DENIED;\n  }\n}\n\nexport class CorsIssue extends Issue<IssueCode> {\n  #issueDetails: Protocol.Audits.CorsIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.CorsIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId: Protocol.Audits.IssueId|undefined) {\n    super(getIssueCode(issueDetails), issuesModel, issueId);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.CORS;\n  }\n\n  details(): Protocol.Audits.CorsIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    switch (getIssueCode(this.#issueDetails)) {\n      case IssueCode.INSECURE_PRIVATE_NETWORK:\n        return {\n          file: 'corsInsecurePrivateNetwork.md',\n          links: [{\n            link: 'https://developer.chrome.com/blog/private-network-access-update',\n            linkTitle: i18nString(UIStrings.corsPrivateNetworkAccess),\n          }],\n        };\n      case IssueCode.PREFLIGHT_ALLOW_PRIVATE_NETWORK_ERROR:\n        return {\n          file: 'corsPreflightAllowPrivateNetworkError.md',\n          links: [{\n            link: 'https://developer.chrome.com/blog/private-network-access-update',\n            linkTitle: i18nString(UIStrings.corsPrivateNetworkAccess),\n          }],\n        };\n      case IssueCode.INVALID_HEADER_VALUES:\n        return {\n          file: 'corsInvalidHeaderValues.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.WILDCARD_ORIGN_NOT_ALLOWED:\n        return {\n          file: 'corsWildcardOriginNotAllowed.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.PREFLIGHT_RESPONSE_INVALID:\n        return {\n          file: 'corsPreflightResponseInvalid.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.ORIGIN_MISMATCH:\n        return {\n          file: 'corsOriginMismatch.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.ALLOW_CREDENTIALS_REQUIRED:\n        return {\n          file: 'corsAllowCredentialsRequired.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.METHOD_DISALLOWED_BY_PREFLIGHT_RESPONSE:\n        return {\n          file: 'corsMethodDisallowedByPreflightResponse.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.HEADER_DISALLOWED_BY_PREFLIGHT_RESPONSE:\n        return {\n          file: 'corsHeaderDisallowedByPreflightResponse.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.REDIRECT_CONTAINS_CREDENTIALS:\n        return {\n          file: 'corsRedirectContainsCredentials.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.DISALLOWED_BY_MODE:\n        return {\n          file: 'corsDisallowedByMode.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.CORS_DISABLED_SCHEME:\n        return {\n          file: 'corsDisabledScheme.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      case IssueCode.NO_CORS_REDIRECT_MODE_NOT_FOLLOW:\n        return {\n          file: 'corsNoCorsRedirectModeNotFollow.md',\n          links: [{\n            link: 'https://web.dev/cross-origin-resource-sharing',\n            linkTitle: i18nString(UIStrings.CORS),\n          }],\n        };\n      // TODO(1462857): Change the link after we have a blog post for PNA\n      // permission prompt.\n      case IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_ID:\n      case IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_NAME:\n        return {\n          file: 'corsPrivateNetworkPermissionDenied.md',\n          links: [{\n            link: 'https://developer.chrome.com/blog/private-network-access-update',\n            linkTitle: i18nString(UIStrings.corsPrivateNetworkAccess),\n          }],\n        };\n      case IssueCode.LOCAL_NETWORK_ACCESS_PERMISSION_DENIED:\n        return {\n          file: 'corsLocalNetworkAccessPermissionDenied.md',\n          links: [{\n            link: 'https://chromestatus.com/feature/5152728072060928',\n            linkTitle: i18nString(UIStrings.corsLocalNetworkAccess),\n          }],\n        };\n      case IssueCode.PREFLIGHT_MISSING_ALLOW_EXTERNAL:\n      case IssueCode.PREFLIGHT_INVALID_ALLOW_EXTERNAL:\n      case IssueCode.INVALID_PRIVATE_NETWORK_ACCESS:\n      case IssueCode.UNEXPECTED_PRIVATE_NETWORK_ACCESS:\n      case IssueCode.PRIVATE_NETWORK_ACCESS_PERMISSION_UNAVAILABLE:\n      case IssueCode.PRIVATE_NETWORK_ACCESS_PERMISSION_DENIED:\n        return null;\n    }\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    if (this.#issueDetails.isWarning &&\n        (this.#issueDetails.corsErrorStatus.corsError === Protocol.Network.CorsError.InsecurePrivateNetwork ||\n         this.#issueDetails.corsErrorStatus.corsError ===\n             Protocol.Network.CorsError.PreflightMissingAllowPrivateNetwork ||\n         this.#issueDetails.corsErrorStatus.corsError ===\n             Protocol.Network.CorsError.PreflightInvalidAllowPrivateNetwork)) {\n      return IssueKind.BREAKING_CHANGE;\n    }\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      CorsIssue[] {\n    const corsIssueDetails = inspectorIssue.details.corsIssueDetails;\n    if (!corsIssueDetails) {\n      console.warn('Cors issue without details received.');\n      return [];\n    }\n    return [new CorsIssue(corsIssueDetails, issuesModel, inspectorIssue.issueId)];\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  resolveLazyDescription,\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Link text for a link to external documentation\n   */\n  coopAndCoep: 'COOP and COEP',\n  /**\n   * @description Title for an external link to more information in the issues view\n   */\n  samesiteAndSameorigin: 'Same-Site and Same-Origin',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/CrossOriginEmbedderPolicyIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport function isCrossOriginEmbedderPolicyIssue(reason: Protocol.Audits.BlockedByResponseReason): boolean {\n  switch (reason) {\n    case Protocol.Audits.BlockedByResponseReason.CoepFrameResourceNeedsCoepHeader:\n      return true;\n    case Protocol.Audits.BlockedByResponseReason.CoopSandboxedIFrameCannotNavigateToCoopPage:\n      return true;\n    case Protocol.Audits.BlockedByResponseReason.CorpNotSameOrigin:\n      return true;\n    case Protocol.Audits.BlockedByResponseReason.CorpNotSameOriginAfterDefaultedToSameOriginByCoep:\n      return true;\n    case Protocol.Audits.BlockedByResponseReason.CorpNotSameSite:\n      return true;\n  }\n  return false;\n}\n\nexport class CrossOriginEmbedderPolicyIssue extends Issue {\n  #issueDetails: Protocol.Audits.BlockedByResponseIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.BlockedByResponseIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(`CrossOriginEmbedderPolicyIssue::${issueDetails.reason}`, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  primaryKey(): string {\n    return `${this.code()}-(${this.#issueDetails.request.requestId})`;\n  }\n\n  override getBlockedByResponseDetails(): Iterable<Protocol.Audits.BlockedByResponseIssueDetails> {\n    return [this.#issueDetails];\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    return [this.#issueDetails.request];\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.CROSS_ORIGIN_EMBEDDER_POLICY;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.code());\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n}\n\nconst issueDescriptions = new Map<string, LazyMarkdownIssueDescription>([\n  [\n    'CrossOriginEmbedderPolicyIssue::CorpNotSameOriginAfterDefaultedToSameOriginByCoep',\n    {\n      file: 'CoepCorpNotSameOriginAfterDefaultedToSameOriginByCoep.md',\n      links: [\n        {link: 'https://web.dev/coop-coep/', linkTitle: i18nLazyString(UIStrings.coopAndCoep)},\n        {link: 'https://web.dev/same-site-same-origin/', linkTitle: i18nLazyString(UIStrings.samesiteAndSameorigin)},\n      ],\n    },\n  ],\n  [\n    'CrossOriginEmbedderPolicyIssue::CoepFrameResourceNeedsCoepHeader',\n    {\n      file: 'CoepFrameResourceNeedsCoepHeader.md',\n      links: [\n        {link: 'https://web.dev/coop-coep/', linkTitle: i18nLazyString(UIStrings.coopAndCoep)},\n      ],\n    },\n  ],\n  [\n    'CrossOriginEmbedderPolicyIssue::CoopSandboxedIframeCannotNavigateToCoopPage',\n    {\n      file: 'CoepCoopSandboxedIframeCannotNavigateToCoopPage.md',\n      links: [\n        {link: 'https://web.dev/coop-coep/', linkTitle: i18nLazyString(UIStrings.coopAndCoep)},\n      ],\n    },\n  ],\n  [\n    'CrossOriginEmbedderPolicyIssue::CorpNotSameSite',\n    {\n      file: 'CoepCorpNotSameSite.md',\n      links: [\n        {link: 'https://web.dev/coop-coep/', linkTitle: i18nLazyString(UIStrings.coopAndCoep)},\n        {link: 'https://web.dev/same-site-same-origin/', linkTitle: i18nLazyString(UIStrings.samesiteAndSameorigin)},\n      ],\n    },\n  ],\n  [\n    'CrossOriginEmbedderPolicyIssue::CorpNotSameOrigin',\n    {\n      file: 'CoepCorpNotSameOrigin.md',\n      links: [\n        {link: 'https://web.dev/coop-coep/', linkTitle: i18nLazyString(UIStrings.coopAndCoep)},\n        {link: 'https://web.dev/same-site-same-origin/', linkTitle: i18nLazyString(UIStrings.samesiteAndSameorigin)},\n      ],\n    },\n  ],\n]);\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Deprecation from '../../generated/Deprecation.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {type MarkdownIssueDescription, resolveLazyDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description This links to the chrome feature status page when one exists.\n   */\n  feature: 'Check the feature status page for more details.',\n  /**\n   * @description This links to the chromium dash schedule when a milestone is set.\n   * @example {100} milestone\n   */\n  milestone: 'This change will go into effect with milestone {milestone}.',\n  /**\n   * @description Title of issue raised when a deprecated feature is used\n   */\n  title: 'Deprecated feature used',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/DeprecationIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\n// eslint-disable-next-line rulesdir/l10n-filename-matches\nconst strDeprecation = i18n.i18n.registerUIStrings('generated/Deprecation.ts', Deprecation.UIStrings);\nconst i18nLazyDeprecationString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, strDeprecation);\n\nexport class DeprecationIssue extends Issue {\n  #issueDetails: Protocol.Audits.DeprecationIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.DeprecationIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const issueCode = [\n      Protocol.Audits.InspectorIssueCode.DeprecationIssue,\n      issueDetails.type,\n    ].join('::');\n    super({code: issueCode, umaCode: 'DeprecationIssue'}, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.DeprecationIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    let messageFunction = (): string => '';\n    const maybeEnglishMessage = (Deprecation.UIStrings as Record<string, string>)[this.#issueDetails.type];\n    if (maybeEnglishMessage) {\n      messageFunction = i18nLazyDeprecationString(maybeEnglishMessage);\n    }\n\n    const links = [];\n    const deprecationMeta = Deprecation.DEPRECATIONS_METADATA[this.#issueDetails.type];\n    const feature = deprecationMeta?.chromeStatusFeature ?? 0;\n    if (feature !== 0) {\n      links.push({\n        link: `https://chromestatus.com/feature/${feature}`,\n        linkTitle: i18nLazyString(UIStrings.feature),\n      });\n    }\n    const milestone = deprecationMeta?.milestone ?? 0;\n    if (milestone !== 0) {\n      links.push({\n        link: 'https://chromiumdash.appspot.com/schedule',\n        linkTitle: i18nLazyString(UIStrings.milestone, {milestone}),\n      });\n    }\n    return resolveLazyDescription({\n      file: 'deprecation.md',\n      substitutions: new Map([\n        ['PLACEHOLDER_title', i18nLazyString(UIStrings.title)],\n        ['PLACEHOLDER_message', messageFunction],\n      ]),\n      links,\n    });\n  }\n\n  override sources(): Iterable<Protocol.Audits.SourceCodeLocation> {\n    if (this.#issueDetails.sourceCodeLocation) {\n      return [this.#issueDetails.sourceCodeLocation];\n    }\n    return [];\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      DeprecationIssue[] {\n    const details = inspectorIssue.details.deprecationIssueDetails;\n    if (!details) {\n      console.warn('Deprecation issue without details received.');\n      return [];\n    }\n    return [new DeprecationIssue(details, issuesModel)];\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n// This file is auto-generated, do not edit manually.\n// Re-generate with: npm run generate-protocol-resources\n\nexport const UIStrings = {\n  /**\n   * @description We show this warning when 1) an 'authorization' header is attached to the request by scripts, 2) there is no 'authorization' in the 'access-control-allow-headers' header in the response, and 3) there is a wildcard symbol ('*') in the 'access-control-allow-header' header in the response. This is allowed now, but we're planning to reject such responses and require responses to have an 'access-control-allow-headers' containing 'authorization'.\n   */\n  AuthorizationCoveredByWildcard: \"Authorization will not be covered by the wildcard symbol (*) in CORS `Access-Control-Allow-Headers` handling.\",\n  /**\n   * @description This warning occurs when a page attempts to request a resource whose URL contained both a newline character (`\\n` or `\\r`), and a less-than character (`<`). These resources are blocked.\n   */\n  CanRequestURLHTTPContainingNewline: \"Resource requests whose URLs contained both removed whitespace `\\\\(n|r|t)` characters and less-than characters (`<`) are blocked. Please remove newlines and encode less-than characters from places like element attribute values in order to load these resources.\",\n  /**\n   * @description This warning occurs when the website attempts to invoke the deprecated `chrome.loadTimes().connectionInfo` API.\n   */\n  ChromeLoadTimesConnectionInfo: \"`chrome.loadTimes()` is deprecated, instead use standardized API: Navigation Timing 2.\",\n  /**\n   * @description This warning occurs when the website attempts to invoke the deprecated `chrome.loadTimes().firstPaintAfterLoadTime` API.\n   */\n  ChromeLoadTimesFirstPaintAfterLoadTime: \"`chrome.loadTimes()` is deprecated, instead use standardized API: Paint Timing.\",\n  /**\n   * @description This warning occurs when the website attempts to invoke the deprecated `chrome.loadTimes().wasAlternateProtocolAvailable` API.\n   */\n  ChromeLoadTimesWasAlternateProtocolAvailable: \"`chrome.loadTimes()` is deprecated, instead use standardized API: `nextHopProtocol` in Navigation Timing 2.\",\n  /**\n   * @description This warning occurs when the browser attempts to store a cookie containing a banned character. Rather than the cookie string being truncated at the banned character, the entire cookie will be rejected now.\n   */\n  CookieWithTruncatingChar: \"Cookies containing a `\\\\(0|r|n)` character will be rejected instead of truncated.\",\n  /**\n   * @description This warning occurs when a frame accesses another frame's data after having set `document.domain` without having set the `Origin-Agent-Cluster` http header. This is a companion warning to `documentDomainSettingWithoutOriginAgentClusterHeader`, where that warning occurs when `document.domain` is set, and this warning occurs when an access has been made, based on that previous `document.domain` setting.\n   */\n  CrossOriginAccessBasedOnDocumentDomain: \"Relaxing the same-origin policy by setting `document.domain` is deprecated, and will be disabled by default. This deprecation warning is for a cross-origin access that was enabled by setting `document.domain`.\",\n  /**\n   * @description Issue text shown when the web page uses a deprecated web API. The window.alert is the deprecated web API function.\n   */\n  CrossOriginWindowAlert: \"Triggering window.alert from cross origin iframes has been deprecated and will be removed in the future.\",\n  /**\n   * @description Issue text shown when the web page uses a deprecated web API. The window.confirm is the deprecated web API function.\n   */\n  CrossOriginWindowConfirm: \"Triggering window.confirm from cross origin iframes has been deprecated and will be removed in the future.\",\n  /**\n   * @description Warning displayed to developers when they hide the Cast button on a video element using the deprecated CSS selector instead of using the disableRemotePlayback attribute on the element.\n   */\n  CSSSelectorInternalMediaControlsOverlayCastButton: \"The `disableRemotePlayback` attribute should be used in order to disable the default Cast integration instead of using `-internal-media-controls-overlay-cast-button` selector.\",\n  /**\n   * @description Warning displayed to developers to let them know the CSS appearance property value they used is not standard and will be removed.\n   */\n  CSSValueAppearanceSliderVertical: \"CSS appearance value `slider-vertical` is not standardized and will be removed.\",\n  /**\n   * @description Warning displayed to developers when a data: URL is assigned to SVGUseElement to let them know that the support is deprecated.\n   */\n  DataUrlInSvgUse: \"Support for data: URLs in SVGUseElement is deprecated and it will be removed in the future.\",\n  /**\n   * @description Warning displayed to developers when the Geolocation API is used from an insecure origin (one that isn't localhost or doesn't use HTTPS) to notify them that this use is no longer supported.\n   */\n  GeolocationInsecureOrigin: \"`getCurrentPosition()` and `watchPosition()` no longer work on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.\",\n  /**\n   * @description Warning displayed to developers when the Geolocation API is used from an insecure origin (one that isn't localhost or doesn't use HTTPS) to notify them that this use is deprecated.\n   */\n  GeolocationInsecureOriginDeprecatedNotRemoved: \"`getCurrentPosition()` and `watchPosition()` are deprecated on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.\",\n  /**\n   * @description This warning occurs when the `getUserMedia()` API is invoked on an insecure (e.g., HTTP) site. This is only permitted on secure sites (e.g., HTTPS).\n   */\n  GetUserMediaInsecureOrigin: \"`getUserMedia()` no longer works on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.\",\n  /**\n   * @description A deprecation warning shown to developers in the DevTools Issues tab when code tries to use the deprecated hostCandidate field, guiding developers to use the equivalent information in the .address and .port fields instead.\n   */\n  HostCandidateAttributeGetter: \"`RTCPeerConnectionIceErrorEvent.hostCandidate` is deprecated. Please use `RTCPeerConnectionIceErrorEvent.address` or `RTCPeerConnectionIceErrorEvent.port` instead.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab, when a service worker reads one of the fields from an event named 'canmakepayment'.\n   */\n  IdentityInCanMakePaymentEvent: \"The merchant origin and arbitrary data from the `canmakepayment` service worker event are deprecated and will be removed: `topOrigin`, `paymentRequestOrigin`, `methodData`, `modifiers`.\",\n  /**\n   * @description This warning occurs when an insecure context (e.g., HTTP) requests a private resource (not on open internet). This is done to mitigate the potential for CSRF and other attacks.\n   */\n  InsecurePrivateNetworkSubresourceRequest: \"The website requested a subresource from a network that it could only access because of its users' privileged network position. These requests expose non-public devices and servers to the internet, increasing the risk of a cross-site request forgery (CSRF) attack, and/or information leakage. To mitigate these risks, Chrome deprecates requests to non-public subresources when initiated from non-secure contexts, and will start blocking them.\",\n  /**\n   * @description This is a deprecated warning to developers that a field in a structure has been renamed.\n   */\n  InterestGroupDailyUpdateUrl: \"The `dailyUpdateUrl` field of `InterestGroups` passed to `joinAdInterestGroup()` has been renamed to `updateUrl`, to more accurately reflect its behavior.\",\n  /**\n   * @description Warning displayed to developers that instead of calling the `Intl.v8BreakIterator` constructor, which is not a standard JavaScript API, use ECMA402 standard API Intl.Segmenter shipped in end of 2020 instead.\n   */\n  IntlV8BreakIterator: \"`Intl.v8BreakIterator` is deprecated. Please use `Intl.Segmenter` instead.\",\n  /**\n   * @description This warning occurs when a stylesheet loaded from a local file directive does not end in the file type `.css`.\n   */\n  LocalCSSFileExtensionRejected: \"CSS cannot be loaded from `file:` URLs unless they end in a `.css` file extension.\",\n  /**\n   * @description This is a deprecation warning to developers that occurs when the script attempts to use the Media Source Extensions API in a way that is no longer supported by the specification for the API. The usage that is problematic is when the script calls the `SourceBuffer.abort()` method at a time when there is still processing happening in response to a previous `SourceBuffer.remove()` call for the same SourceBuffer object. More precisely, we show this warning to developers when script calls the SourceBuffer abort() method while the asynchronous processing of a remove() call on that SourceBuffer is not yet complete. Early versions of the Media Source Extensions specification allowed such aborts, but standardization of the specification resulted in disallowing the aborts. The script should instead wait for the asynchronous remove() operation to complete, which is observable by listening for the associated 'updateend' event from the SourceBuffer. A note is also included in the warning, describing when abort() is meaningful and allowed by the specification for purposes other than interrupting a remove() operation's asynchronous steps. Those supported purposes include using abort() to interrupt processing that may still be happening in response to a previous appendBuffer() call on that SourceBuffer, or using abort() to clear the internal of any unprocessed data remaining from previous appendBuffer() calls. See https://www.w3.org/TR/media-source-2/#dom-sourcebuffer-abort for the currently specified behavior, which would throw an exception once the deprecated removal abort is no longer supported. See https://github.com/w3c/media-source/issues/19 for the discussion that led to the specification change.\n   */\n  MediaSourceAbortRemove: \"Using `SourceBuffer.abort()` to abort `remove()`'s asynchronous range removal is deprecated due to specification change. Support will be removed in the future. You should listen to the `updateend` event instead. `abort()` is intended to only abort an asynchronous media append or reset parser state.\",\n  /**\n   * @description This is a deprecation warning to developers that occurs when the script attempts to use the Media Source Extensions API in a way that is no longer supported by the specification for the API. The usage that is problematic is when the script sets the duration attribute of a MediaSource object too low. The duration attribute of a MediaSource must be longer than the actual duration of any media (audio or video) already in the MediaSource. When set too low, the MediaSource must remove audio and video content that is beyond the time indicated by the new duration. Content removal that is caused by setting the duration attribute too low is no longer allowed by the specification. The message describes the minimum allowable duration value as the 'highest presentation timestamp of any buffered coded frames' as a more precise way of describing the duration of content already in the MediaSource: 'coded frames' are the specification's way of describing compressed audio frames or compressed video frames, and they each have a 'presentation timestamp' that describes precisely when that frame's playback occurs in the overall media presentation. Early versions of the Media Source Extensions specification allowed this to happen, but standardization of the specification resulted in disallowing this behavior. The underlying issue leading to this specification change was that setting the duration attribute should be synchronous, but setting it lower than the timestamp of something currently buffered would cause confusing removal of media between that new duration and the previous, larger, duration. The script should instead explicitly remove that range of media first, before lowering the duration. See https://www.w3.org/TR/media-source-2/#dom-mediasource-duration and https://www.w3.org/TR/media-source-2/#dom-mediasource-duration for the currently specified behavior, which would throw an exception once support is removed for deprecated implicit asynchronous range removal when duration is truncated. See both https://github.com/w3c/media-source/issues/20 and https://github.com/w3c/media-source/issues/26 for the discussion that led to the specification change.\n   */\n  MediaSourceDurationTruncatingBuffered: \"Setting `MediaSource.duration` below the highest presentation timestamp of any buffered coded frames is deprecated due to specification change. Support for implicit removal of truncated buffered media will be removed in the future. You should instead perform explicit `remove(newDuration, oldDuration)` on all `sourceBuffers`, where `newDuration < oldDuration`.\",\n  /**\n   * @description This warning occurs when the browser requests Web MIDI access as sysex (system exclusive messages) can be allowed via prompt even if the browser did not specifically request it.\n   */\n  NoSysexWebMIDIWithoutPermission: \"Web MIDI will ask a permission to use even if the sysex is not specified in the `MIDIOptions`.\",\n  /**\n   * @description Warning displayed to developers when the Notification API is used from an insecure origin (one that isn't localhost or doesn't use HTTPS) to notify them that this use is no longer supported.\n   */\n  NotificationInsecureOrigin: \"The Notification API may no longer be used from insecure origins. You should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.\",\n  /**\n   * @description Warning displayed to developers when permission to use notifications has been requested by a cross-origin iframe, to notify them that this use is no longer supported.\n   */\n  NotificationPermissionRequestedIframe: \"Permission for the Notification API may no longer be requested from a cross-origin iframe. You should consider requesting permission from a top-level frame or opening a new window instead.\",\n  /**\n   * @description Warning displayed to developers when CreateImageBitmap is used with the newly deprecated option imageOrientation: 'none'.\n   */\n  ObsoleteCreateImageBitmapImageOrientationNone: \"Option `imageOrientation: 'none'` in createImageBitmap is deprecated. Please use createImageBitmap with option '{imageOrientation: 'from-image'}' instead.\",\n  /**\n   * @description This warning occurs when the WebRTC protocol attempts to negotiate a connection using an obsolete cipher and risks connection security.\n   */\n  ObsoleteWebRtcCipherSuite: \"Your partner is negotiating an obsolete (D)TLS version. Please check with your partner to have this fixed.\",\n  /**\n   * @description Warning displayed to developers that use overflow:visible for replaced elements. This declaration was earlier ignored but will now change the element's painting based on whether the overflow value allows the element to paint outside its bounds.\n   */\n  OverflowVisibleOnReplacedElement: \"Specifying `overflow: visible` on img, video and canvas tags may cause them to produce visual content outside of the element bounds. See https://github.com/WICG/shared-element-transitions/blob/main/debugging_overflow_on_images.md.\",\n  /**\n   * @description Warning displayed to developers when they use a Flash Embed URLS to let them know that the browser will not automatically link to their equivalent HTML5 link.\n   */\n  OverrideFlashEmbedwithHTML: \"Legacy flash video embed has been rewritten to HTML iframe. Flash is long gone, this rewriting hack is deprecated and may be removed in the future.\",\n  /**\n   * @description Warning displayed to developers when they use the PaymentInstruments API to let them know this API is deprecated.\n   */\n  PaymentInstruments: \"`paymentManager.instruments` is deprecated. Please use just-in-time install for payment handlers instead.\",\n  /**\n   * @description Warning displayed to developers when their Web Payment API usage violates their Content-Security-Policy (CSP) connect-src directive to let them know this CSP bypass has been deprecated.\n   */\n  PaymentRequestCSPViolation: \"Your `PaymentRequest` call bypassed Content-Security-Policy (CSP) `connect-src` directive. This bypass is deprecated. Please add the payment method identifier from the `PaymentRequest` API (in `supportedMethods` field) to your CSP `connect-src` directive.\",\n  /**\n   * @description Warning displayed to developers when persistent storage type is used to notify that storage type is deprecated.\n   */\n  PersistentQuotaType: \"`StorageType.persistent` is deprecated. Please use standardized `navigator.storage` instead.\",\n  /**\n   * @description This issue indicates that a `<source>` element with a `<picture>` parent was using an `src` attribute, which is not valid and is ignored by the browser. The `srcset` attribute should be used instead.\n   */\n  PictureSourceSrc: \"`<source src>` with a `<picture>` parent is invalid and therefore ignored. Please use `<source srcset>` instead.\",\n  /**\n   * @description Warning displayed to developers when the vendor-prefixed method (webkitCancelAnimationFrame) is used rather than the equivalent unprefixed method (cancelAnimationFrame).\n   */\n  PrefixedCancelAnimationFrame: \"webkitCancelAnimationFrame is vendor-specific. Please use the standard cancelAnimationFrame instead.\",\n  /**\n   * @description Warning displayed to developers when the vendor-prefixed method (webkitRequestAnimationFrame) is used rather than the equivalent unprefixed method (requestAnimationFrame).\n   */\n  PrefixedRequestAnimationFrame: \"webkitRequestAnimationFrame is vendor-specific. Please use the standard requestAnimationFrame instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoDisplayingFullscreen: \"HTMLVideoElement.webkitDisplayingFullscreen is deprecated. Please use Document.fullscreenElement instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoEnterFullScreen: \"HTMLVideoElement.webkitEnterFullScreen() is deprecated. Please use Element.requestFullscreen() instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoEnterFullscreen: \"HTMLVideoElement.webkitEnterFullscreen() is deprecated. Please use Element.requestFullscreen() instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoExitFullScreen: \"HTMLVideoElement.webkitExitFullScreen() is deprecated. Please use Document.exitFullscreen() instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoExitFullscreen: \"HTMLVideoElement.webkitExitFullscreen() is deprecated. Please use Document.exitFullscreen() instead.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  PrefixedVideoSupportsFullscreen: \"HTMLVideoElement.webkitSupportsFullscreen is deprecated. Please use Document.fullscreenEnabled instead.\",\n  /**\n   * @description Warning displayed to developers that the API `chrome.privacy.websites.privacySandboxEnabled` is being deprecated in favour of three new more granular APIs: topicsEnabled, FledgeEnabled and adMeasurementEnabled. The `privacySandboxEnabled` API allowed extensions to control the homologous Chrome Setting. The existing Chrome Setting for Privacy Sandbox is also going away in favor of more granular settings that are matched by the new extensions APIs- topicsEnabled, FledgeEnabled and adMeasurementEnabled.\n   */\n  PrivacySandboxExtensionsAPI: \"We're deprecating the API `chrome.privacy.websites.privacySandboxEnabled`, though it will remain active for backward compatibility until release M113. Instead, please use `chrome.privacy.websites.topicsEnabled`, `chrome.privacy.websites.fledgeEnabled` and `chrome.privacy.websites.adMeasurementEnabled`. See https://developer.chrome.com/docs/extensions/reference/privacy/#property-websites-privacySandboxEnabled.\",\n  /**\n   * @description Standard message when one web API is deprecated in favor of another.\n   */\n  RangeExpand: \"Range.expand() is deprecated. Please use Selection.modify() instead.\",\n  /**\n   * @description This warning occurs when a subresource loaded by a page has a URL with an authority portion. These are disallowed.\n   */\n  RequestedSubresourceWithEmbeddedCredentials: \"Subresource requests whose URLs contain embedded credentials (e.g. `https://user:pass@host/`) are blocked.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. It's shown when a video conferencing website attempts to use a non-standard crypto method when performing a handshake to set up a connection with another endpoint.\n   */\n  RTCConstraintEnableDtlsSrtpFalse: \"The constraint `DtlsSrtpKeyAgreement` is removed. You have specified a `false` value for this constraint, which is interpreted as an attempt to use the removed `SDES key negotiation` method. This functionality is removed; use a service that supports `DTLS key negotiation` instead.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. It's shown when a video conferencing website uses a non-standard API for controlling the crypto method used, but is not having an effect because the desired behavior is already enabled-by-default.\n   */\n  RTCConstraintEnableDtlsSrtpTrue: \"The constraint `DtlsSrtpKeyAgreement` is removed. You have specified a `true` value for this constraint, which had no effect, but you can remove this constraint for tidiness.\",\n  /**\n   * @description WebRTC is set of JavaScript APIs for sending and receiving data, audio and video. getStats() is a method used to obtain network and quality metrics. There are two versions of this method, one is being deprecated because it is non-standard.\n   */\n  RTCPeerConnectionGetStatsLegacyNonCompliant: \"The callback-based getStats() is deprecated and will be removed. Use the spec-compliant getStats() instead.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. It's shown then a video conferencing website attempts to use the `RTCP MUX` policy.\n   */\n  RtcpMuxPolicyNegotiate: \"The `rtcpMuxPolicy` option is deprecated and will be removed.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. The placeholder is always the noun 'SharedArrayBuffer' which refers to a JavaScript construct.\n   */\n  SharedArrayBufferConstructedWithoutIsolation: \"`SharedArrayBuffer` will require cross-origin isolation. See https://developer.chrome.com/blog/enabling-shared-array-buffer/ for more details.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. It's shown when the speech synthesis API is called before the page receives a user activation.\n   */\n  TextToSpeech_DisallowedByAutoplay: \"`speechSynthesis.speak()` without user activation is deprecated and will be removed.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. It's shown when a listener for the `unload` event is added.\n   */\n  UnloadHandler: \"Unload event listeners are deprecated and will be removed.\",\n  /**\n   * @description A deprecation warning shown in the DevTools Issues tab. The placeholder is always the noun 'SharedArrayBuffer' which refers to a JavaScript construct. 'Extensions' refers to Chrome extensions. The warning is shown when Chrome Extensions attempt to use 'SharedArrayBuffer's under insecure circumstances.\n   */\n  V8SharedArrayBufferConstructedInExtensionWithoutIsolation: \"Extensions should opt into cross-origin isolation to continue using `SharedArrayBuffer`. See https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/.\",\n  /**\n   * @description Warning displayed to developers that they are using `XMLHttpRequest` API in a way that they expect an unsupported character encoding `UTF-16` could be used in the server reply.\n   */\n  XHRJSONEncodingDetection: \"UTF-16 is not supported by response json in `XMLHttpRequest`\",\n  /**\n   * @description Warning displayed to developers. It is shown when the `XMLHttpRequest` API is used in a way that it slows down the page load of the next page. The `main thread` refers to an operating systems thread used to run most of the processing of HTML documents, so please use a consistent wording.\n   */\n  XMLHttpRequestSynchronousInNonWorkerOutsideBeforeUnload: \"Synchronous `XMLHttpRequest` on the main thread is deprecated because of its detrimental effects to the end user's experience. For more help, check https://xhr.spec.whatwg.org/.\",\n} as const;\n\nexport interface DeprecationDescriptor {\n  milestone?: number;\n  chromeStatusFeature?: number;\n}\n\nexport const DEPRECATIONS_METADATA: Partial<Record<string, DeprecationDescriptor>> = {\n  \"AuthorizationCoveredByWildcard\": {\n    \"milestone\": 97\n  },\n  \"CSSSelectorInternalMediaControlsOverlayCastButton\": {\n    \"chromeStatusFeature\": 5714245488476160\n  },\n  \"CSSValueAppearanceSliderVertical\": {\n    \"chromeStatusFeature\": 6001359429566464\n  },\n  \"CanRequestURLHTTPContainingNewline\": {\n    \"chromeStatusFeature\": 5735596811091968\n  },\n  \"ChromeLoadTimesConnectionInfo\": {\n    \"chromeStatusFeature\": 5637885046816768\n  },\n  \"ChromeLoadTimesFirstPaintAfterLoadTime\": {\n    \"chromeStatusFeature\": 5637885046816768\n  },\n  \"ChromeLoadTimesWasAlternateProtocolAvailable\": {\n    \"chromeStatusFeature\": 5637885046816768\n  },\n  \"CookieWithTruncatingChar\": {\n    \"milestone\": 103\n  },\n  \"CrossOriginAccessBasedOnDocumentDomain\": {\n    \"milestone\": 115\n  },\n  \"DataUrlInSvgUse\": {\n    \"chromeStatusFeature\": 5128825141198848,\n    \"milestone\": 119\n  },\n  \"IdentityInCanMakePaymentEvent\": {\n    \"chromeStatusFeature\": 5190978431352832\n  },\n  \"InsecurePrivateNetworkSubresourceRequest\": {\n    \"chromeStatusFeature\": 5436853517811712,\n    \"milestone\": 92\n  },\n  \"LocalCSSFileExtensionRejected\": {\n    \"milestone\": 64\n  },\n  \"MediaSourceAbortRemove\": {\n    \"chromeStatusFeature\": 6107495151960064\n  },\n  \"MediaSourceDurationTruncatingBuffered\": {\n    \"chromeStatusFeature\": 6107495151960064\n  },\n  \"NoSysexWebMIDIWithoutPermission\": {\n    \"chromeStatusFeature\": 5138066234671104,\n    \"milestone\": 82\n  },\n  \"NotificationPermissionRequestedIframe\": {\n    \"chromeStatusFeature\": 6451284559265792\n  },\n  \"ObsoleteCreateImageBitmapImageOrientationNone\": {\n    \"milestone\": 111\n  },\n  \"ObsoleteWebRtcCipherSuite\": {\n    \"milestone\": 81\n  },\n  \"OverflowVisibleOnReplacedElement\": {\n    \"chromeStatusFeature\": 5137515594383360,\n    \"milestone\": 108\n  },\n  \"OverrideFlashEmbedwithHTML\": {\n    \"milestone\": 140\n  },\n  \"PaymentInstruments\": {\n    \"chromeStatusFeature\": 5099285054488576\n  },\n  \"PaymentRequestCSPViolation\": {\n    \"chromeStatusFeature\": 6286595631087616\n  },\n  \"PersistentQuotaType\": {\n    \"chromeStatusFeature\": 5176235376246784,\n    \"milestone\": 106\n  },\n  \"RTCConstraintEnableDtlsSrtpFalse\": {\n    \"milestone\": 97\n  },\n  \"RTCConstraintEnableDtlsSrtpTrue\": {\n    \"milestone\": 97\n  },\n  \"RTCPeerConnectionGetStatsLegacyNonCompliant\": {\n    \"chromeStatusFeature\": 4631626228695040,\n    \"milestone\": 117\n  },\n  \"RequestedSubresourceWithEmbeddedCredentials\": {\n    \"chromeStatusFeature\": 5669008342777856\n  },\n  \"RtcpMuxPolicyNegotiate\": {\n    \"chromeStatusFeature\": 5654810086866944,\n    \"milestone\": 62\n  },\n  \"SharedArrayBufferConstructedWithoutIsolation\": {\n    \"milestone\": 106\n  },\n  \"TextToSpeech_DisallowedByAutoplay\": {\n    \"chromeStatusFeature\": 5687444770914304,\n    \"milestone\": 71\n  },\n  \"UnloadHandler\": {\n    \"chromeStatusFeature\": 5579556305502208\n  },\n  \"V8SharedArrayBufferConstructedInExtensionWithoutIsolation\": {\n    \"milestone\": 96\n  },\n  \"XHRJSONEncodingDetection\": {\n    \"milestone\": 93\n  }\n};\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription\n} from './MarkdownIssueDescription.js';\n\nexport class ElementAccessibilityIssue extends Issue {\n  private issueDetails: Protocol.Audits.ElementAccessibilityIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.ElementAccessibilityIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId?: Protocol.Audits.IssueId) {\n    const issueCode = [\n      Protocol.Audits.InspectorIssueCode.ElementAccessibilityIssue,\n      issueDetails.elementAccessibilityIssueReason,\n    ].join('::');\n    super(issueCode, issuesModel, issueId);\n    this.issueDetails = issueDetails;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.issueDetails);\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    if (this.isInteractiveContentAttributesSelectDescendantIssue()) {\n      return {\n        file: 'selectElementAccessibilityInteractiveContentAttributesSelectDescendant.md',\n        links: [],\n      };\n    }\n    const description = issueDescriptions.get(this.issueDetails.elementAccessibilityIssueReason);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.ElementAccessibilityIssueDetails {\n    return this.issueDetails;\n  }\n\n  isInteractiveContentAttributesSelectDescendantIssue(): boolean {\n    return this.issueDetails.hasDisallowedAttributes &&\n        (this.issueDetails.elementAccessibilityIssueReason !==\n             Protocol.Audits.ElementAccessibilityIssueReason.InteractiveContentOptionChild &&\n         this.issueDetails.elementAccessibilityIssueReason !==\n             Protocol.Audits.ElementAccessibilityIssueReason.InteractiveContentSummaryDescendant);\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      ElementAccessibilityIssue[] {\n    const elementAccessibilityIssueDetails = inspectorIssue.details.elementAccessibilityIssueDetails;\n    if (!elementAccessibilityIssueDetails) {\n      console.warn('Element Accessibility issue without details received.');\n      return [];\n    }\n    return [new ElementAccessibilityIssue(elementAccessibilityIssueDetails, issuesModel, inspectorIssue.issueId)];\n  }\n}\n\nconst issueDescriptions = new Map<Protocol.Audits.ElementAccessibilityIssueReason, LazyMarkdownIssueDescription>([\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.DisallowedSelectChild,\n    {\n      file: 'selectElementAccessibilityDisallowedSelectChild.md',\n      links: [],\n    },\n  ],\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.DisallowedOptGroupChild,\n    {\n      file: 'selectElementAccessibilityDisallowedOptGroupChild.md',\n      links: [],\n    },\n  ],\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.NonPhrasingContentOptionChild,\n    {\n      file: 'selectElementAccessibilityNonPhrasingContentOptionChild.md',\n      links: [],\n    },\n  ],\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.InteractiveContentOptionChild,\n    {\n      file: 'selectElementAccessibilityInteractiveContentOptionChild.md',\n      links: [],\n    },\n  ],\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.InteractiveContentLegendChild,\n    {\n      file: 'selectElementAccessibilityInteractiveContentLegendChild.md',\n      links: [],\n    },\n  ],\n  [\n    Protocol.Audits.ElementAccessibilityIssueReason.InteractiveContentSummaryDescendant,\n    {\n      file: 'summaryElementAccessibilityInteractiveContentSummaryDescendant.md',\n      links: [],\n    },\n  ],\n]);\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Client Hint specification url link\n   */\n  fedCmUserInfo: 'Federated Credential Management User Info API',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/FederatedAuthUserInfoRequestIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class FederatedAuthUserInfoRequestIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.FederatedAuthUserInfoRequestIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.FederatedAuthUserInfoRequestIssueDetails,\n      issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: Protocol.Audits.InspectorIssueCode.FederatedAuthUserInfoRequestIssue,\n          umaCode: [\n            Protocol.Audits.InspectorIssueCode.FederatedAuthUserInfoRequestIssue,\n            issueDetails.federatedAuthUserInfoRequestIssueReason,\n          ].join('::'),\n        },\n        issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.FederatedAuthUserInfoRequestIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.#issueDetails.federatedAuthUserInfoRequestIssueReason);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      FederatedAuthUserInfoRequestIssue[] {\n    const details = inspectorIssue.details.federatedAuthUserInfoRequestIssueDetails;\n    if (!details) {\n      console.warn('Federated auth user info request issue without details received.');\n      return [];\n    }\n    return [new FederatedAuthUserInfoRequestIssue(details, issuesModel)];\n  }\n}\n\nconst issueDescriptions =\n    new Map<Protocol.Audits.FederatedAuthUserInfoRequestIssueReason, LazyMarkdownIssueDescription>([\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NotSameOrigin,\n        {\n          file: 'federatedAuthUserInfoRequestNotSameOrigin.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NotIframe,\n        {\n          file: 'federatedAuthUserInfoRequestNotIframe.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NotPotentiallyTrustworthy,\n        {\n          file: 'federatedAuthUserInfoRequestNotPotentiallyTrustworthy.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NoAPIPermission,\n        {\n          file: 'federatedAuthUserInfoRequestNoApiPermission.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NotSignedInWithIdp,\n        {\n          file: 'federatedAuthUserInfoRequestNotSignedInWithIdp.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NoAccountSharingPermission,\n        {\n          file: 'federatedAuthUserInfoRequestNoAccountSharingPermission.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.InvalidConfigOrWellKnown,\n        {\n          file: 'federatedAuthUserInfoRequestInvalidConfigOrWellKnown.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.InvalidAccountsResponse,\n        {\n          file: 'federatedAuthUserInfoRequestInvalidAccountsResponse.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n      [\n        Protocol.Audits.FederatedAuthUserInfoRequestIssueReason.NoReturningUserFromFetchedAccounts,\n        {\n          file: 'federatedAuthUserInfoRequestNoReturningUserFromFetchedAccounts.md',\n          links: [{\n            link: 'https://fedidcg.github.io/FedCM/',\n            linkTitle: i18nLazyString(UIStrings.fedCmUserInfo),\n          }],\n        },\n      ],\n    ]);\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  resolveLazyDescription,\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description title for autofill documentation page\n   */\n  howDoesAutofillWorkPageTitle: 'How does autofill work?',\n\n  /**\n   * @description title for label form elements usage example page\n   */\n  labelFormlementsPageTitle: 'The label elements',\n\n  /**\n   * @description title for input form elements usage example page\n   */\n  inputFormElementPageTitle: 'The form input element',\n\n  /**\n   * @description title for autocomplete attribute documentation page.\n   */\n  autocompleteAttributePageTitle: 'HTML attribute: autocomplete',\n\n  /**\n   * @description title for CORB explainer.\n   */\n  corbExplainerPageTitle: 'CORB explainer',\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/GenericIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class GenericIssue extends Issue {\n  #issueDetails: Protocol.Audits.GenericIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.GenericIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel,\n      issueId?: Protocol.Audits.IssueId) {\n    const issueCode = [\n      Protocol.Audits.InspectorIssueCode.GenericIssue,\n      issueDetails.errorType,\n    ].join('::');\n    super(issueCode, issuesModel, issueId);\n    this.#issueDetails = issueDetails;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    if (this.#issueDetails.request) {\n      return [this.#issueDetails.request];\n    }\n    return [];\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.GENERIC;\n  }\n\n  primaryKey(): string {\n    const requestId = this.#issueDetails.request ? this.#issueDetails.request.requestId : 'no-request';\n    return `${this.code()}-(${this.#issueDetails.frameId})-(${this.#issueDetails.violatingNodeId})-(${\n        this.#issueDetails.violatingNodeAttribute})-(${requestId})`;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.#issueDetails.errorType);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  details(): Protocol.Audits.GenericIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getKind(): IssueKind {\n    return issueTypes.get(this.#issueDetails.errorType) || IssueKind.IMPROVEMENT;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      GenericIssue[] {\n    const genericDetails = inspectorIssue.details.genericIssueDetails;\n    if (!genericDetails) {\n      console.warn('Generic issue without details received.');\n      return [];\n    }\n    return [new GenericIssue(genericDetails, issuesModel, inspectorIssue.issueId)];\n  }\n}\n\nexport const genericFormLabelForNameError = {\n  file: 'genericFormLabelForNameError.md',\n  links: [{\n    link: 'https://html.spec.whatwg.org/multipage/forms.html#attr-label-for',\n    // Since the link points to a page with the same title, the 'HTML Standard'\n    // string doesn't need to be translated.\n    linkTitle: i18n.i18n.lockedLazyString('HTML Standard'),\n  }],\n};\n\nexport const genericFormInputWithNoLabelError = {\n  file: 'genericFormInputWithNoLabelError.md',\n  links: [],\n};\n\nexport const genericFormAutocompleteAttributeEmptyError = {\n  file: 'genericFormAutocompleteAttributeEmptyError.md',\n  links: [],\n};\n\nexport const genericFormDuplicateIdForInputError = {\n  file: 'genericFormDuplicateIdForInputError.md',\n  links: [{\n    link: 'https://web.dev/learn/forms/autofill/#how-does-autofill-work',\n    linkTitle: i18nLazyString(UIStrings.howDoesAutofillWorkPageTitle),\n  }],\n};\n\nexport const genericFormAriaLabelledByToNonExistingId = {\n  file: 'genericFormAriaLabelledByToNonExistingId.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label',\n    linkTitle: i18nLazyString(UIStrings.labelFormlementsPageTitle),\n  }],\n};\n\nexport const genericFormEmptyIdAndNameAttributesForInputError = {\n  file: 'genericFormEmptyIdAndNameAttributesForInputError.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input',\n    linkTitle: i18nLazyString(UIStrings.inputFormElementPageTitle),\n  }],\n};\n\nexport const genericFormInputAssignedAutocompleteValueToIdOrNameAttributeError = {\n  file: 'genericFormInputAssignedAutocompleteValueToIdOrNameAttributeError.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete#values',\n    linkTitle: i18nLazyString(UIStrings.autocompleteAttributePageTitle),\n  }],\n};\n\nexport const genericFormInputHasWrongButWellIntendedAutocompleteValue = {\n  file: 'genericFormInputHasWrongButWellIntendedAutocompleteValueError.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete#values',\n    linkTitle: i18nLazyString(UIStrings.autocompleteAttributePageTitle),\n  }],\n};\n\nexport const genericFormLabelForMatchesNonExistingIdError = {\n  file: 'genericFormLabelForMatchesNonExistingIdError.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label',\n    linkTitle: i18nLazyString(UIStrings.labelFormlementsPageTitle),\n  }],\n};\n\nexport const genericFormLabelHasNeitherForNorNestedInput = {\n  file: 'genericFormLabelHasNeitherForNorNestedInput.md',\n  links: [{\n    link: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label',\n    linkTitle: i18nLazyString(UIStrings.labelFormlementsPageTitle),\n  }],\n};\n\nexport const genericResponseWasBlockedbyORB = {\n  file: 'genericResponseWasBlockedByORB.md',\n  links: [{\n    link: 'https://www.chromium.org/Home/chromium-security/corb-for-developers/',\n    linkTitle: i18nLazyString(UIStrings.corbExplainerPageTitle),\n  }],\n};\n\nconst issueDescriptions = new Map<Protocol.Audits.GenericIssueErrorType, LazyMarkdownIssueDescription>([\n  [Protocol.Audits.GenericIssueErrorType.FormLabelForNameError, genericFormLabelForNameError],\n  [Protocol.Audits.GenericIssueErrorType.FormInputWithNoLabelError, genericFormInputWithNoLabelError],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormAutocompleteAttributeEmptyError,\n    genericFormAutocompleteAttributeEmptyError,\n  ],\n  [Protocol.Audits.GenericIssueErrorType.FormDuplicateIdForInputError, genericFormDuplicateIdForInputError],\n  [Protocol.Audits.GenericIssueErrorType.FormAriaLabelledByToNonExistingId, genericFormAriaLabelledByToNonExistingId],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormEmptyIdAndNameAttributesForInputError,\n    genericFormEmptyIdAndNameAttributesForInputError,\n  ],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormInputAssignedAutocompleteValueToIdOrNameAttributeError,\n    genericFormInputAssignedAutocompleteValueToIdOrNameAttributeError,\n  ],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormLabelForMatchesNonExistingIdError,\n    genericFormLabelForMatchesNonExistingIdError,\n  ],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormLabelHasNeitherForNorNestedInput,\n    genericFormLabelHasNeitherForNorNestedInput,\n  ],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormInputHasWrongButWellIntendedAutocompleteValueError,\n    genericFormInputHasWrongButWellIntendedAutocompleteValue,\n  ],\n  [\n    Protocol.Audits.GenericIssueErrorType.ResponseWasBlockedByORB,\n    genericResponseWasBlockedbyORB,\n  ],\n]);\n\nconst issueTypes = new Map<Protocol.Audits.GenericIssueErrorType, IssueKind>([\n  [Protocol.Audits.GenericIssueErrorType.FormLabelForNameError, IssueKind.PAGE_ERROR],\n  [Protocol.Audits.GenericIssueErrorType.FormInputWithNoLabelError, IssueKind.IMPROVEMENT],\n  [Protocol.Audits.GenericIssueErrorType.FormAutocompleteAttributeEmptyError, IssueKind.PAGE_ERROR],\n  [Protocol.Audits.GenericIssueErrorType.FormDuplicateIdForInputError, IssueKind.PAGE_ERROR],\n  [Protocol.Audits.GenericIssueErrorType.FormAriaLabelledByToNonExistingId, IssueKind.IMPROVEMENT],\n  [Protocol.Audits.GenericIssueErrorType.FormEmptyIdAndNameAttributesForInputError, IssueKind.IMPROVEMENT],\n  [\n    Protocol.Audits.GenericIssueErrorType.FormInputAssignedAutocompleteValueToIdOrNameAttributeError,\n    IssueKind.IMPROVEMENT,\n  ],\n  [Protocol.Audits.GenericIssueErrorType.FormLabelForMatchesNonExistingIdError, IssueKind.PAGE_ERROR],\n  [Protocol.Audits.GenericIssueErrorType.FormLabelHasNeitherForNorNestedInput, IssueKind.IMPROVEMENT],\n  [Protocol.Audits.GenericIssueErrorType.FormInputHasWrongButWellIntendedAutocompleteValueError, IssueKind.IMPROVEMENT],\n\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for a learn more link in Heavy Ads issue description\n   */\n  handlingHeavyAdInterventions: 'Handling Heavy Ad Interventions',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/HeavyAdIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class HeavyAdIssue extends Issue {\n  #issueDetails: Protocol.Audits.HeavyAdIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.HeavyAdIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const umaCode = [Protocol.Audits.InspectorIssueCode.HeavyAdIssue, issueDetails.reason].join('::');\n    super({code: Protocol.Audits.InspectorIssueCode.HeavyAdIssue, umaCode}, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  details(): Protocol.Audits.HeavyAdIssueDetails {\n    return this.#issueDetails;\n  }\n\n  primaryKey(): string {\n    return `${Protocol.Audits.InspectorIssueCode.HeavyAdIssue}-${JSON.stringify(this.#issueDetails)}`;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'heavyAd.md',\n      links: [\n        {\n          link: 'https://developers.google.com/web/updates/2020/05/heavy-ad-interventions',\n          linkTitle: i18nString(UIStrings.handlingHeavyAdInterventions),\n        },\n      ],\n    };\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.HEAVY_AD;\n  }\n\n  getKind(): IssueKind {\n    switch (this.#issueDetails.resolution) {\n      case Protocol.Audits.HeavyAdResolutionStatus.HeavyAdBlocked:\n        return IssueKind.PAGE_ERROR;\n      case Protocol.Audits.HeavyAdResolutionStatus.HeavyAdWarning:\n        return IssueKind.BREAKING_CHANGE;\n    }\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      HeavyAdIssue[] {\n    const heavyAdIssueDetails = inspectorIssue.details.heavyAdIssueDetails;\n    if (!heavyAdIssueDetails) {\n      console.warn('Heavy Ad issue without details received.');\n      return [];\n    }\n    return [new HeavyAdIssue(heavyAdIssueDetails, issuesModel)];\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type {Issue} from './Issue.js';\nimport {Events as IssueManagerEvents, type IssueAddedEvent, IssuesManager} from './IssuesManager.js';\n\n/**\n * A class that facilitates resolving an issueId to an issue. See `ResolverBase` for more info.\n */\nexport class IssueResolver extends Common.ResolverBase.ResolverBase<Protocol.Audits.IssueId, Issue> {\n  #issuesListener: Common.EventTarget.EventDescriptor|null = null;\n  #issuesManager: IssuesManager;\n\n  constructor(issuesManager: IssuesManager = IssuesManager.instance()) {\n    super();\n    this.#issuesManager = issuesManager;\n  }\n\n  protected override getForId(id: Protocol.Audits.IssueId): Issue|null {\n    return this.#issuesManager.getIssueById(id) || null;\n  }\n\n  #onIssueAdded(event: Common.EventTarget.EventTargetEvent<IssueAddedEvent>): void {\n    const {issue} = event.data;\n    const id = issue.getIssueId();\n    if (id) {\n      this.onResolve(id, issue);\n    }\n  }\n\n  protected override startListening(): void {\n    if (this.#issuesListener) {\n      return;\n    }\n    this.#issuesListener =\n        this.#issuesManager.addEventListener(IssueManagerEvents.ISSUE_ADDED, this.#onIssueAdded, this);\n  }\n\n  protected override stopListening(): void {\n    if (!this.#issuesListener) {\n      return;\n    }\n    Common.EventTarget.removeEventListeners([this.#issuesListener]);\n    this.#issuesListener = null;\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {AttributionReportingIssue} from './AttributionReportingIssue.js';\nimport {BounceTrackingIssue} from './BounceTrackingIssue.js';\nimport {ClientHintIssue} from './ClientHintIssue.js';\nimport {ContentSecurityPolicyIssue} from './ContentSecurityPolicyIssue.js';\nimport {CookieDeprecationMetadataIssue} from './CookieDeprecationMetadataIssue.js';\nimport {CookieIssue, CookieIssueSubCategory} from './CookieIssue.js';\nimport {CorsIssue} from './CorsIssue.js';\nimport {CrossOriginEmbedderPolicyIssue, isCrossOriginEmbedderPolicyIssue} from './CrossOriginEmbedderPolicyIssue.js';\nimport {DeprecationIssue} from './DeprecationIssue.js';\nimport {ElementAccessibilityIssue} from './ElementAccessibilityIssue.js';\nimport {FederatedAuthRequestIssue} from './FederatedAuthRequestIssue.js';\nimport {GenericIssue} from './GenericIssue.js';\nimport {HeavyAdIssue} from './HeavyAdIssue.js';\nimport type {Issue, IssueKind} from './Issue.js';\nimport {Events} from './IssuesManagerEvents.js';\nimport {LowTextContrastIssue} from './LowTextContrastIssue.js';\nimport {MixedContentIssue} from './MixedContentIssue.js';\nimport {PartitioningBlobURLIssue} from './PartitioningBlobURLIssue.js';\nimport {PropertyRuleIssue} from './PropertyRuleIssue.js';\nimport {QuirksModeIssue} from './QuirksModeIssue.js';\nimport {SharedArrayBufferIssue} from './SharedArrayBufferIssue.js';\nimport {SharedDictionaryIssue} from './SharedDictionaryIssue.js';\nimport {SourceFrameIssuesManager} from './SourceFrameIssuesManager.js';\nimport {SRIMessageSignatureIssue} from './SRIMessageSignatureIssue.js';\nimport {StylesheetLoadingIssue} from './StylesheetLoadingIssue.js';\nimport {UnencodedDigestIssue} from './UnencodedDigestIssue.js';\nimport {UserReidentificationIssue} from './UserReidentificationIssue.js';\n\nexport {Events} from './IssuesManagerEvents.js';\n\nlet issuesManagerInstance: IssuesManager|null = null;\n\nfunction createIssuesForBlockedByResponseIssue(\n    issuesModel: SDK.IssuesModel.IssuesModel,\n    inspectorIssue: Protocol.Audits.InspectorIssue): CrossOriginEmbedderPolicyIssue[] {\n  const blockedByResponseIssueDetails = inspectorIssue.details.blockedByResponseIssueDetails;\n  if (!blockedByResponseIssueDetails) {\n    console.warn('BlockedByResponse issue without details received.');\n    return [];\n  }\n  if (isCrossOriginEmbedderPolicyIssue(blockedByResponseIssueDetails.reason)) {\n    return [new CrossOriginEmbedderPolicyIssue(blockedByResponseIssueDetails, issuesModel)];\n  }\n  return [];\n}\n\nconst issueCodeHandlers = new Map<\n    Protocol.Audits.InspectorIssueCode,\n    (model: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue) => Issue[]>([\n  [\n    Protocol.Audits.InspectorIssueCode.CookieIssue,\n    CookieIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.MixedContentIssue,\n    MixedContentIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.HeavyAdIssue,\n    HeavyAdIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.ContentSecurityPolicyIssue,\n    ContentSecurityPolicyIssue.fromInspectorIssue,\n  ],\n  [Protocol.Audits.InspectorIssueCode.BlockedByResponseIssue, createIssuesForBlockedByResponseIssue],\n  [\n    Protocol.Audits.InspectorIssueCode.SharedArrayBufferIssue,\n    SharedArrayBufferIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.SharedDictionaryIssue,\n    SharedDictionaryIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.LowTextContrastIssue,\n    LowTextContrastIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.CorsIssue,\n    CorsIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.QuirksModeIssue,\n    QuirksModeIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.AttributionReportingIssue,\n    AttributionReportingIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.GenericIssue,\n    GenericIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.DeprecationIssue,\n    DeprecationIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.ClientHintIssue,\n    ClientHintIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.FederatedAuthRequestIssue,\n    FederatedAuthRequestIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.BounceTrackingIssue,\n    BounceTrackingIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.StylesheetLoadingIssue,\n    StylesheetLoadingIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.PartitioningBlobURLIssue,\n    PartitioningBlobURLIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.PropertyRuleIssue,\n    PropertyRuleIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.CookieDeprecationMetadataIssue,\n    CookieDeprecationMetadataIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.ElementAccessibilityIssue,\n    ElementAccessibilityIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.SRIMessageSignatureIssue,\n    SRIMessageSignatureIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.UnencodedDigestIssue,\n    UnencodedDigestIssue.fromInspectorIssue,\n  ],\n  [\n    Protocol.Audits.InspectorIssueCode.UserReidentificationIssue,\n    UserReidentificationIssue.fromInspectorIssue,\n  ],\n]);\n\n/**\n * Each issue reported by the backend can result in multiple `Issue` instances.\n * Handlers are simple functions hard-coded into a map.\n */\nexport function createIssuesFromProtocolIssue(\n    issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue): Issue[] {\n  const handler = issueCodeHandlers.get(inspectorIssue.code);\n  if (handler) {\n    return handler(issuesModel, inspectorIssue);\n  }\n  console.warn(`No handler registered for issue code ${inspectorIssue.code}`);\n  return [];\n}\n\nexport interface IssuesManagerCreationOptions {\n  forceNew: boolean;\n  /** Throw an error if this is not the first instance created */\n  ensureFirst: boolean;\n  showThirdPartyIssuesSetting?: Common.Settings.Setting<boolean>;\n  hideIssueSetting?: Common.Settings.Setting<HideIssueMenuSetting>;\n}\n\nexport type HideIssueMenuSetting = Record<string, IssueStatus>;\n\nexport const enum IssueStatus {\n  HIDDEN = 'Hidden',\n  UNHIDDEN = 'Unhidden',\n}\n\nexport function defaultHideIssueByCodeSetting(): HideIssueMenuSetting {\n  const setting: HideIssueMenuSetting = {};\n  return setting;\n}\n\nexport function getHideIssueByCodeSetting(): Common.Settings.Setting<HideIssueMenuSetting> {\n  return Common.Settings.Settings.instance().createSetting(\n      'hide-issue-by-code-setting-experiment-2021', defaultHideIssueByCodeSetting());\n}\n\n/**\n * The `IssuesManager` is the central storage for issues. It collects issues from all the\n * `IssuesModel` instances in the page, and deduplicates them wrt their primary key.\n * It also takes care of clearing the issues when it sees a main-frame navigated event.\n * Any client can subscribe to the events provided, and/or query the issues via the public\n * interface.\n *\n * Additionally, the `IssuesManager` can filter Issues. All Issues are stored, but only\n * Issues that are accepted by the filter cause events to be fired or are returned by\n * `IssuesManager#issues()`.\n */\nexport class IssuesManager extends Common.ObjectWrapper.ObjectWrapper<EventTypes> implements\n    SDK.TargetManager.SDKModelObserver<SDK.IssuesModel.IssuesModel> {\n  #eventListeners = new WeakMap<SDK.IssuesModel.IssuesModel, Common.EventTarget.EventDescriptor>();\n  #allIssues = new Map<string, Issue>();\n  #filteredIssues = new Map<string, Issue>();\n  #issueCounts = new Map<IssueKind, number>();\n  #hiddenIssueCount = new Map<IssueKind, number>();\n  #thirdPartyCookiePhaseoutIssueCount = new Map<IssueKind, number>();\n  #issuesById = new Map<string, Issue>();\n  #issuesByOutermostTarget: WeakMap<SDK.Target.Target, Set<Issue>> = new Map();\n  #thirdPartyCookiePhaseoutIssueMessageSent = false;\n\n  constructor(\n      private readonly showThirdPartyIssuesSetting?: Common.Settings.Setting<boolean>,\n      private readonly hideIssueSetting?: Common.Settings.Setting<HideIssueMenuSetting>) {\n    super();\n    new SourceFrameIssuesManager(this);\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.IssuesModel.IssuesModel, this);\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.PrimaryPageChanged,\n        this.#onPrimaryPageChanged, this);\n    SDK.FrameManager.FrameManager.instance().addEventListener(\n        SDK.FrameManager.Events.FRAME_ADDED_TO_TARGET, this.#onFrameAddedToTarget, this);\n\n    // issueFilter uses the 'show-third-party-issues' setting. Clients of IssuesManager need\n    // a full update when the setting changes to get an up-to-date issues list.\n    this.showThirdPartyIssuesSetting?.addChangeListener(() => this.#updateFilteredIssues());\n    this.hideIssueSetting?.addChangeListener(() => this.#updateFilteredIssues());\n    SDK.TargetManager.TargetManager.instance().observeTargets(\n        {\n          targetAdded: (target: SDK.Target.Target) => {\n            if (target.outermostTarget() === target) {\n              this.#updateFilteredIssues();\n            }\n          },\n          targetRemoved: (_: SDK.Target.Target) => {},\n        },\n        {scoped: true});\n  }\n\n  static instance(opts: IssuesManagerCreationOptions = {\n    forceNew: false,\n    ensureFirst: false,\n  }): IssuesManager {\n    if (issuesManagerInstance && opts.ensureFirst) {\n      throw new Error(\n          'IssuesManager was already created. Either set \"ensureFirst\" to false or make sure that this invocation is really the first one.');\n    }\n\n    if (!issuesManagerInstance || opts.forceNew) {\n      issuesManagerInstance = new IssuesManager(opts.showThirdPartyIssuesSetting, opts.hideIssueSetting);\n    }\n\n    return issuesManagerInstance;\n  }\n\n  static removeInstance(): void {\n    issuesManagerInstance = null;\n  }\n\n  #onPrimaryPageChanged(\n      event: Common.EventTarget.EventTargetEvent<\n          {frame: SDK.ResourceTreeModel.ResourceTreeFrame, type: SDK.ResourceTreeModel.PrimaryPageChangeType}>): void {\n    const {frame, type} = event.data;\n    const keptIssues = new Map<string, Issue>();\n    for (const [key, issue] of this.#allIssues.entries()) {\n      if (issue.isAssociatedWithRequestId(frame.loaderId)) {\n        keptIssues.set(key, issue);\n        // Keep issues for prerendered target alive in case of prerender-activation.\n      } else if (\n          (type === SDK.ResourceTreeModel.PrimaryPageChangeType.ACTIVATION) &&\n          (frame.resourceTreeModel().target() === issue.model()?.target())) {\n        keptIssues.set(key, issue);\n        // Keep BounceTrackingIssues alive for non-user-initiated navigations.\n      } else if (\n          issue.code() === Protocol.Audits.InspectorIssueCode.BounceTrackingIssue ||\n          issue.code() === Protocol.Audits.InspectorIssueCode.CookieIssue) {\n        const networkManager = frame.resourceTreeModel().target().model(SDK.NetworkManager.NetworkManager);\n        if (networkManager?.requestForLoaderId(frame.loaderId)?.hasUserGesture() === false) {\n          keptIssues.set(key, issue);\n        }\n      }\n    }\n    this.#allIssues = keptIssues;\n    this.#updateFilteredIssues();\n  }\n\n  #onFrameAddedToTarget(event: Common.EventTarget.EventTargetEvent<{frame: SDK.ResourceTreeModel.ResourceTreeFrame}>):\n      void {\n    const {frame} = event.data;\n    // Determining third-party status usually requires the registered domain of the outermost frame.\n    // When DevTools is opened after navigation has completed, issues may be received\n    // before the outermost frame is available. Thus, we trigger a recalcuation of third-party-ness\n    // when we attach to the outermost frame.\n    if (frame.isOutermostFrame() && SDK.TargetManager.TargetManager.instance().isInScope(frame.resourceTreeModel())) {\n      this.#updateFilteredIssues();\n    }\n  }\n\n  modelAdded(issuesModel: SDK.IssuesModel.IssuesModel): void {\n    const listener = issuesModel.addEventListener(SDK.IssuesModel.Events.ISSUE_ADDED, this.#onIssueAddedEvent, this);\n    this.#eventListeners.set(issuesModel, listener);\n  }\n\n  modelRemoved(issuesModel: SDK.IssuesModel.IssuesModel): void {\n    const listener = this.#eventListeners.get(issuesModel);\n    if (listener) {\n      Common.EventTarget.removeEventListeners([listener]);\n    }\n  }\n\n  #onIssueAddedEvent(event: Common.EventTarget.EventTargetEvent<SDK.IssuesModel.IssueAddedEvent>): void {\n    const {issuesModel, inspectorIssue} = event.data;\n    const isPrivacyUiEnabled = Root.Runtime.hostConfig.devToolsPrivacyUI?.enabled;\n\n    const issues = createIssuesFromProtocolIssue(issuesModel, inspectorIssue);\n    for (const issue of issues) {\n      this.addIssue(issuesModel, issue);\n      const message = issue.maybeCreateConsoleMessage();\n      if (!message) {\n        continue;\n      }\n\n      // Only show one message for third-party cookie phaseout issues if the new privacy ui is enabled\n      const is3rdPartyCookiePhaseoutIssue =\n          CookieIssue.getSubCategory(issue.code()) === CookieIssueSubCategory.THIRD_PARTY_PHASEOUT_COOKIE;\n      if (!is3rdPartyCookiePhaseoutIssue || !isPrivacyUiEnabled || !this.#thirdPartyCookiePhaseoutIssueMessageSent) {\n        issuesModel.target().model(SDK.ConsoleModel.ConsoleModel)?.addMessage(message);\n      }\n      if (is3rdPartyCookiePhaseoutIssue && isPrivacyUiEnabled) {\n        this.#thirdPartyCookiePhaseoutIssueMessageSent = true;\n      }\n    }\n  }\n\n  addIssue(issuesModel: SDK.IssuesModel.IssuesModel, issue: Issue): void {\n    // Ignore issues without proper description; they are invisible to the user and only cause confusion.\n    if (!issue.getDescription()) {\n      return;\n    }\n    const primaryKey = issue.primaryKey();\n    if (this.#allIssues.has(primaryKey)) {\n      return;\n    }\n    this.#allIssues.set(primaryKey, issue);\n\n    const outermostTarget = issuesModel.target().outermostTarget();\n    if (outermostTarget) {\n      let issuesForTarget = this.#issuesByOutermostTarget.get(outermostTarget);\n      if (!issuesForTarget) {\n        issuesForTarget = new Set();\n        this.#issuesByOutermostTarget.set(outermostTarget, issuesForTarget);\n      }\n      issuesForTarget.add(issue);\n    }\n    if (this.#issueFilter(issue)) {\n      this.#filteredIssues.set(primaryKey, issue);\n      this.#issueCounts.set(issue.getKind(), 1 + (this.#issueCounts.get(issue.getKind()) || 0));\n      const issueId = issue.getIssueId();\n      if (issueId) {\n        this.#issuesById.set(issueId, issue);\n      }\n      const values = this.hideIssueSetting?.get();\n      this.#updateIssueHiddenStatus(issue, values);\n\n      if (CookieIssue.isThirdPartyCookiePhaseoutRelatedIssue(issue)) {\n        this.#thirdPartyCookiePhaseoutIssueCount.set(\n            issue.getKind(), 1 + (this.#thirdPartyCookiePhaseoutIssueCount.get(issue.getKind()) || 0));\n      } else if (issue.isHidden()) {\n        this.#hiddenIssueCount.set(issue.getKind(), 1 + (this.#hiddenIssueCount.get(issue.getKind()) || 0));\n      }\n\n      this.dispatchEventToListeners(Events.ISSUE_ADDED, {issuesModel, issue});\n    }\n    // Always fire the \"count\" event even if the issue was filtered out.\n    // The result of `hasOnlyThirdPartyIssues` could still change.\n    this.dispatchEventToListeners(Events.ISSUES_COUNT_UPDATED);\n  }\n\n  issues(): Iterable<Issue> {\n    return this.#filteredIssues.values();\n  }\n\n  numberOfIssues(kind?: IssueKind): number {\n    if (kind) {\n      return (this.#issueCounts.get(kind) ?? 0) - this.numberOfHiddenIssues(kind) -\n          this.numberOfThirdPartyCookiePhaseoutIssues(kind);\n    }\n    return this.#filteredIssues.size - this.numberOfHiddenIssues() - this.numberOfThirdPartyCookiePhaseoutIssues();\n  }\n\n  numberOfHiddenIssues(kind?: IssueKind): number {\n    if (kind) {\n      return this.#hiddenIssueCount.get(kind) ?? 0;\n    }\n    let count = 0;\n    for (const num of this.#hiddenIssueCount.values()) {\n      count += num;\n    }\n    return count;\n  }\n\n  numberOfThirdPartyCookiePhaseoutIssues(kind?: IssueKind): number {\n    if (kind) {\n      return this.#thirdPartyCookiePhaseoutIssueCount.get(kind) ?? 0;\n    }\n    let count = 0;\n    for (const num of this.#thirdPartyCookiePhaseoutIssueCount.values()) {\n      count += num;\n    }\n    return count;\n  }\n\n  numberOfAllStoredIssues(): number {\n    return this.#allIssues.size;\n  }\n\n  #issueFilter(issue: Issue): boolean {\n    const scopeTarget = SDK.TargetManager.TargetManager.instance().scopeTarget();\n    if (!scopeTarget) {\n      return false;\n    }\n    if (!this.#issuesByOutermostTarget.get(scopeTarget)?.has(issue)) {\n      return false;\n    }\n    return this.showThirdPartyIssuesSetting?.get() || !issue.isCausedByThirdParty();\n  }\n\n  #updateIssueHiddenStatus(issue: Issue, values: HideIssueMenuSetting|undefined): void {\n    const code = issue.code();\n    // All issues are hidden via their code.\n    // For hiding we check whether the issue code is present and has a value of IssueStatus.Hidden\n    // assosciated with it. If all these conditions are met the issue is hidden.\n    // IssueStatus is set in hidden issues menu.\n    // In case a user wants to hide a specific issue, the issue code is added to \"code\" section\n    // of our setting and its value is set to IssueStatus.Hidden. Then issue then gets hidden.\n    if (values?.[code]) {\n      if (values[code] === IssueStatus.HIDDEN) {\n        issue.setHidden(true);\n        return;\n      }\n      issue.setHidden(false);\n      return;\n    }\n  }\n\n  #updateFilteredIssues(): void {\n    this.#filteredIssues.clear();\n    this.#issueCounts.clear();\n    this.#issuesById.clear();\n    this.#hiddenIssueCount.clear();\n    this.#thirdPartyCookiePhaseoutIssueCount.clear();\n    this.#thirdPartyCookiePhaseoutIssueMessageSent = false;\n    const values = this.hideIssueSetting?.get();\n    for (const [key, issue] of this.#allIssues) {\n      if (this.#issueFilter(issue)) {\n        this.#updateIssueHiddenStatus(issue, values);\n        this.#filteredIssues.set(key, issue);\n        this.#issueCounts.set(issue.getKind(), 1 + (this.#issueCounts.get(issue.getKind()) ?? 0));\n        if (issue.isHidden()) {\n          this.#hiddenIssueCount.set(issue.getKind(), 1 + (this.#hiddenIssueCount.get(issue.getKind()) || 0));\n        }\n        const issueId = issue.getIssueId();\n        if (issueId) {\n          this.#issuesById.set(issueId, issue);\n        }\n      }\n    }\n    this.dispatchEventToListeners(Events.FULL_UPDATE_REQUIRED);\n    this.dispatchEventToListeners(Events.ISSUES_COUNT_UPDATED);\n  }\n\n  unhideAllIssues(): void {\n    for (const issue of this.#allIssues.values()) {\n      issue.setHidden(false);\n    }\n    this.hideIssueSetting?.set(defaultHideIssueByCodeSetting());\n  }\n\n  getIssueById(id: string): Issue|undefined {\n    return this.#issuesById.get(id);\n  }\n}\n\nexport interface IssueAddedEvent {\n  issuesModel: SDK.IssuesModel.IssuesModel;\n  issue: Issue;\n}\n\nexport interface EventTypes {\n  [Events.ISSUES_COUNT_UPDATED]: void;\n  [Events.FULL_UPDATE_REQUIRED]: void;\n  [Events.ISSUE_ADDED]: IssueAddedEvent;\n}\n\n// @ts-expect-error\nglobalThis.addIssueForTest = (issue: Protocol.Audits.InspectorIssue) => {\n  const mainTarget = SDK.TargetManager.TargetManager.instance().primaryPageTarget();\n  const issuesModel = mainTarget?.model(SDK.IssuesModel.IssuesModel);\n  issuesModel?.issueAdded({issue});\n};\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Bounce Tracking Mitigation explainer url link.\n   */\n  bounceTrackingMitigations: 'Bounce tracking mitigations',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/BounceTrackingIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class BounceTrackingIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.BounceTrackingIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.BounceTrackingIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(Protocol.Audits.InspectorIssueCode.BounceTrackingIssue, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'bounceTrackingMitigations.md',\n      links: [\n        {\n          link: 'https://privacycg.github.io/nav-tracking-mitigations/#bounce-tracking-mitigations',\n          linkTitle: i18nString(UIStrings.bounceTrackingMitigations),\n        },\n      ],\n    };\n  }\n\n  details(): Protocol.Audits.BounceTrackingIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  override trackingSites(): Iterable<string> {\n    if (this.#issueDetails.trackingSites) {\n      return this.#issueDetails.trackingSites;\n    }\n    return [];\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      BounceTrackingIssue[] {\n    const details = inspectorIssue.details.bounceTrackingIssueDetails;\n    if (!details) {\n      console.warn('Bounce tracking issue without details received.');\n      return [];\n    }\n    return [new BounceTrackingIssue(details, issuesModel)];\n  }\n}\n", "// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Client Hint specification url link\n   */\n  fedCm: 'Federated Credential Management API',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/FederatedAuthRequestIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class FederatedAuthRequestIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.FederatedAuthRequestIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.FederatedAuthRequestIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: Protocol.Audits.InspectorIssueCode.FederatedAuthRequestIssue,\n          umaCode: [\n            Protocol.Audits.InspectorIssueCode.FederatedAuthRequestIssue,\n            issueDetails.federatedAuthRequestIssueReason,\n          ].join('::'),\n        },\n        issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.FederatedAuthRequestIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.#issueDetails.federatedAuthRequestIssueReason);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      FederatedAuthRequestIssue[] {\n    const details = inspectorIssue.details.federatedAuthRequestIssueDetails;\n    if (!details) {\n      console.warn('Federated auth request issue without details received.');\n      return [];\n    }\n    return [new FederatedAuthRequestIssue(details, issuesModel)];\n  }\n}\n\nconst issueDescriptions = new Map<Protocol.Audits.FederatedAuthRequestIssueReason, LazyMarkdownIssueDescription>([\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.TooManyRequests,\n    {\n      file: 'federatedAuthRequestTooManyRequests.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ConfigHttpNotFound,\n    {\n      file: 'federatedAuthRequestManifestHttpNotFound.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ConfigNoResponse,\n    {\n      file: 'federatedAuthRequestManifestNoResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ConfigInvalidResponse,\n    {\n      file: 'federatedAuthRequestManifestInvalidResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ClientMetadataHttpNotFound,\n    {\n      file: 'federatedAuthRequestClientMetadataHttpNotFound.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ClientMetadataNoResponse,\n    {\n      file: 'federatedAuthRequestClientMetadataNoResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ClientMetadataInvalidResponse,\n    {\n      file: 'federatedAuthRequestClientMetadataInvalidResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ErrorFetchingSignin,\n    {\n      file: 'federatedAuthRequestErrorFetchingSignin.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.InvalidSigninResponse,\n    {\n      file: 'federatedAuthRequestInvalidSigninResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.AccountsHttpNotFound,\n    {\n      file: 'federatedAuthRequestAccountsHttpNotFound.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.AccountsNoResponse,\n    {\n      file: 'federatedAuthRequestAccountsNoResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.AccountsInvalidResponse,\n    {\n      file: 'federatedAuthRequestAccountsInvalidResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.IdTokenHttpNotFound,\n    {\n      file: 'federatedAuthRequestIdTokenHttpNotFound.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.IdTokenNoResponse,\n    {\n      file: 'federatedAuthRequestIdTokenNoResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.IdTokenInvalidResponse,\n    {\n      file: 'federatedAuthRequestIdTokenInvalidResponse.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.IdTokenInvalidRequest,\n    {\n      file: 'federatedAuthRequestIdTokenInvalidRequest.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.ErrorIdToken,\n    {\n      file: 'federatedAuthRequestErrorIdToken.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n  [\n    Protocol.Audits.FederatedAuthRequestIssueReason.Canceled,\n    {\n      file: 'federatedAuthRequestCanceled.md',\n      links: [{\n        link: 'https://fedidcg.github.io/FedCM/',\n        linkTitle: i18nLazyString(UIStrings.fedCm),\n      }],\n    },\n  ],\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Link title for the Low Text Contrast issue in the Issues panel\n   */\n  colorAndContrastAccessibility: 'Color and contrast accessibility',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/LowTextContrastIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class LowTextContrastIssue extends Issue {\n  #issueDetails: Protocol.Audits.LowTextContrastIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.LowTextContrastIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super('LowTextContrastIssue', issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  primaryKey(): string {\n    // We intend to keep only one issue per element so other issues for the element will be discarded even\n    // if the issue content is slightly different.\n    return `${this.code()}-(${this.#issueDetails.violatingNodeId})`;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.LOW_TEXT_CONTRAST;\n  }\n\n  details(): Protocol.Audits.LowTextContrastIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'LowTextContrast.md',\n      links: [\n        {\n          link: 'https://web.dev/color-and-contrast-accessibility/',\n          linkTitle: i18nString(UIStrings.colorAndContrastAccessibility),\n        },\n      ],\n    };\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.IMPROVEMENT;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      LowTextContrastIssue[] {\n    const lowTextContrastIssueDetails = inspectorIssue.details.lowTextContrastIssueDetails;\n    if (!lowTextContrastIssueDetails) {\n      console.warn('LowTextContrast issue without details received.');\n      return [];\n    }\n    return [new LowTextContrastIssue(lowTextContrastIssueDetails, issuesModel)];\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Label for the link for Mixed Content Issues\n   */\n  preventingMixedContent: 'Preventing mixed content',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/MixedContentIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class MixedContentIssue extends Issue {\n  #issueDetails: Protocol.Audits.MixedContentIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.MixedContentIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(Protocol.Audits.InspectorIssueCode.MixedContentIssue, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    if (this.#issueDetails.request) {\n      return [this.#issueDetails.request];\n    }\n    return [];\n  }\n\n  getDetails(): Protocol.Audits.MixedContentIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.MIXED_CONTENT;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'mixedContent.md',\n      links:\n          [{link: 'https://web.dev/what-is-mixed-content/', linkTitle: i18nString(UIStrings.preventingMixedContent)}],\n    };\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    switch (this.#issueDetails.resolutionStatus) {\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentAutomaticallyUpgraded:\n        return IssueKind.IMPROVEMENT;\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentBlocked:\n        return IssueKind.PAGE_ERROR;\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentWarning:\n        return IssueKind.IMPROVEMENT;\n    }\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      MixedContentIssue[] {\n    const mixedContentDetails = inspectorIssue.details.mixedContentIssueDetails;\n    if (!mixedContentDetails) {\n      console.warn('Mixed content issue without details received.');\n      return [];\n    }\n    return [new MixedContentIssue(mixedContentDetails, issuesModel)];\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Partitioning BlobURL explainer url link.\n   */\n  partitioningBlobURL: 'Partitioning BlobURL',\n  /**\n   * @description Title for Chrome Status Entry url link.\n   */\n  chromeStatusEntry: 'Chrome Status Entry'\n} as const;\n\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/PartitioningBlobURLIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class PartitioningBlobURLIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.PartitioningBlobURLIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.PartitioningBlobURLIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(Protocol.Audits.InspectorIssueCode.PartitioningBlobURLIssue, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    const fileName = this.#issueDetails.partitioningBlobURLInfo ===\n            Protocol.Audits.PartitioningBlobURLInfo.BlockedCrossPartitionFetching ?\n        'fetchingPartitionedBlobURL.md' :\n        'navigatingPartitionedBlobURL.md';\n    return {\n      file: fileName,\n      links: [\n        {\n          link: 'https://developers.google.com/privacy-sandbox/cookies/storage-partitioning',\n          linkTitle: i18nString(UIStrings.partitioningBlobURL),\n        },\n        {\n          link: 'https://chromestatus.com/feature/5130361898795008',\n          linkTitle: i18nString(UIStrings.chromeStatusEntry),\n        },\n      ],\n    };\n  }\n\n  details(): Protocol.Audits.PartitioningBlobURLIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.BREAKING_CHANGE;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      PartitioningBlobURLIssue[] {\n    const details = inspectorIssue.details.partitioningBlobURLIssueDetails;\n    if (!details) {\n      console.warn('Partitioning BlobURL issue without details received.');\n      return [];\n    }\n    return [new PartitioningBlobURLIssue(details, issuesModel)];\n  }\n}\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nexport class PropertyRuleIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.PropertyRuleIssueDetails;\n  readonly #primaryKey: string;\n  constructor(issueDetails: Protocol.Audits.PropertyRuleIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const code = JSON.stringify(issueDetails);\n    super(code, issuesModel);\n    this.#primaryKey = code;\n    this.#issueDetails = issueDetails;\n  }\n\n  override sources(): Protocol.Audits.SourceCodeLocation[] {\n    return [this.#issueDetails.sourceCodeLocation];\n  }\n\n  details(): Protocol.Audits.PropertyRuleIssueDetails {\n    return this.#issueDetails;\n  }\n\n  primaryKey(): string {\n    return this.#primaryKey;\n  }\n\n  getPropertyName(): string {\n    switch (this.#issueDetails.propertyRuleIssueReason) {\n      case Protocol.Audits.PropertyRuleIssueReason.InvalidInherits:\n        return 'inherits';\n      case Protocol.Audits.PropertyRuleIssueReason.InvalidInitialValue:\n        return 'initial-value';\n      case Protocol.Audits.PropertyRuleIssueReason.InvalidSyntax:\n        return 'syntax';\n    }\n    return '';\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    if (this.#issueDetails.propertyRuleIssueReason === Protocol.Audits.PropertyRuleIssueReason.InvalidName) {\n      return {\n        file: 'propertyRuleInvalidNameIssue.md',\n        links: [],\n      };\n    }\n    const value = this.#issueDetails.propertyValue ? `: ${this.#issueDetails.propertyValue}` : '';\n    const property = `${this.getPropertyName()}${value}`;\n    return {\n      file: 'propertyRuleIssue.md',\n      substitutions: new Map([['PLACEHOLDER_property', property]]),\n      links: [],\n    };\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issueModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      PropertyRuleIssue[] {\n    const propertyRuleIssueDetails = inspectorIssue.details.propertyRuleIssueDetails;\n    if (!propertyRuleIssueDetails) {\n      console.warn('Property rule issue without details received');\n      return [];\n    }\n    return [new PropertyRuleIssue(propertyRuleIssueDetails, issueModel)];\n  }\n}\n", "// Copyright 2021 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Link title for the Quirks Mode issue in the Issues panel\n   */\n  documentCompatibilityMode: 'Document compatibility mode',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/QuirksModeIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class QuirksModeIssue extends Issue {\n  #issueDetails: Protocol.Audits.QuirksModeIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.QuirksModeIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const mode = issueDetails.isLimitedQuirksMode ? 'LimitedQuirksMode' : 'QuirksMode';\n    const umaCode = [Protocol.Audits.InspectorIssueCode.QuirksModeIssue, mode].join('::');\n    super({code: Protocol.Audits.InspectorIssueCode.QuirksModeIssue, umaCode}, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  primaryKey(): string {\n    return `${this.code()}-(${this.#issueDetails.documentNodeId})-(${this.#issueDetails.url})`;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.QUIRKS_MODE;\n  }\n\n  details(): Protocol.Audits.QuirksModeIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'CompatibilityModeQuirks.md',\n      links: [\n        {\n          link: 'https://web.dev/doctype/',\n          linkTitle: i18nString(UIStrings.documentCompatibilityMode),\n        },\n      ],\n    };\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.IMPROVEMENT;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      QuirksModeIssue[] {\n    const quirksModeIssueDetails = inspectorIssue.details.quirksModeIssueDetails;\n    if (!quirksModeIssueDetails) {\n      console.warn('Quirks Mode issue without details received.');\n      return [];\n    }\n    return [new QuirksModeIssue(quirksModeIssueDetails, issuesModel)];\n  }\n}\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Label for the link for SharedArrayBuffer Issues. The full text reads \"Enabling `SharedArrayBuffer`\"\n   * and is the title of an article that describes how to enable a JavaScript feature called SharedArrayBuffer.\n   */\n  enablingSharedArrayBuffer: 'Enabling `SharedArrayBuffer`',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/SharedArrayBufferIssue.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class SharedArrayBufferIssue extends Issue {\n  #issueDetails: Protocol.Audits.SharedArrayBufferIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.SharedArrayBufferIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const umaCode = [Protocol.Audits.InspectorIssueCode.SharedArrayBufferIssue, issueDetails.type].join('::');\n    super({code: Protocol.Audits.InspectorIssueCode.SharedArrayBufferIssue, umaCode}, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.SharedArrayBufferIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    return {\n      file: 'sharedArrayBuffer.md',\n      links: [{\n        link: 'https://developer.chrome.com/blog/enabling-shared-array-buffer/',\n        linkTitle: i18nString(UIStrings.enablingSharedArrayBuffer),\n      }],\n    };\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    if (this.#issueDetails.isWarning) {\n      return IssueKind.BREAKING_CHANGE;\n    }\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      SharedArrayBufferIssue[] {\n    const sabIssueDetails = inspectorIssue.details.sharedArrayBufferIssueDetails;\n    if (!sabIssueDetails) {\n      console.warn('SAB transfer issue without details received.');\n      return [];\n    }\n    return [new SharedArrayBufferIssue(sabIssueDetails, issuesModel)];\n  }\n}\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for Compression Dictionary Transport specification url link\n   */\n  compressionDictionaryTransport: 'Compression Dictionary Transport',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/SharedDictionaryIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport const enum IssueCode {\n  USE_ERROR_CROSS_ORIGIN_NO_CORS_REQUEST = 'SharedDictionaryIssue::UseErrorCrossOriginNoCorsRequest',\n  USE_ERROR_DICTIONARY_LOAD_FAILURE = 'SharedDictionaryIssue::UseErrorDictionaryLoadFailure',\n  USE_ERROR_MATCHING_DICTIONARY_NOT_USED = 'SharedDictionaryIssue::UseErrorMatchingDictionaryNotUsed',\n  USE_ERROR_UNEXPECTED_CONTENT_DICTIONARY_HEADER = 'SharedDictionaryIssue::UseErrorUnexpectedContentDictionaryHeader',\n  WRITE_ERROR_CROSS_ORIGIN_NO_CORS_REQUEST = 'SharedDictionaryIssue::WriteErrorCossOriginNoCorsRequest',\n  WRITE_ERROR_DISALLOWED_BY_SETTINGS = 'SharedDictionaryIssue::WriteErrorDisallowedBySettings',\n  WRITE_ERROR_EXPIRED_RESPONSE = 'SharedDictionaryIssue::WriteErrorExpiredResponse',\n  WRITE_ERROR_FEATURE_DISABLED = 'SharedDictionaryIssue::WriteErrorFeatureDisabled',\n  WRITE_ERROR_INSUFFICIENT_RESOURCES = 'SharedDictionaryIssue::WriteErrorInsufficientResources',\n  WRITE_ERROR_INVALID_MATCH_FIELD = 'SharedDictionaryIssue::WriteErrorInvalidMatchField',\n  WRITE_ERROR_INVALID_STRUCTURED_HEADER = 'SharedDictionaryIssue::WriteErrorInvalidStructuredHeader',\n  WRITE_ERROR_NAVIGATION_REQUEST = 'SharedDictionaryIssue::WriteErrorNavigationRequest',\n  WRITE_ERROR_NO_MATCH_FIELD = 'SharedDictionaryIssue::WriteErrorNoMatchField',\n  WRITE_ERROR_NON_LIST_MATCH_DEST_FIELD = 'SharedDictionaryIssue::WriteErrorNonListMatchDestField',\n  WRITE_ERROR_NON_SECURE_CONTEXT = 'SharedDictionaryIssue::WriteErrorNonSecureContext',\n  WRITE_ERROR_NON_STRING_ID_FIELD = 'SharedDictionaryIssue::WriteErrorNonStringIdField',\n  WRITE_ERROR_NON_STRING_IN_MATCH_DEST_LIST = 'SharedDictionaryIssue::WriteErrorNonStringInMatchDestList',\n  WRITE_ERROR_NON_STRING_MATCH_FIELD = 'SharedDictionaryIssue::WriteErrorNonStringMatchField',\n  WRITE_ERROR_NON_TOKEN_TYPE_FIELD = 'SharedDictionaryIssue::WriteErrorNonTokenTypeField',\n  WRITE_ERROR_REQUEST_ABORTED = 'SharedDictionaryIssue::WriteErrorRequestAborted',\n  WRITE_ERROR_SHUTTING_DOWN = 'SharedDictionaryIssue::WriteErrorShuttingDown',\n  WRITE_ERROR_TOO_LONG_ID_FIELD = 'SharedDictionaryIssue::WriteErrorTooLongIdField',\n  WRITE_ERROR_UNSUPPORTED_TYPE = 'SharedDictionaryIssue::WriteErrorUnsupportedType',\n  UNKNOWN = 'SharedDictionaryIssue::WriteErrorUnknown',\n}\n\nfunction getIssueCode(details: Protocol.Audits.SharedDictionaryIssueDetails): IssueCode {\n  switch (details.sharedDictionaryError) {\n    case Protocol.Audits.SharedDictionaryError.UseErrorCrossOriginNoCorsRequest:\n      return IssueCode.USE_ERROR_CROSS_ORIGIN_NO_CORS_REQUEST;\n    case Protocol.Audits.SharedDictionaryError.UseErrorDictionaryLoadFailure:\n      return IssueCode.USE_ERROR_DICTIONARY_LOAD_FAILURE;\n    case Protocol.Audits.SharedDictionaryError.UseErrorMatchingDictionaryNotUsed:\n      return IssueCode.USE_ERROR_MATCHING_DICTIONARY_NOT_USED;\n    case Protocol.Audits.SharedDictionaryError.UseErrorUnexpectedContentDictionaryHeader:\n      return IssueCode.USE_ERROR_UNEXPECTED_CONTENT_DICTIONARY_HEADER;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorCossOriginNoCorsRequest:\n      return IssueCode.WRITE_ERROR_CROSS_ORIGIN_NO_CORS_REQUEST;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorDisallowedBySettings:\n      return IssueCode.WRITE_ERROR_DISALLOWED_BY_SETTINGS;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorExpiredResponse:\n      return IssueCode.WRITE_ERROR_EXPIRED_RESPONSE;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorFeatureDisabled:\n      return IssueCode.WRITE_ERROR_FEATURE_DISABLED;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorInsufficientResources:\n      return IssueCode.WRITE_ERROR_INSUFFICIENT_RESOURCES;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorInvalidMatchField:\n      return IssueCode.WRITE_ERROR_INVALID_MATCH_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorInvalidStructuredHeader:\n      return IssueCode.WRITE_ERROR_INVALID_STRUCTURED_HEADER;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNavigationRequest:\n      return IssueCode.WRITE_ERROR_NAVIGATION_REQUEST;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNoMatchField:\n      return IssueCode.WRITE_ERROR_NO_MATCH_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonListMatchDestField:\n      return IssueCode.WRITE_ERROR_NON_LIST_MATCH_DEST_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonSecureContext:\n      return IssueCode.WRITE_ERROR_NON_SECURE_CONTEXT;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonStringIdField:\n      return IssueCode.WRITE_ERROR_NON_STRING_ID_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonStringInMatchDestList:\n      return IssueCode.WRITE_ERROR_NON_STRING_IN_MATCH_DEST_LIST;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonStringMatchField:\n      return IssueCode.WRITE_ERROR_NON_STRING_MATCH_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorNonTokenTypeField:\n      return IssueCode.WRITE_ERROR_NON_TOKEN_TYPE_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorRequestAborted:\n      return IssueCode.WRITE_ERROR_REQUEST_ABORTED;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorShuttingDown:\n      return IssueCode.WRITE_ERROR_SHUTTING_DOWN;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorTooLongIdField:\n      return IssueCode.WRITE_ERROR_TOO_LONG_ID_FIELD;\n    case Protocol.Audits.SharedDictionaryError.WriteErrorUnsupportedType:\n      return IssueCode.WRITE_ERROR_UNSUPPORTED_TYPE;\n    default:\n      return IssueCode.UNKNOWN;\n  }\n}\n\nexport class SharedDictionaryIssue extends Issue {\n  readonly #issueDetails: Protocol.Audits.SharedDictionaryIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.SharedDictionaryIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: getIssueCode(issueDetails),\n          umaCode: [\n            Protocol.Audits.InspectorIssueCode.SharedDictionaryIssue,\n            issueDetails.sharedDictionaryError,\n          ].join('::'),\n        },\n        issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    if (this.#issueDetails.request) {\n      return [this.#issueDetails.request];\n    }\n    return [];\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  details(): Protocol.Audits.SharedDictionaryIssueDetails {\n    return this.#issueDetails;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.#issueDetails.sharedDictionaryError);\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      SharedDictionaryIssue[] {\n    const details = inspectorIssue.details.sharedDictionaryIssueDetails;\n    if (!details) {\n      console.warn('Shared Dictionary issue without details received.');\n      return [];\n    }\n    return [new SharedDictionaryIssue(details, issuesModel)];\n  }\n}\nconst specLinks = [{\n  link: 'https://datatracker.ietf.org/doc/draft-ietf-httpbis-compression-dictionary/',\n  linkTitle: i18nLazyString(UIStrings.compressionDictionaryTransport),\n}];\n\nconst issueDescriptions = new Map<Protocol.Audits.SharedDictionaryError, LazyMarkdownIssueDescription>([\n\n  [\n    Protocol.Audits.SharedDictionaryError.UseErrorCrossOriginNoCorsRequest,\n    {\n      file: 'sharedDictionaryUseErrorCrossOriginNoCorsRequest.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.UseErrorDictionaryLoadFailure,\n    {\n      file: 'sharedDictionaryUseErrorDictionaryLoadFailure.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.UseErrorMatchingDictionaryNotUsed,\n    {\n      file: 'sharedDictionaryUseErrorMatchingDictionaryNotUsed.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.UseErrorUnexpectedContentDictionaryHeader,\n    {\n      file: 'sharedDictionaryUseErrorUnexpectedContentDictionaryHeader.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorCossOriginNoCorsRequest,\n    {\n      file: 'sharedDictionaryWriteErrorCossOriginNoCorsRequest.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorDisallowedBySettings,\n    {\n      file: 'sharedDictionaryWriteErrorDisallowedBySettings.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorExpiredResponse,\n    {\n      file: 'sharedDictionaryWriteErrorExpiredResponse.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorFeatureDisabled,\n    {\n      file: 'sharedDictionaryWriteErrorFeatureDisabled.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorInsufficientResources,\n    {\n      file: 'sharedDictionaryWriteErrorInsufficientResources.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorInvalidMatchField,\n    {\n      file: 'sharedDictionaryWriteErrorInvalidMatchField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorInvalidStructuredHeader,\n    {\n      file: 'sharedDictionaryWriteErrorInvalidStructuredHeader.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNavigationRequest,\n    {\n      file: 'sharedDictionaryWriteErrorNavigationRequest.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNoMatchField,\n    {\n      file: 'sharedDictionaryWriteErrorNoMatchField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonListMatchDestField,\n    {\n      file: 'sharedDictionaryWriteErrorNonListMatchDestField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonSecureContext,\n    {\n      file: 'sharedDictionaryWriteErrorNonSecureContext.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonStringIdField,\n    {\n      file: 'sharedDictionaryWriteErrorNonStringIdField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonStringInMatchDestList,\n    {\n      file: 'sharedDictionaryWriteErrorNonStringInMatchDestList.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonStringMatchField,\n    {\n      file: 'sharedDictionaryWriteErrorNonStringMatchField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorNonTokenTypeField,\n    {\n      file: 'sharedDictionaryWriteErrorNonTokenTypeField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorRequestAborted,\n    {\n      file: 'sharedDictionaryWriteErrorRequestAborted.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorShuttingDown,\n    {\n      file: 'sharedDictionaryWriteErrorShuttingDown.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorTooLongIdField,\n    {\n      file: 'sharedDictionaryWriteErrorTooLongIdField.md',\n      links: specLinks,\n    },\n  ],\n  [\n    Protocol.Audits.SharedDictionaryError.WriteErrorUnsupportedType,\n    {\n      file: 'sharedDictionaryWriteErrorUnsupportedType.md',\n      links: specLinks,\n    },\n  ],\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\n\nimport {\n  ContentSecurityPolicyIssue,\n  trustedTypesPolicyViolationCode,\n  trustedTypesSinkViolationCode,\n} from './ContentSecurityPolicyIssue.js';\nimport {type Issue, type IssueKind, toZeroBasedLocation} from './Issue.js';\nimport type {IssueAddedEvent, IssuesManager} from './IssuesManager.js';\nimport {Events} from './IssuesManagerEvents.js';\nimport {getIssueTitleFromMarkdownDescription} from './MarkdownIssueDescription.js';\nimport {PropertyRuleIssue} from './PropertyRuleIssue.js';\nimport {lateImportStylesheetLoadingCode, type StylesheetLoadingIssue} from './StylesheetLoadingIssue.js';\n\nexport class SourceFrameIssuesManager {\n  #sourceFrameMessageManager = new Bindings.PresentationConsoleMessageHelper.PresentationSourceFrameMessageManager();\n  constructor(private readonly issuesManager: IssuesManager) {\n    this.issuesManager.addEventListener(Events.ISSUE_ADDED, this.#onIssueAdded, this);\n    this.issuesManager.addEventListener(Events.FULL_UPDATE_REQUIRED, this.#onFullUpdateRequired, this);\n  }\n\n  #onIssueAdded(event: Common.EventTarget.EventTargetEvent<IssueAddedEvent>): void {\n    const {issue} = event.data;\n    void this.#addIssue(issue);\n  }\n\n  async #addIssue(issue: Issue): Promise<void> {\n    if (!this.#isTrustedTypeIssue(issue) && !this.#isLateImportIssue(issue) && !this.#isPropertyRuleIssue(issue)) {\n      return;\n    }\n    const issuesModel = issue.model();\n    if (!issuesModel) {\n      return;\n    }\n    const srcLocation = toZeroBasedLocation(issue.details().sourceCodeLocation);\n    const description = issue.getDescription();\n    if (!description || !srcLocation) {\n      return;\n    }\n    const messageText = await getIssueTitleFromMarkdownDescription(description);\n    if (!messageText) {\n      return;\n    }\n    const clickHandler = (): void => {\n      void Common.Revealer.reveal(issue);\n    };\n    this.#sourceFrameMessageManager.addMessage(\n        new IssueMessage(messageText, issue.getKind(), clickHandler), {\n          line: srcLocation.lineNumber,\n          column: srcLocation.columnNumber ?? -1,\n          url: srcLocation.url,\n          scriptId: srcLocation.scriptId,\n        },\n        issuesModel.target());\n  }\n\n  #onFullUpdateRequired(): void {\n    this.#resetMessages();\n    const issues = this.issuesManager.issues();\n    for (const issue of issues) {\n      void this.#addIssue(issue);\n    }\n  }\n\n  #isTrustedTypeIssue(issue: Issue): issue is ContentSecurityPolicyIssue {\n    return issue instanceof ContentSecurityPolicyIssue && issue.code() === trustedTypesSinkViolationCode ||\n        issue.code() === trustedTypesPolicyViolationCode;\n  }\n\n  #isPropertyRuleIssue(issue: Issue): issue is PropertyRuleIssue {\n    return issue instanceof PropertyRuleIssue;\n  }\n\n  #isLateImportIssue(issue: Issue): issue is StylesheetLoadingIssue {\n    return issue.code() === lateImportStylesheetLoadingCode;\n  }\n\n  #resetMessages(): void {\n    this.#sourceFrameMessageManager.clear();\n  }\n}\n\nexport class IssueMessage extends Workspace.UISourceCode.Message {\n  #kind: IssueKind;\n  constructor(title: string, kind: IssueKind, clickHandler: () => void) {\n    super(Workspace.UISourceCode.Message.Level.ISSUE, title, clickHandler);\n    this.#kind = kind;\n  }\n\n  getIssueKind(): IssueKind {\n    return this.#kind;\n  }\n}\n", "// Copyright 2023 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport type {MarkdownIssueDescription} from './MarkdownIssueDescription.js';\n\nexport const lateImportStylesheetLoadingCode = [\n  Protocol.Audits.InspectorIssueCode.StylesheetLoadingIssue,\n  Protocol.Audits.StyleSheetLoadingIssueReason.LateImportRule,\n].join('::');\n\nexport class StylesheetLoadingIssue extends Issue {\n  #issueDetails: Protocol.Audits.StylesheetLoadingIssueDetails;\n  constructor(issueDetails: Protocol.Audits.StylesheetLoadingIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    const code =\n        `${Protocol.Audits.InspectorIssueCode.StylesheetLoadingIssue}::${issueDetails.styleSheetLoadingIssueReason}`;\n    super(code, issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  override sources(): Protocol.Audits.SourceCodeLocation[] {\n    return [this.#issueDetails.sourceCodeLocation];\n  }\n  override requests(): Protocol.Audits.AffectedRequest[] {\n    if (!this.#issueDetails.failedRequestInfo) {\n      return [];\n    }\n    const {url, requestId} = this.#issueDetails.failedRequestInfo;\n    if (!requestId) {\n      return [];\n    }\n    return [{url, requestId}];\n  }\n\n  details(): Protocol.Audits.StylesheetLoadingIssueDetails {\n    return this.#issueDetails;\n  }\n\n  primaryKey(): string {\n    return JSON.stringify(this.#issueDetails);\n  }\n\n  getDescription(): MarkdownIssueDescription {\n    switch (this.#issueDetails.styleSheetLoadingIssueReason) {\n      case Protocol.Audits.StyleSheetLoadingIssueReason.LateImportRule:\n        return {\n          file: 'stylesheetLateImport.md',\n          links: [],\n        };\n      case Protocol.Audits.StyleSheetLoadingIssueReason.RequestFailed:\n        return {\n          file: 'stylesheetRequestFailed.md',\n          links: [],\n        };\n    }\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  static fromInspectorIssue(issueModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      StylesheetLoadingIssue[] {\n    const stylesheetLoadingDetails = inspectorIssue.details.stylesheetLoadingIssueDetails;\n    if (!stylesheetLoadingDetails) {\n      console.warn('Stylesheet loading issue without details received');\n      return [];\n    }\n    return [new StylesheetLoadingIssue(stylesheetLoadingDetails, issueModel)];\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   * @description Title for HTTP Message Signatures specification url\n   */\n  httpMessageSignatures: 'HTTP Message Signatures (RFC9421)',\n  /**\n   * @description Title for Signature-based Integrity specification url\n   */\n  signatureBasedIntegrity: 'Signature-based Integrity',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/SRIMessageSignatureIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nfunction generateGroupingIssueCode(details: Protocol.Audits.SRIMessageSignatureIssueDetails): string {\n  const issueCode = `${Protocol.Audits.InspectorIssueCode.SRIMessageSignatureIssue}::${details.error}`;\n  if (details.error === Protocol.Audits.SRIMessageSignatureError.ValidationFailedSignatureMismatch) {\n    // Signature mismatch errors should be grouped by \"signature base\".\n    return issueCode + details.signatureBase;\n  }\n  if (details.error === Protocol.Audits.SRIMessageSignatureError.ValidationFailedIntegrityMismatch) {\n    // Integrity mismatch errors should be grouped by integrity assertion.\n    return issueCode + details.integrityAssertions.join();\n  }\n\n  // Otherwise, simply group by issue type:\n  return issueCode;\n}\n\nexport class SRIMessageSignatureIssue extends Issue<string> {\n  readonly #issueDetails: Protocol.Audits.SRIMessageSignatureIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.SRIMessageSignatureIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: generateGroupingIssueCode(issueDetails),\n          umaCode: `${Protocol.Audits.InspectorIssueCode.SRIMessageSignatureIssue}::${issueDetails.error}`,\n        },\n        issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  details(): Protocol.Audits.SRIMessageSignatureIssueDetails {\n    return this.#issueDetails;\n  }\n\n  // Overriding `Issue<String>`:\n  override primaryKey(): string {\n    return JSON.stringify(this.details());\n  }\n\n  override getDescription(): MarkdownIssueDescription|null {\n    const description: LazyMarkdownIssueDescription = {\n      file: `sri${this.details().error}.md`,\n      links: [\n        {\n          link: 'https://www.rfc-editor.org/rfc/rfc9421.html',\n          linkTitle: i18nLazyString(UIStrings.httpMessageSignatures),\n        },\n        {\n          link: 'https://wicg.github.io/signature-based-sri/',\n          linkTitle: i18nLazyString(UIStrings.signatureBasedIntegrity),\n        }\n      ],\n      substitutions: new Map()\n    };\n    if (this.#issueDetails.error === Protocol.Audits.SRIMessageSignatureError.ValidationFailedSignatureMismatch) {\n      description.substitutions?.set('PLACEHOLDER_signatureBase', () => this.#issueDetails.signatureBase);\n    }\n    if (this.#issueDetails.error === Protocol.Audits.SRIMessageSignatureError.ValidationFailedIntegrityMismatch) {\n      description.substitutions?.set('PLACEHOLDER_integrityAssertions', () => {\n        const prefix = '\\n* ';\n        return prefix + this.details().integrityAssertions.join(prefix);\n      });\n    }\n    return resolveLazyDescription(description);\n  }\n\n  override getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  override getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    return this.details().request ? [this.details().request] : [];\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      SRIMessageSignatureIssue[] {\n    const details = inspectorIssue.details.sriMessageSignatureIssueDetails;\n    if (!details) {\n      console.warn('SRI Message Signature issue without details received.');\n      return [];\n    }\n    return [new SRIMessageSignatureIssue(details, issuesModel)];\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nconst UIStrings = {\n  /**\n   *@description Title for HTTP Unencoded Digest specification url\n   */\n  unencodedDigestHeader: 'HTTP Unencoded Digest specification',\n  /**\n   *@description Title for the URL of the integration of unencoded-digest and SRI.\n   */\n  integrityIntegration: 'Server-Initiated Integrity Checks',\n} as const;\nconst str_ = i18n.i18n.registerUIStrings('models/issues_manager/UnencodedDigestIssue.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class UnencodedDigestIssue extends Issue<string> {\n  readonly #issueDetails: Protocol.Audits.UnencodedDigestIssueDetails;\n\n  constructor(issueDetails: Protocol.Audits.UnencodedDigestIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super(\n        {\n          code: `${Protocol.Audits.InspectorIssueCode.UnencodedDigestIssue}::${issueDetails.error}`,\n          umaCode: `${Protocol.Audits.InspectorIssueCode.UnencodedDigestIssue}::${issueDetails.error}`,\n        },\n        issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  details(): Protocol.Audits.UnencodedDigestIssueDetails {\n    return this.#issueDetails;\n  }\n\n  override primaryKey(): string {\n    return JSON.stringify(this.details());\n  }\n\n  override getDescription(): MarkdownIssueDescription|null {\n    const description: LazyMarkdownIssueDescription = {\n      file: `unencodedDigest${this.details().error}.md`,\n      links: [\n        {\n          link: 'https://www.ietf.org/archive/id/draft-ietf-httpbis-unencoded-digest-01.html',\n          linkTitle: i18nLazyString(UIStrings.unencodedDigestHeader),\n        },\n        {\n          link: 'https://wicg.github.io/signature-based-sri/#unencoded-digest-validation',\n          linkTitle: i18nLazyString(UIStrings.integrityIntegration),\n        },\n      ],\n    };\n    return resolveLazyDescription(description);\n  }\n\n  override getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  override getKind(): IssueKind {\n    return IssueKind.PAGE_ERROR;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    return this.details().request ? [this.details().request] : [];\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      UnencodedDigestIssue[] {\n    const details = inspectorIssue.details.unencodedDigestIssueDetails;\n    if (!details) {\n      console.warn('Unencoded-Digest issue without details received.');\n      return [];\n    }\n    return [new UnencodedDigestIssue(details, issuesModel)];\n  }\n}\n", "// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport {Issue, IssueCategory, IssueKind} from './Issue.js';\nimport {\n  type LazyMarkdownIssueDescription,\n  type MarkdownIssueDescription,\n  resolveLazyDescription,\n} from './MarkdownIssueDescription.js';\n\nexport class UserReidentificationIssue extends Issue {\n  #issueDetails: Protocol.Audits.UserReidentificationIssueDetails;\n\n  constructor(\n      issueDetails: Protocol.Audits.UserReidentificationIssueDetails, issuesModel: SDK.IssuesModel.IssuesModel) {\n    super('UserReidentificationIssue', issuesModel);\n    this.#issueDetails = issueDetails;\n  }\n\n  primaryKey(): string {\n    const requestId = this.#issueDetails.request ? this.#issueDetails.request.requestId : 'no-request';\n    return `${this.code()}-(${requestId})`;\n  }\n\n  override requests(): Iterable<Protocol.Audits.AffectedRequest> {\n    return this.#issueDetails.request ? [this.#issueDetails.request] : [];\n  }\n\n  getCategory(): IssueCategory {\n    return IssueCategory.OTHER;\n  }\n\n  getDescription(): MarkdownIssueDescription|null {\n    const description = issueDescriptions.get(this.code());\n    if (!description) {\n      return null;\n    }\n    return resolveLazyDescription(description);\n  }\n\n  getKind(): IssueKind {\n    return IssueKind.IMPROVEMENT;\n  }\n\n  static fromInspectorIssue(issuesModel: SDK.IssuesModel.IssuesModel, inspectorIssue: Protocol.Audits.InspectorIssue):\n      UserReidentificationIssue[] {\n    const userReidentificationIssueDetails = inspectorIssue.details.userReidentificationIssueDetails;\n    if (!userReidentificationIssueDetails) {\n      console.warn('User Reidentification issue without details received.');\n      return [];\n    }\n    return [new UserReidentificationIssue(userReidentificationIssueDetails, issuesModel)];\n  }\n}\n\n// Add new issue types to this map (with a unique code per type).\nconst issueDescriptions = new Map<string, LazyMarkdownIssueDescription>([\n  [\n    'UserReidentificationIssue',\n    {\n      file: 'userReidentificationBlocked.md',\n      // TODO(https://g-issues.chromium.org/issues/409596758): Add\n      // internationalized learn more link text.\n      links: [],\n    },\n  ],\n]);\n", "// Copyright 2020 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\n\nimport {CookieIssue, CookieIssueSubCategory} from './CookieIssue.js';\nimport type {Issue, IssueCategory} from './Issue.js';\nimport {IssuesManager} from './IssuesManager.js';\n\nexport type IssuesAssociatable = Readonly<SDK.NetworkRequest.NetworkRequest>|SDK.Cookie.Cookie|string;\n\nfunction issuesAssociatedWithNetworkRequest(issues: Issue[], request: SDK.NetworkRequest.NetworkRequest): Issue[] {\n  return issues.filter(issue => {\n    for (const affectedRequest of issue.requests()) {\n      if (affectedRequest.requestId === request.requestId()) {\n        return true;\n      }\n    }\n    return false;\n  });\n}\n\nfunction issuesAssociatedWithCookie(issues: Issue[], domain: string, name: string, path: string): Issue[] {\n  return issues.filter(issue => {\n    for (const cookie of issue.cookies()) {\n      if (cookie.domain === domain && cookie.name === name && cookie.path === path) {\n        return true;\n      }\n    }\n    return false;\n  });\n}\n\n/**\n * @throws In case obj has an unsupported type (i.e. not part of the IssuesAssociatble union).\n */\nexport function issuesAssociatedWith(issues: Issue[], obj: IssuesAssociatable): Issue[] {\n  if (obj instanceof SDK.NetworkRequest.NetworkRequest) {\n    return issuesAssociatedWithNetworkRequest(issues, obj);\n  }\n  if (obj instanceof SDK.Cookie.Cookie) {\n    return issuesAssociatedWithCookie(issues, obj.domain(), obj.name(), obj.path());\n  }\n  throw new Error(`issues can not be associated with ${JSON.stringify(obj)}`);\n}\n\nexport function hasIssues(obj: IssuesAssociatable): boolean {\n  const issues = Array.from(IssuesManager.instance().issues());\n  return issuesAssociatedWith(issues, obj).length > 0;\n}\n\nexport function hasIssueOfCategory(obj: IssuesAssociatable, category: IssueCategory): boolean {\n  const issues = Array.from(IssuesManager.instance().issues());\n  return issuesAssociatedWith(issues, obj).some(issue => issue.getCategory() === category);\n}\n\nexport function hasThirdPartyPhaseoutCookieIssue(obj: IssuesAssociatable): boolean {\n  const issues = Array.from(IssuesManager.instance().issues());\n  return issuesAssociatedWith(issues, obj)\n      .some(issue => CookieIssue.getSubCategory(issue.code()) === CookieIssueSubCategory.THIRD_PARTY_PHASEOUT_COOKIE);\n}\n\nexport function hasThirdPartyPhaseoutCookieIssueForDomain(domain: string): boolean {\n  const issues = Array.from(IssuesManager.instance().issues());\n  const issuesForDomain = issues.filter(issue => Array.from(issue.cookies()).some(cookie => cookie.domain === domain));\n  return issuesForDomain.some(\n      issue => CookieIssue.getSubCategory(issue.code()) === CookieIssueSubCategory.THIRD_PARTY_PHASEOUT_COOKIE);\n}\n\nexport async function reveal(obj: IssuesAssociatable, category?: IssueCategory): Promise<void|undefined> {\n  if (typeof obj === 'string') {\n    const issue = IssuesManager.instance().getIssueById(obj);\n    if (issue) {\n      return await Common.Revealer.reveal(issue);\n    }\n  }\n  const issues = Array.from(IssuesManager.instance().issues());\n  const candidates = issuesAssociatedWith(issues, obj).filter(issue => !category || issue.getCategory() === category);\n  if (candidates.length > 0) {\n    return await Common.Revealer.reveal(candidates[0]);\n  }\n}\n"],
  "mappings": "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",
  "names": ["i18n", "UIStrings", "str_", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "Common", "SDK", "i18n", "UIStrings", "str_", "i18nString", "Common", "i18n", "SDK", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "str_", "i18nString", "getIssueCode", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "str_", "i18nString", "Common", "Common", "Root", "SDK", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nString", "i18n", "UIStrings", "str_", "i18nLazyString", "getIssueCode", "issueDescriptions", "Common", "i18n", "UIStrings", "str_", "i18nLazyString", "i18n", "UIStrings", "str_", "i18nLazyString", "issueDescriptions", "Common", "SDK"]
}
