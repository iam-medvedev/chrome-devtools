{"version":3,"file":"Trace.test.js","sourceRoot":"","sources":["../../../../../../../front_end/models/trace/helpers/Trace.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {describeWithEnvironment} from '../../../testing/EnvironmentHelpers.js';\nimport {\n  allThreadEntriesInTrace,\n  getMainThread,\n  makeAsyncEndEvent,\n  makeAsyncStartEvent,\n  makeCompleteEvent,\n  makeInstantEvent,\n} from '../../../testing/TraceHelpers.js';\nimport {TraceLoader} from '../../../testing/TraceLoader.js';\nimport * as Trace from '../trace.js';\n\ndescribeWithEnvironment('Trace helpers', function() {\n  describe('extractOriginFromTrace', () => {\n    it('extracts the origin of a parsed trace correctly', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const origin = Trace.Helpers.Trace.extractOriginFromTrace(parsedTrace.data.Meta.mainFrameURL);\n      assert.strictEqual(origin, 'web.dev');\n    });\n\n    it('will remove the `www` if it is present', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'multiple-navigations.json.gz');\n      const origin = Trace.Helpers.Trace.extractOriginFromTrace(parsedTrace.data.Meta.mainFrameURL);\n      assert.strictEqual(origin, 'google.com');\n    });\n\n    it('returns null when no origin is found', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'missing-url.json.gz');\n      const origin = Trace.Helpers.Trace.extractOriginFromTrace(parsedTrace.data.Meta.mainFrameURL);\n      assert.isNull(origin);\n    });\n  });\n\n  describe('addEventToProcessThread', () => {\n    function makeTraceEvent(\n        pid: Trace.Types.Events.ProcessID, tid: Trace.Types.Events.ThreadID): Trace.Types.Events.Event {\n      return {\n        name: 'process_name',\n        tid,\n        pid,\n        ts: Trace.Types.Timing.Micro(0),\n        cat: 'test',\n        ph: Trace.Types.Events.Phase.METADATA,\n      };\n    }\n\n    function pid(x: number): Trace.Types.Events.ProcessID {\n      return Trace.Types.Events.ProcessID(x);\n    }\n    function tid(x: number): Trace.Types.Events.ThreadID {\n      return Trace.Types.Events.ThreadID(x);\n    }\n\n    const eventMap =\n        new Map<Trace.Types.Events.ProcessID, Map<Trace.Types.Events.ThreadID, Trace.Types.Events.Event[]>>();\n\n    beforeEach(() => {\n      eventMap.clear();\n    });\n\n    it('will create a process and thread if it does not exist yet', async () => {\n      const event = makeTraceEvent(pid(1), tid(1));\n      Trace.Helpers.Trace.addEventToProcessThread(event, eventMap);\n      assert.strictEqual(eventMap.get(pid(1))?.size, 1);\n      const threadEvents = eventMap.get(pid(1))?.get(tid(1));\n      assert.strictEqual(threadEvents?.length, 1);\n    });\n\n    it('adds new events to existing threads correctly', async () => {\n      const event = makeTraceEvent(pid(1), tid(1));\n      Trace.Helpers.Trace.addEventToProcessThread(event, eventMap);\n      const newEvent = makeTraceEvent(pid(1), tid(1));\n      Trace.Helpers.Trace.addEventToProcessThread(newEvent, eventMap);\n      assert.deepEqual(eventMap.get(pid(1))?.get(tid(1)), [event, newEvent]);\n    });\n  });\n\n  describe('sortTraceEventsInPlace', () => {\n    function makeFakeEvent(ts: number, dur: number): Trace.Types.Events.Event {\n      return {\n        ts: Trace.Types.Timing.Micro(ts),\n        dur: Trace.Types.Timing.Micro(dur),\n      } as unknown as Trace.Types.Events.Event;\n    }\n\n    it('sorts by start time in ASC order', () => {\n      const event1 = makeFakeEvent(1, 1);\n      const event2 = makeFakeEvent(2, 1);\n      const event3 = makeFakeEvent(3, 1);\n      const events = [event3, event1, event2];\n      Trace.Helpers.Trace.sortTraceEventsInPlace(events);\n      assert.deepEqual(events, [event1, event2, event3]);\n    });\n\n    it('sorts by longest duration if the timestamps are the same', () => {\n      const event1 = makeFakeEvent(1, 1);\n      const event2 = makeFakeEvent(1, 2);\n      const event3 = makeFakeEvent(1, 3);\n      const events = [event1, event2, event3];\n      Trace.Helpers.Trace.sortTraceEventsInPlace(events);\n      assert.deepEqual(events, [event3, event2, event1]);\n    });\n  });\n\n  describe('getNavigationForTraceEvent', () => {\n    it('returns the correct navigation for a request', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'multiple-navigations.json.gz');\n      const {NetworkRequests, Meta} = parsedTrace.data;\n      const request1 = NetworkRequests.byTime[0];\n      const navigationForFirstRequest =\n          Trace.Helpers.Trace.getNavigationForTraceEvent(request1, request1.args.data.frame, Meta.navigationsByFrameId);\n      assert.isUndefined(navigationForFirstRequest?.ts);\n\n      const request2 = NetworkRequests.byTime[1];\n      const navigationForSecondRequest =\n          Trace.Helpers.Trace.getNavigationForTraceEvent(request2, request2.args.data.frame, Meta.navigationsByFrameId);\n      assert.strictEqual(navigationForSecondRequest?.ts, Trace.Types.Timing.Micro(636471400029));\n    });\n\n    it('returns the correct navigation for a page load event', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'multiple-navigations.json.gz');\n      const {Meta, PageLoadMetrics} = parsedTrace.data;\n      const firstNavigationId = Meta.navigationsByNavigationId.keys().next().value!;\n\n      const fcp = PageLoadMetrics.metricScoresByFrameId.get(Meta.mainFrameId)\n                      ?.get(firstNavigationId)\n                      ?.get(Trace.Handlers.ModelHandlers.PageLoadMetrics.MetricName.FCP);\n      assert.isOk(fcp?.event, 'FCP not found');\n      const navigationForFirstRequest =\n          Trace.Helpers.Trace.getNavigationForTraceEvent(fcp.event, Meta.mainFrameId, Meta.navigationsByFrameId);\n      assert.strictEqual(navigationForFirstRequest?.args.data?.navigationId, firstNavigationId);\n    });\n  });\n\n  describe('extractId', () => {\n    it('returns the correct id for an event', async () => {\n      const fakeEventWithId = {id: 'id'} as unknown as Trace.Types.Events.PairableAsync;\n      const id = Trace.Helpers.Trace.extractId(fakeEventWithId);\n      assert.strictEqual(id, fakeEventWithId.id);\n\n      const fakeEventWithGlobalId2 = {id2: {global: 'globalId2'}} as unknown as Trace.Types.Events.PairableAsync;\n      const globalId2 = Trace.Helpers.Trace.extractId(fakeEventWithGlobalId2);\n      assert.strictEqual(globalId2, fakeEventWithGlobalId2.id2?.global);\n\n      const fakeEventWithLocalId2 = {id2: {local: 'localId2'}} as unknown as Trace.Types.Events.PairableAsync;\n      const localId2 = Trace.Helpers.Trace.extractId(fakeEventWithLocalId2);\n      assert.strictEqual(localId2, fakeEventWithLocalId2.id2?.local);\n    });\n  });\n  describe('mergeEventsInOrder', () => {\n    it('merges two ordered arrays of trace events with no duration', async () => {\n      const array1 = [\n        {\n          name: 'a',\n          ts: 0,\n        },\n        {\n          name: 'b',\n          ts: 2,\n        },\n        {\n          name: 'c',\n          ts: 4,\n        },\n        {\n          name: 'd',\n          ts: 6,\n        },\n        {\n          name: 'e',\n          ts: 8,\n        },\n      ] as Trace.Types.Events.Event[];\n\n      const array2 = [\n        {\n          name: 'a',\n          ts: 1,\n        },\n        {\n          name: 'b',\n          ts: 3,\n        },\n        {\n          name: 'c',\n          ts: 5,\n        },\n        {\n          name: 'd',\n          ts: 7,\n        },\n        {\n          name: 'e',\n          ts: 9,\n        },\n      ] as Trace.Types.Events.Event[];\n      const ordered = Trace.Helpers.Trace.mergeEventsInOrder(array1, array2);\n      for (let i = 1; i < ordered.length; i++) {\n        assert.isAbove(ordered[i].ts, ordered[i - 1].ts);\n      }\n    });\n    it('merges two ordered arrays of trace events with duration', async () => {\n      const array1 = [\n        {\n          name: 'a',\n          ts: 0,\n          dur: 10,\n        },\n        {\n          name: 'b',\n          ts: 2,\n          dur: 12,\n        },\n        {\n          name: 'c',\n          ts: 4,\n          dur: 2,\n        },\n        {\n          name: 'd',\n          ts: 6,\n          dur: 9,\n        },\n        {\n          name: 'e',\n          ts: 8,\n          dur: 100,\n        },\n      ] as Trace.Types.Events.Event[];\n\n      const array2 = [\n        {\n          name: 'a',\n          ts: 1,\n          dur: 2,\n        },\n        {\n          name: 'b',\n          ts: 3,\n          dur: 1,\n        },\n        {\n          name: 'c',\n          ts: 5,\n          dur: 99,\n        },\n        {\n          name: 'd',\n          ts: 7,\n        },\n        {\n          name: 'e',\n          ts: 9,\n          dur: 0,\n        },\n      ] as Trace.Types.Events.Event[];\n      const ordered = Trace.Helpers.Trace.mergeEventsInOrder(array1, array2);\n      for (let i = 1; i < ordered.length; i++) {\n        assert.isAbove(ordered[i].ts, ordered[i - 1].ts);\n      }\n    });\n    it('merges two ordered arrays of trace events when timestamps collide', async () => {\n      const array1 = [\n        {\n          name: 'a',\n          ts: 0,\n          dur: 10,\n        },\n        {\n          name: 'b',\n          ts: 2,\n          dur: 12,\n        },\n        {\n          name: 'c',\n          ts: 4,\n          dur: 2,\n        },\n        {\n          name: 'd',\n          ts: 6,\n          dur: 9,\n        },\n        {\n          name: 'e',\n          ts: 8,\n          dur: 100,\n        },\n      ] as Trace.Types.Events.Event[];\n\n      const array2 = [\n        {\n          name: 'a',\n          ts: 0,\n          dur: 2,\n        },\n        {\n          name: 'b',\n          ts: 2,\n          dur: 1,\n        },\n        {\n          name: 'c',\n          ts: 4,\n          dur: 99,\n        },\n        {\n          name: 'd',\n          ts: 7,\n        },\n        {\n          name: 'e',\n          ts: 9,\n          dur: 0,\n        },\n      ] as Trace.Types.Events.Event[];\n      const ordered = Trace.Helpers.Trace.mergeEventsInOrder(array1, array2);\n      for (let i = 1; i < ordered.length; i++) {\n        const dur = ordered[i].dur;\n        const durPrev = ordered[i - 1].dur;\n        const eventsHaveDuration = dur !== undefined && durPrev !== undefined;\n        const correctOrderForSharedTimestamp =\n            eventsHaveDuration && ordered[i].ts === ordered[i - 1].ts && dur <= durPrev;\n        assert.isTrue(ordered[i].ts > ordered[i - 1].ts || correctOrderForSharedTimestamp);\n      }\n    });\n    it('merges two ordered arrays of trace events when timestamps and durations collide', async () => {\n      const array1 = [\n        {\n          name: 'a',\n          ts: 0,\n          dur: 10,\n        },\n        {\n          name: 'b',\n          ts: 2,\n          dur: 10,\n        },\n        {\n          name: 'c',\n          ts: 4,\n          dur: 10,\n        },\n        {\n          name: 'd',\n          ts: 6,\n          dur: 10,\n        },\n        {\n          name: 'e',\n          ts: 8,\n          dur: 10,\n        },\n      ] as Trace.Types.Events.Event[];\n\n      const array2 = [...array1];\n      const ordered = Trace.Helpers.Trace.mergeEventsInOrder(array1, array2);\n      for (let i = 1; i < ordered.length; i++) {\n        const dur = ordered[i].dur;\n        const durPrev = ordered[i - 1].dur;\n        const eventsHaveDuration = dur !== undefined && durPrev !== undefined;\n        const correctOrderForSharedTimestamp =\n            eventsHaveDuration && ordered[i].ts === ordered[i - 1].ts && dur <= durPrev;\n        assert.isTrue(ordered[i].ts > ordered[i - 1].ts || correctOrderForSharedTimestamp);\n      }\n    });\n  });\n  describe('activeURLForFrameAtTime', () => {\n    it('extracts the active url for a frame at a given time', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n      const frameId = '1F729458403A23CF1D8D246095129AC4';\n      const firstURL = Trace.Helpers.Trace.activeURLForFrameAtTime(\n          frameId, Trace.Types.Timing.Micro(251126654355), parsedTrace.data.Meta.rendererProcessesByFrame);\n      assert.strictEqual(firstURL, 'about:blank');\n      const secondURL = Trace.Helpers.Trace.activeURLForFrameAtTime(\n          frameId, Trace.Types.Timing.Micro(251126663398), parsedTrace.data.Meta.rendererProcessesByFrame);\n      assert.strictEqual(secondURL, 'https://www.google.com');\n    });\n  });\n\n  describe('createMatchedSortedSyntheticEvents', () => {\n    it('matches up arbitrary async events', async function() {\n      const events = await TraceLoader.rawEvents(this, 'user-timings.json.gz');\n      const asyncEvents =\n          events.filter(event => Trace.Types.Events.isPhaseAsync(event.ph)) as Trace.Types.Events.PairableAsync[];\n      const synthEvents = Trace.Helpers.Trace.createMatchedSortedSyntheticEvents(asyncEvents);\n\n      // There's a lot of events, let's only assert one event per name\n      const seen = new Set();\n      // Make a readable output of each event to assert\n      const eventSummary = (e: Trace.Types.Events.SyntheticEventPair) =>\n          `@ ${(e.ts / 1000 - 1003e5).toFixed(3).padEnd(9)} for ${(e.dur / 1000).toFixed(3).padStart(8)}: ${e.name}`;\n      const eventsSummary = synthEvents\n                                .filter(e => {\n                                  const alreadySeen = seen.has(e.name);\n                                  seen.add(e.name);\n                                  return !alreadySeen;\n                                })\n                                .map(eventSummary);\n\n      assert.deepEqual(eventsSummary, [\n        '@ 22336.946 for   16.959: PipelineReporter',\n        '@ 22350.590 for    3.315: BeginImplFrameToSendBeginMainFrame',\n        '@ 40732.328 for    0.834: SendBeginMainFrameToCommit',\n        '@ 40733.162 for    0.307: Commit',\n        '@ 40733.469 for    0.097: EndCommitToActivation',\n        '@ 40733.566 for    0.019: Activation',\n        '@ 40733.585 for    1.775: EndActivateToSubmitCompositorFrame',\n        '@ 40735.360 for   58.412: SubmitCompositorFrameToPresentationCompositorFrame',\n        '@ 40735.360 for    0.148: SubmitToReceiveCompositorFrame',\n        '@ 40735.508 for    3.667: ReceiveCompositorFrameToStartDraw',\n        '@ 40739.175 for   54.136: StartDrawToSwapStart',\n        '@ 40793.311 for    0.461: Swap',\n        '@ 40810.809 for  606.224: second measure',\n        '@ 40810.809 for  205.424: first measure',\n        '@ 40825.971 for   11.802: InputLatency::MouseMove',\n        '@ 41818.833 for 2005.601: third measure',\n      ]);\n      assert.lengthOf(synthEvents, 237);\n    });\n\n    describe('createSortedSyntheticEvents()', () => {\n      it('correctly creates synthetic events when instant animation events are present', async function() {\n        const events = await TraceLoader.rawEvents(this, 'instant-animation-events.json.gz');\n        const animationEvents = events.filter(event => Trace.Types.Events.isAnimation(event));\n        const animationSynthEvents = Trace.Helpers.Trace.createMatchedSortedSyntheticEvents(animationEvents);\n        const wantPairs = new Map<string, {compositeFailed: number, unsupportedProperties?: string[]}>([\n          [\n            'blink.animations,devtools.timeline,benchmark,rail:0x11d00230380:Animation',\n            {compositeFailed: 8224, unsupportedProperties: ['width']},\n          ],\n          ['blink.animations,devtools.timeline,benchmark,rail:0x11d00234738:Animation', {compositeFailed: 0}],\n          [\n            'blink.animations,devtools.timeline,benchmark,rail:0x11d00234b08:Animation',\n            {compositeFailed: 8224, unsupportedProperties: ['height']},\n          ],\n          [\n            'blink.animations,devtools.timeline,benchmark,rail:0x11d00234ed8:Animation',\n            {compositeFailed: 8224, unsupportedProperties: ['font-size']},\n          ],\n        ]);\n        // Ensure we have the correct number of synthetic events created.\n        assert.deepEqual(wantPairs.size, animationSynthEvents.length);\n\n        animationSynthEvents.forEach(event => {\n          const id = event.id;\n          assert.exists(id);\n          assert.exists(wantPairs.get(id));\n\n          const beginEvent = event.args.data.beginEvent;\n          const endEvent = event.args.data.endEvent;\n          const instantEvents = event.args.data.instantEvents;\n\n          assert.exists(beginEvent);\n\n          // Check that the individual event ids match the synthetic id.\n          assert.isTrue(beginEvent.id2?.local && id.includes(beginEvent.id2?.local));\n          if (endEvent) {\n            assert.isTrue(endEvent.id2?.local && id?.includes(endEvent.id2?.local));\n          }\n          assert.isTrue(instantEvents?.every(event => event.id2?.local && id.includes(event.id2?.local)));\n\n          assert.lengthOf(instantEvents, 2);\n\n          // Check that the non-composited data matches the expected.\n          const nonCompositedEvents = instantEvents.filter(event => event.args.data.compositeFailed);\n          nonCompositedEvents.forEach(event => {\n            assert.strictEqual(event.args.data.compositeFailed, wantPairs.get(id)?.compositeFailed);\n            assert.deepEqual(event.args.data.unsupportedProperties, wantPairs.get(id)?.unsupportedProperties);\n          });\n        });\n      });\n    });\n\n    describe('dealing with duplicate IDs and overlapping events', () => {\n      const {createMatchedSortedSyntheticEvents} = Trace.Helpers.Trace;\n\n      // Helper functions for creating async begin/instant/end events.\n      function makeBeginEvent(id: string, tsMicro: number): Trace.Types.Events.PairableAsyncBegin {\n        return {\n          name: `fake-event:${id}`,\n          ts: tsMicro,\n          id2: {local: id},\n          ph: Trace.Types.Events.Phase.ASYNC_NESTABLE_START,\n          pid: Trace.Types.Events.ProcessID(1),\n          tid: Trace.Types.Events.ThreadID(1),\n          cat: 'blink.user_timing',\n        } as unknown as Trace.Types.Events.PairableAsyncBegin;\n      }\n\n      function makeEndEvent(id: string, tsMicro: number): Trace.Types.Events.PairableAsyncEnd {\n        const event = makeBeginEvent(id, tsMicro) as unknown as Trace.Types.Events.PairableAsyncEnd;\n        event.ph = Trace.Types.Events.Phase.ASYNC_NESTABLE_END;\n        return event;\n      }\n\n      function makeInstantEvent(id: string, tsMicro: number): Trace.Types.Events.PairableAsyncInstant {\n        const event = makeBeginEvent(id, tsMicro) as unknown as Trace.Types.Events.PairableAsyncInstant;\n        event.ph = Trace.Types.Events.Phase.ASYNC_NESTABLE_INSTANT;\n        return event;\n      }\n\n      it('can match up begin and end events with any instant events in the time period', async () => {\n        const b1 = makeBeginEvent('1', 1);\n        const i1 = makeInstantEvent('1', 5);\n        const e1 = makeEndEvent('1', 10);\n        const b2 = makeBeginEvent('2', 11);\n        const i2 = makeInstantEvent('2', 12);\n        const e2 = makeEndEvent('2', 13);\n\n        const pairedEvents = createMatchedSortedSyntheticEvents([b1, i1, e1, b2, i2, e2]);\n        assert.lengthOf(pairedEvents, 2);\n        assert.strictEqual(pairedEvents[0].name, 'fake-event:1');\n        assert.strictEqual(pairedEvents[0].args.data.beginEvent, b1);\n        assert.strictEqual(pairedEvents[0].args.data.endEvent, e1);\n        assert.deepEqual(pairedEvents[0].args.data.instantEvents, [i1]);\n\n        assert.strictEqual(pairedEvents[1].name, 'fake-event:2');\n        assert.strictEqual(pairedEvents[1].args.data.beginEvent, b2);\n        assert.strictEqual(pairedEvents[1].args.data.endEvent, e2);\n        assert.deepEqual(pairedEvents[1].args.data.instantEvents, [i2]);\n      });\n\n      it('deals with the fact that IDs can be re-used if the events do not overlap', async () => {\n        const b1 = makeBeginEvent('1', 1);\n        const i1 = makeInstantEvent('1', 5);\n        const e1 = makeEndEvent('1', 10);\n        // This can happen: Perfetto may reuse IDs if they are not overlapping.\n        const b2 = makeBeginEvent('1', 11);\n        b2.name = 'fake-event:2';\n        const i2 = makeInstantEvent('1', 12);\n        i2.name = 'fake-event:2';\n        const e2 = makeEndEvent('1', 13);\n        e2.name = 'fake-event:2';\n\n        const pairedEvents = createMatchedSortedSyntheticEvents([b1, i1, e1, b2, i2, e2]);\n        assert.lengthOf(pairedEvents, 2);\n        assert.strictEqual(pairedEvents[0].name, 'fake-event:1');\n        assert.strictEqual(pairedEvents[0].args.data.beginEvent, b1);\n        assert.strictEqual(pairedEvents[0].args.data.endEvent, e1);\n        assert.deepEqual(pairedEvents[0].args.data.instantEvents, [i1]);\n\n        assert.strictEqual(pairedEvents[1].name, 'fake-event:2');\n        assert.strictEqual(pairedEvents[1].args.data.beginEvent, b2);\n        assert.strictEqual(pairedEvents[1].args.data.endEvent, e2);\n        assert.deepEqual(pairedEvents[1].args.data.instantEvents, [i2]);\n      });\n\n      it('deals with overlapping events', async () => {\n        // event1 here: 1=>10, event2: 5=>15.\n        const b1 = makeBeginEvent('1', 1);\n        const i1 = makeInstantEvent('1', 5);\n        const b2 = makeBeginEvent('2', 5);\n        const e1 = makeEndEvent('1', 10);\n        const i2 = makeInstantEvent('2', 12);\n        const e2 = makeEndEvent('2', 15);\n\n        const pairedEvents = createMatchedSortedSyntheticEvents([b1, i1, b2, e1, i2, e2]);\n        assert.lengthOf(pairedEvents, 2);\n        assert.strictEqual(pairedEvents[0].name, 'fake-event:1');\n        assert.strictEqual(pairedEvents[0].args.data.beginEvent, b1);\n        assert.strictEqual(pairedEvents[0].args.data.endEvent, e1);\n        assert.deepEqual(pairedEvents[0].args.data.instantEvents, [i1]);\n\n        assert.strictEqual(pairedEvents[1].name, 'fake-event:2');\n        assert.strictEqual(pairedEvents[1].args.data.beginEvent, b2);\n        assert.strictEqual(pairedEvents[1].args.data.endEvent, e2);\n        assert.deepEqual(pairedEvents[1].args.data.instantEvents, [i2]);\n      });\n\n      it('deals with events that are visually nested', async () => {\n        // event1 here: 1=>10, event2: 5=>8.\n        const b1 = makeBeginEvent('1', 1);\n        const i1 = makeInstantEvent('1', 5);\n        const b2 = makeBeginEvent('2', 5);\n        const i2 = makeInstantEvent('2', 6);\n        const e2 = makeEndEvent('2', 8);\n        const e1 = makeEndEvent('1', 10);\n\n        const pairedEvents = createMatchedSortedSyntheticEvents([b1, i1, b2, i2, e2, e1]);\n        assert.lengthOf(pairedEvents, 2);\n        assert.strictEqual(pairedEvents[0].name, 'fake-event:1');\n        assert.strictEqual(pairedEvents[0].args.data.beginEvent, b1);\n        assert.strictEqual(pairedEvents[0].args.data.endEvent, e1);\n        assert.deepEqual(pairedEvents[0].args.data.instantEvents, [i1]);\n\n        assert.strictEqual(pairedEvents[1].name, 'fake-event:2');\n        assert.strictEqual(pairedEvents[1].args.data.beginEvent, b2);\n        assert.strictEqual(pairedEvents[1].args.data.endEvent, e2);\n        assert.deepEqual(pairedEvents[1].args.data.instantEvents, [i2]);\n      });\n    });\n  });\n\n  describe('getZeroIndexedLineAndColumnNumbersForEvent', () => {\n    it('subtracts one from the line number of a function call', async () => {\n      const fakeFunctionCall: Trace.Types.Events.FunctionCall = {\n        name: Trace.Types.Events.Name.FUNCTION_CALL,\n        ph: Trace.Types.Events.Phase.COMPLETE,\n        cat: 'devtools-timeline',\n        dur: Trace.Types.Timing.Micro(100),\n        ts: Trace.Types.Timing.Micro(100),\n        pid: Trace.Types.Events.ProcessID(1),\n        tid: Trace.Types.Events.ThreadID(1),\n        args: {\n          data: {\n            functionName: 'test',\n            url: 'https://google.com/test.js',\n            scriptId: Number(123),\n            lineNumber: 1,\n            columnNumber: 1,\n          },\n        },\n      };\n      assert.deepEqual(Trace.Helpers.Trace.getZeroIndexedLineAndColumnForEvent(fakeFunctionCall), {\n        lineNumber: 0,\n        columnNumber: 0,\n      });\n    });\n  });\n\n  describe('frameIDForEvent', () => {\n    it('returns the frame ID from beginData if the event has it', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n      const parseHTMLEvent = allThreadEntriesInTrace(parsedTrace).find(Trace.Types.Events.isParseHTML);\n      assert.isOk(parseHTMLEvent);\n      const frameId = Trace.Helpers.Trace.frameIDForEvent(parseHTMLEvent);\n      assert.isNotNull(frameId);\n      assert.strictEqual(frameId, parseHTMLEvent.args.beginData.frame);\n    });\n\n    it('returns the frame ID from args.data if the event has it', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n      const invalidateLayoutEvent = allThreadEntriesInTrace(parsedTrace).find(Trace.Types.Events.isInvalidateLayout);\n      assert.isOk(invalidateLayoutEvent);\n      const frameId = Trace.Helpers.Trace.frameIDForEvent(invalidateLayoutEvent);\n      assert.isNotNull(frameId);\n      assert.strictEqual(frameId, invalidateLayoutEvent.args.data.frame);\n    });\n\n    it('returns null if the event does not have a frame', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n      const v8CompileEvent = allThreadEntriesInTrace(parsedTrace).find(Trace.Types.Events.isV8Compile);\n      assert.isOk(v8CompileEvent);\n      const frameId = Trace.Helpers.Trace.frameIDForEvent(v8CompileEvent);\n      assert.isNull(frameId);\n    });\n  });\n\n  describe('findRecalcStyleEvents', () => {\n    it('returns the set of RecalcStyle events within the right time range', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'selector-stats.json.gz');\n      const mainThread = getMainThread(parsedTrace.data.Renderer);\n      const foundEvents = Trace.Helpers.Trace.findRecalcStyleEvents(\n          mainThread.entries,\n          parsedTrace.data.Meta.traceBounds.min,\n      );\n      assert.lengthOf(foundEvents, 11);\n\n      const lastEvent = foundEvents.at(-1);\n      assert.isOk(lastEvent);\n\n      // Check we can filter by endTime by making the endTime less than the start\n      // time of the last event:\n      const filteredByEndTimeEvents = Trace.Helpers.Trace.findRecalcStyleEvents(\n          mainThread.entries,\n          parsedTrace.data.Meta.traceBounds.min,\n          Trace.Types.Timing.Micro(lastEvent.ts - 1_000),\n      );\n      assert.lengthOf(filteredByEndTimeEvents, 10);\n    });\n  });\n\n  describe('forEachEvent', () => {\n    const pid = Trace.Types.Events.ProcessID(1);\n    const tid = Trace.Types.Events.ThreadID(1);\n\n    it('iterates through the events in the expected tree-like order', async () => {\n      // |------------- RunTask -------------||-- RunTask --|\n      //  |-- RunMicrotasks --||-- Layout --|\n      //   |- FunctionCall -|\n      const traceEvents = [\n        makeCompleteEvent('RunTask', 0, 10, '*', pid, tid),       // 0..10\n        makeCompleteEvent('RunMicrotasks', 1, 3, '*', pid, tid),  // 1..4\n        makeCompleteEvent('FunctionCall', 2, 1, '*', pid, tid),   // 2..3\n        makeCompleteEvent('Layout', 5, 3, '*', pid, tid),         // 5..8\n        makeCompleteEvent('RunTask', 11, 3, '*', pid, tid),       // 11..14\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n      });\n      const eventsFromStartEventCalls = onStartEvent.getCalls().map(a => a.args[0]);\n      const eventsFromEndEventCalls = onEndEvent.getCalls().map(a => a.args[0]);\n      assert.deepEqual(\n          eventsFromStartEventCalls.map(e => e.name),\n          ['RunTask', 'RunMicrotasks', 'FunctionCall', 'Layout', 'RunTask'],\n      );\n      assert.deepEqual(\n          eventsFromEndEventCalls.map(e => e.name),\n          ['FunctionCall', 'RunMicrotasks', 'Layout', 'RunTask', 'RunTask'],\n      );\n    });\n\n    it('allows for a custom start and end time', async () => {\n      // |------------- RunTask -------------||-- RunTask --|\n      //  |-- RunMicrotasks --||-- Layout --|\n      //   |- FunctionCall -|\n      const traceEvents = [\n        makeCompleteEvent('RunTask', 0, 10, '*', pid, tid),       // 0..10\n        makeCompleteEvent('RunMicrotasks', 1, 3, '*', pid, tid),  // 1..4\n        makeCompleteEvent('FunctionCall', 2, 1, '*', pid, tid),   // 2..3\n        makeCompleteEvent('Layout', 5, 3, '*', pid, tid),         // 5..8\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n        startTime: Trace.Types.Timing.Micro(5),\n        endTime: Trace.Types.Timing.Micro(9),\n      });\n      const eventsFromStartEventCalls = onStartEvent.getCalls().map(a => a.args[0]);\n      const eventsFromEndEventCalls = onEndEvent.getCalls().map(a => a.args[0]);\n      // We expect the RunTask event (0-10) and the Layout event (5-8) as\n      // those fit in the 5-9 custom time range.\n      assert.deepEqual(\n          eventsFromStartEventCalls.map(e => e.name),\n          ['RunTask', 'Layout'],\n      );\n      assert.deepEqual(\n          eventsFromEndEventCalls.map(e => e.name),\n          ['Layout', 'RunTask'],\n      );\n    });\n\n    it('lets the user filter out events with a custom filter', async () => {\n      // |------------- RunTask -------------||-- RunTask --|\n      //  |-- RunMicrotasks --||-- Layout --|\n      //   |- FunctionCall -|\n      const traceEvents = [\n        makeCompleteEvent('RunTask', 0, 10, '*', pid, tid),       // 0..10\n        makeCompleteEvent('RunMicrotasks', 1, 3, '*', pid, tid),  // 1..4\n        makeCompleteEvent('FunctionCall', 2, 1, '*', pid, tid),   // 2..3\n        makeCompleteEvent('Layout', 5, 3, '*', pid, tid),         // 5..8\n        makeCompleteEvent('RunTask', 11, 3, '*', pid, tid),       // 11..14\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n        eventFilter(event) {\n          return event.name !== 'RunTask';\n        },\n      });\n      const eventsFromStartEventCalls = onStartEvent.getCalls().map(a => a.args[0]);\n      const eventsFromEndEventCalls = onEndEvent.getCalls().map(a => a.args[0]);\n\n      assert.deepEqual(\n          eventsFromStartEventCalls.map(e => e.name),\n          ['RunMicrotasks', 'FunctionCall', 'Layout'],\n      );\n      assert.deepEqual(\n          eventsFromEndEventCalls.map(e => e.name),\n          ['FunctionCall', 'RunMicrotasks', 'Layout'],\n      );\n    });\n\n    it('calls the onInstantEvent callback when it finds an event with 0 duration', async () => {\n      const traceEvents = [\n        makeInstantEvent('FakeInstantEvent', 0, '*', pid, tid),\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onInstantEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n        onInstantEvent,\n      });\n\n      sinon.assert.callCount(onStartEvent, 0);\n      sinon.assert.callCount(onEndEvent, 0);\n      sinon.assert.callCount(onInstantEvent, 1);\n    });\n\n    it('skips async events by default', async () => {\n      const traceEvents = [\n        makeAsyncStartEvent('FakeAsync', 0, pid, tid),\n        makeAsyncEndEvent('FakeAsync', 0, pid, tid),\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onInstantEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n        onInstantEvent,\n      });\n\n      sinon.assert.callCount(onStartEvent, 0);\n      sinon.assert.callCount(onEndEvent, 0);\n      sinon.assert.callCount(onInstantEvent, 0);\n    });\n\n    it('can be configured to include async events', async () => {\n      const traceEvents = [\n        makeAsyncStartEvent('FakeAsync', 0, pid, tid),\n        makeAsyncEndEvent('FakeAsync', 0, pid, tid),\n      ];\n      const onStartEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onEndEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n      const onInstantEvent = sinon.spy<(e: Trace.Types.Events.Event) => void>(_event => {});\n\n      Trace.Helpers.Trace.forEachEvent(traceEvents, {\n        onEndEvent,\n        onStartEvent,\n        onInstantEvent,\n        ignoreAsyncEvents: false,\n      });\n\n      sinon.assert.callCount(onStartEvent, 0);\n      sinon.assert.callCount(onEndEvent, 0);\n      sinon.assert.callCount(onInstantEvent, 2);\n    });\n  });\n\n  describe('isTopLevelEvent', () => {\n    it('is true for a RunTask event', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const runTask = allThreadEntriesInTrace(parsedTrace).find(Trace.Types.Events.isRunTask);\n      assert.isOk(runTask);\n\n      assert.isTrue(Trace.Helpers.Trace.isTopLevelEvent(runTask));\n    });\n  });\n\n  describe('findNextEventAfterTimestamp', () => {\n    it('gets the first screenshot after a trace', async function() {\n      const parsedTrace = await TraceLoader.traceEngine(this, 'cls-multiple-frames.json.gz');\n      const screenshots = parsedTrace.data.Screenshots.legacySyntheticScreenshots ?? [];\n      const {clusters} = parsedTrace.data.LayoutShifts;\n      const shifts = clusters.flatMap(cluster => cluster.events);\n      assert.isAtLeast(shifts.length, 10);\n\n      shifts.forEach((shift, i) => {\n        const prevScreenshot = Trace.Helpers.Trace.findPreviousEventBeforeTimestamp(screenshots, shift.ts);\n        const nextScreenshot = Trace.Helpers.Trace.findNextEventAfterTimestamp(screenshots, shift.ts);\n\n        // There may be a screenshot after the last shift. but very possible there isn't.\n        if (i === shifts.length - 1) {\n          return;\n        }\n        assert.isNotNull(nextScreenshot);\n        assert.isNotNull(prevScreenshot);\n        // Make sure the screenshot came after the shift.\n        assert.isAbove(nextScreenshot.ts, shift.ts);\n        // Make sure the previous screenshot came before the shift\n        assert.isBelow(prevScreenshot.ts, shift.ts);\n\n        // Bonus, we expect the result of calling prevEvent* to be the same as `items[nextIndex - 1]`\n        const nextIndex = screenshots.indexOf(nextScreenshot);\n        const alsoPrevious = screenshots[nextIndex - 1];\n        assert.strictEqual(prevScreenshot, alsoPrevious);\n      });\n    });\n  });\n});\n"]}