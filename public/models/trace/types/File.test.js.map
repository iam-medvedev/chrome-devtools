{"version":3,"file":"File.test.js","sourceRoot":"","sources":["../../../../../../../front_end/models/trace/types/File.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAG7B,OAAO,KAAK,KAAK,MAAM,aAAa,CAAC;AAErC,QAAQ,CAAC,kBAAkB,EAAE,GAAG,EAAE;IAChC,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;QACrC,EAAE,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;YAC7D,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAC/D,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,EAAC,IAAI,+DAAqD,EAAE,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC;QACvG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qCAAqC,EAAE,KAAK,IAAI,EAAE;YACnD,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAC/D,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,EAAC,IAAI,mDAAyC,EAAE,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC;QAC3F,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAC/D,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,EAAC,IAAI,yDAA+C,EAAE,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC;QACjG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,8CAA8C,EAAE,KAAK,IAAI,EAAE;YAC5D,MAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC5C,MAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACtD,MAAM,MAAM,GAAG,CAAqB,CAAC;YAErC,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAqC,CAAC;YAC/F,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YAC3D,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE;gBACvB,IAAI,sDAA4C;gBAChD,SAAS,EAAE,GAAG;gBACd,QAAQ,EAAE,GAAG;gBACb,WAAW;gBACX,QAAQ,EAAE,MAAM;aACjB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Protocol from '../../../generated/protocol.js';\nimport * as Trace from '../trace.js';\n\ndescribe('Trace file types', () => {\n  describe('traceEventKeyToValues', () => {\n    it('converts the values for a LegacyTimelineFrame', async () => {\n      const result = Trace.Types.File.traceEventKeyToValues('l-101');\n      assert.deepEqual(result, {type: Trace.Types.File.EventKeyType.LEGACY_TIMELINE_FRAME, rawIndex: 101});\n    });\n\n    it('converts the values for a raw event', async () => {\n      const result = Trace.Types.File.traceEventKeyToValues('r-101');\n      assert.deepEqual(result, {type: Trace.Types.File.EventKeyType.RAW_EVENT, rawIndex: 101});\n    });\n\n    it('converts the values for a synthetic event', async () => {\n      const result = Trace.Types.File.traceEventKeyToValues('s-101');\n      assert.deepEqual(result, {type: Trace.Types.File.EventKeyType.SYNTHETIC_EVENT, rawIndex: 101});\n    });\n\n    it('converts the values for a profile call event', async () => {\n      const pid = Trace.Types.Events.ProcessID(1);\n      const tid = Trace.Types.Events.ThreadID(2);\n      const sampleIndex = Trace.Types.Events.SampleIndex(3);\n      const nodeId = 4 as Protocol.integer;\n\n      const key = ['p', pid, tid, sampleIndex, nodeId].join('-') as Trace.Types.File.SerializableKey;\n      const result = Trace.Types.File.traceEventKeyToValues(key);\n      assert.deepEqual(result, {\n        type: Trace.Types.File.EventKeyType.PROFILE_CALL,\n        processID: pid,\n        threadID: tid,\n        sampleIndex,\n        protocol: nodeId,\n      });\n    });\n  });\n});\n"]}