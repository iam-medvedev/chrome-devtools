{
  "version": 3,
  "sources": ["package/lib/main.js"],
  "sourcesContent": ["/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nvar SelectorType;\n(function (SelectorType) {\n    SelectorType[\"CSS\"] = \"css\";\n    SelectorType[\"ARIA\"] = \"aria\";\n    SelectorType[\"Text\"] = \"text\";\n    SelectorType[\"XPath\"] = \"xpath\";\n    SelectorType[\"Pierce\"] = \"pierce\";\n})(SelectorType || (SelectorType = {}));\nvar StepType;\n(function (StepType) {\n    StepType[\"Change\"] = \"change\";\n    StepType[\"Click\"] = \"click\";\n    StepType[\"Close\"] = \"close\";\n    StepType[\"CustomStep\"] = \"customStep\";\n    StepType[\"DoubleClick\"] = \"doubleClick\";\n    StepType[\"EmulateNetworkConditions\"] = \"emulateNetworkConditions\";\n    StepType[\"Hover\"] = \"hover\";\n    StepType[\"KeyDown\"] = \"keyDown\";\n    StepType[\"KeyUp\"] = \"keyUp\";\n    StepType[\"Navigate\"] = \"navigate\";\n    StepType[\"Scroll\"] = \"scroll\";\n    StepType[\"SetViewport\"] = \"setViewport\";\n    StepType[\"WaitForElement\"] = \"waitForElement\";\n    StepType[\"WaitForExpression\"] = \"waitForExpression\";\n})(StepType || (StepType = {}));\nvar AssertedEventType;\n(function (AssertedEventType) {\n    AssertedEventType[\"Navigation\"] = \"navigation\";\n})(AssertedEventType || (AssertedEventType = {}));\n\nvar Schema = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    get AssertedEventType () { return AssertedEventType; },\n    get SelectorType () { return SelectorType; },\n    get StepType () { return StepType; }\n});\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nfunction assertAllStepTypesAreHandled(s) {\n    throw new Error(`Unknown step type: ${s.type}`);\n}\nconst typeableInputTypes = new Set([\n    'textarea',\n    'text',\n    'url',\n    'tel',\n    'search',\n    'password',\n    'number',\n    'email',\n]);\nconst pointerDeviceTypes = new Set([\n    'mouse',\n    'pen',\n    'touch',\n]);\nconst mouseButtonMap = new Map([\n    ['primary', 'left'],\n    ['auxiliary', 'middle'],\n    ['secondary', 'right'],\n    ['back', 'back'],\n    ['forward', 'forward'],\n]);\nfunction hasProperty(data, prop) {\n    // TODO: use Object.hasOwn once types are available https://github.com/microsoft/TypeScript/issues/44253\n    if (!Object.prototype.hasOwnProperty.call(data, prop)) {\n        return false;\n    }\n    const keyedData = data;\n    return keyedData[prop] !== undefined;\n}\nfunction isObject(data) {\n    return typeof data === 'object' && data !== null;\n}\nfunction isString(data) {\n    return typeof data === 'string';\n}\nfunction isNumber(data) {\n    return typeof data === 'number';\n}\nfunction isArray(data) {\n    return Array.isArray(data);\n}\nfunction isBoolean(data) {\n    return typeof data === 'boolean';\n}\nfunction isIntegerArray(data) {\n    return isArray(data) && data.every((item) => Number.isInteger(item));\n}\nfunction isKnownDeviceType(data) {\n    return typeof data === 'string' && pointerDeviceTypes.has(data);\n}\nfunction isKnownMouseButton(data) {\n    return typeof data === 'string' && mouseButtonMap.has(data);\n}\nfunction parseTarget(step) {\n    if (hasProperty(step, 'target') && isString(step.target)) {\n        return step.target;\n    }\n    return undefined;\n}\nfunction parseFrame(step) {\n    if (hasProperty(step, 'frame')) {\n        if (isIntegerArray(step.frame)) {\n            return step.frame;\n        }\n        throw new Error('Step `frame` is not an integer array');\n    }\n    return undefined;\n}\nfunction parseNumber(step, prop) {\n    if (hasProperty(step, prop)) {\n        const maybeNumber = step[prop];\n        if (isNumber(maybeNumber)) {\n            return maybeNumber;\n        }\n    }\n    throw new Error(`Step.${prop} is not a number`);\n}\nfunction parseBoolean(step, prop) {\n    if (hasProperty(step, prop)) {\n        const maybeBoolean = step[prop];\n        if (isBoolean(maybeBoolean)) {\n            return maybeBoolean;\n        }\n    }\n    throw new Error(`Step.${prop} is not a boolean`);\n}\nfunction parseOptionalNumber(step, prop) {\n    if (hasProperty(step, prop)) {\n        return parseNumber(step, prop);\n    }\n    return undefined;\n}\nfunction parseOptionalString(step, prop) {\n    if (hasProperty(step, prop)) {\n        return parseString(step, prop);\n    }\n    return undefined;\n}\nfunction parseOptionalBoolean(step, prop) {\n    if (hasProperty(step, prop)) {\n        return parseBoolean(step, prop);\n    }\n    return undefined;\n}\nfunction parseString(step, prop) {\n    if (hasProperty(step, prop)) {\n        const maybeString = step[prop];\n        if (isString(maybeString)) {\n            return maybeString;\n        }\n    }\n    throw new Error(`Step.${prop} is not a string`);\n}\nfunction parseSelectors(step) {\n    if (!hasProperty(step, 'selectors')) {\n        throw new Error('Step does not have required selectors');\n    }\n    if (!isArray(step.selectors)) {\n        throw new Error('Step selectors are not an array');\n    }\n    if (step.selectors.length === 0) {\n        throw new Error('Step does not have required selectors');\n    }\n    return step.selectors.map((s) => {\n        if (!isString(s) && !isArray(s)) {\n            throw new Error('Selector is not an array or string');\n        }\n        if (isArray(s)) {\n            return s.map((sub) => {\n                if (!isString(sub)) {\n                    throw new Error('Selector element is not a string');\n                }\n                return sub;\n            });\n        }\n        return s;\n    });\n}\nfunction parseOptionalSelectors(step) {\n    if (!hasProperty(step, 'selectors')) {\n        return undefined;\n    }\n    return parseSelectors(step);\n}\nfunction parseAssertedEvent(event) {\n    if (!isObject(event)) {\n        throw new Error('Asserted event is not an object');\n    }\n    if (!hasProperty(event, 'type')) {\n        throw new Error('Asserted event is missing type');\n    }\n    if (event.type === AssertedEventType.Navigation) {\n        return {\n            type: AssertedEventType.Navigation,\n            url: parseOptionalString(event, 'url'),\n            title: parseOptionalString(event, 'title'),\n        };\n    }\n    throw new Error('Unknown assertedEvent type');\n}\nfunction parseAssertedEvents(events) {\n    if (!isArray(events)) {\n        return undefined;\n    }\n    return events.map(parseAssertedEvent);\n}\nfunction parseBaseStep(type, step) {\n    if (hasProperty(step, 'timeout') &&\n        isNumber(step.timeout) &&\n        !validTimeout(step.timeout)) {\n        throw new Error(timeoutErrorMessage);\n    }\n    return {\n        type,\n        assertedEvents: hasProperty(step, 'assertedEvents')\n            ? parseAssertedEvents(step.assertedEvents)\n            : undefined,\n        timeout: hasProperty(step, 'timeout') && isNumber(step.timeout)\n            ? step.timeout\n            : undefined,\n    };\n}\nfunction parseStepWithTarget(type, step) {\n    return {\n        ...parseBaseStep(type, step),\n        target: parseTarget(step),\n    };\n}\nfunction parseStepWithFrame(type, step) {\n    return {\n        ...parseStepWithTarget(type, step),\n        frame: parseFrame(step),\n    };\n}\nfunction parseStepWithSelectors(type, step) {\n    return {\n        ...parseStepWithFrame(type, step),\n        selectors: parseSelectors(step),\n    };\n}\nfunction parseClickAttributes(step) {\n    const attributes = {\n        offsetX: parseNumber(step, 'offsetX'),\n        offsetY: parseNumber(step, 'offsetY'),\n        duration: parseOptionalNumber(step, 'duration'),\n    };\n    const deviceType = parseOptionalString(step, 'deviceType');\n    if (deviceType) {\n        if (!isKnownDeviceType(deviceType)) {\n            throw new Error(`'deviceType' for click steps must be one of the following: ${[\n                ...pointerDeviceTypes,\n            ].join(', ')}`);\n        }\n        attributes.deviceType = deviceType;\n    }\n    const button = parseOptionalString(step, 'button');\n    if (button) {\n        if (!isKnownMouseButton(button)) {\n            throw new Error(`'button' for click steps must be one of the following: ${[\n                ...mouseButtonMap.keys(),\n            ].join(', ')}`);\n        }\n        attributes.button = button;\n    }\n    return attributes;\n}\nfunction parseClickStep(step) {\n    return {\n        ...parseStepWithSelectors(StepType.Click, step),\n        ...parseClickAttributes(step),\n        type: StepType.Click,\n    };\n}\nfunction parseDoubleClickStep(step) {\n    return {\n        ...parseStepWithSelectors(StepType.DoubleClick, step),\n        ...parseClickAttributes(step),\n        type: StepType.DoubleClick,\n    };\n}\nfunction parseHoverStep(step) {\n    return {\n        ...parseStepWithSelectors(StepType.Hover, step),\n        type: StepType.Hover,\n    };\n}\nfunction parseChangeStep(step) {\n    return {\n        ...parseStepWithSelectors(StepType.Change, step),\n        type: StepType.Change,\n        value: parseString(step, 'value'),\n    };\n}\nfunction parseKeyDownStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.KeyDown, step),\n        type: StepType.KeyDown,\n        // TODO: type-check keys.\n        key: parseString(step, 'key'),\n    };\n}\nfunction parseKeyUpStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.KeyUp, step),\n        type: StepType.KeyUp,\n        // TODO: type-check keys.\n        key: parseString(step, 'key'),\n    };\n}\nfunction parseEmulateNetworkConditionsStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.EmulateNetworkConditions, step),\n        type: StepType.EmulateNetworkConditions,\n        download: parseNumber(step, 'download'),\n        upload: parseNumber(step, 'upload'),\n        latency: parseNumber(step, 'latency'),\n    };\n}\nfunction parseCloseStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.Close, step),\n        type: StepType.Close,\n    };\n}\nfunction parseSetViewportStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.SetViewport, step),\n        type: StepType.SetViewport,\n        width: parseNumber(step, 'width'),\n        height: parseNumber(step, 'height'),\n        deviceScaleFactor: parseNumber(step, 'deviceScaleFactor'),\n        isMobile: parseBoolean(step, 'isMobile'),\n        hasTouch: parseBoolean(step, 'hasTouch'),\n        isLandscape: parseBoolean(step, 'isLandscape'),\n    };\n}\nfunction parseScrollStep(step) {\n    return {\n        ...parseStepWithFrame(StepType.Scroll, step),\n        type: StepType.Scroll,\n        x: parseOptionalNumber(step, 'x'),\n        y: parseOptionalNumber(step, 'y'),\n        selectors: parseOptionalSelectors(step),\n    };\n}\nfunction parseNavigateStep(step) {\n    return {\n        ...parseStepWithTarget(StepType.Navigate, step),\n        type: StepType.Navigate,\n        target: parseTarget(step),\n        url: parseString(step, 'url'),\n    };\n}\nfunction parseWaitForElementStep(step) {\n    const operator = parseOptionalString(step, 'operator');\n    if (operator && operator !== '>=' && operator !== '==' && operator !== '<=') {\n        throw new Error(\"WaitForElement step's operator is not one of '>=','==','<='\");\n    }\n    if (hasProperty(step, 'attributes')) {\n        if (!isObject(step.attributes) ||\n            Object.values(step.attributes).some((attribute) => typeof attribute !== 'string')) {\n            throw new Error(\"WaitForElement step's attribute is not a dictionary of strings\");\n        }\n    }\n    if (hasProperty(step, 'properties')) {\n        if (!isObject(step.properties)) {\n            throw new Error(\"WaitForElement step's attribute is not an object\");\n        }\n    }\n    return {\n        ...parseStepWithSelectors(StepType.WaitForElement, step),\n        type: StepType.WaitForElement,\n        operator: operator,\n        count: parseOptionalNumber(step, 'count'),\n        visible: parseOptionalBoolean(step, 'visible'),\n        attributes: hasProperty(step, 'attributes')\n            ? step.attributes\n            : undefined,\n        properties: hasProperty(step, 'properties')\n            ? step.properties\n            : undefined,\n    };\n}\nfunction parseWaitForExpressionStep(step) {\n    if (!hasProperty(step, 'expression')) {\n        throw new Error('waitForExpression step is missing `expression`');\n    }\n    return {\n        ...parseStepWithFrame(StepType.WaitForExpression, step),\n        type: StepType.WaitForExpression,\n        expression: parseString(step, 'expression'),\n    };\n}\nfunction parseCustomStep(step) {\n    if (!hasProperty(step, 'name')) {\n        throw new Error('customStep is missing name');\n    }\n    if (!isString(step.name)) {\n        throw new Error(\"customStep's name is not a string\");\n    }\n    return {\n        ...parseStepWithFrame(StepType.CustomStep, step),\n        type: StepType.CustomStep,\n        name: step.name,\n        parameters: hasProperty(step, 'parameters') ? step.parameters : undefined,\n    };\n}\nfunction parseStep(step, idx) {\n    if (!isObject(step)) {\n        throw new Error(idx ? `Step ${idx} is not an object` : 'Step is not an object');\n    }\n    if (!hasProperty(step, 'type')) {\n        throw new Error(idx ? `Step ${idx} does not have a type` : 'Step does not have a type');\n    }\n    if (!isString(step.type)) {\n        throw new Error(idx\n            ? `Type of the step ${idx} is not a string`\n            : 'Type of the step is not a string');\n    }\n    switch (step.type) {\n        case StepType.Click:\n            return parseClickStep(step);\n        case StepType.DoubleClick:\n            return parseDoubleClickStep(step);\n        case StepType.Hover:\n            return parseHoverStep(step);\n        case StepType.Change:\n            return parseChangeStep(step);\n        case StepType.KeyDown:\n            return parseKeyDownStep(step);\n        case StepType.KeyUp:\n            return parseKeyUpStep(step);\n        case StepType.EmulateNetworkConditions:\n            return parseEmulateNetworkConditionsStep(step);\n        case StepType.Close:\n            return parseCloseStep(step);\n        case StepType.SetViewport:\n            return parseSetViewportStep(step);\n        case StepType.Scroll:\n            return parseScrollStep(step);\n        case StepType.Navigate:\n            return parseNavigateStep(step);\n        case StepType.CustomStep:\n            return parseCustomStep(step);\n        case StepType.WaitForElement:\n            return parseWaitForElementStep(step);\n        case StepType.WaitForExpression:\n            return parseWaitForExpressionStep(step);\n        default:\n            throw new Error(`Step type ${step.type} is not supported`);\n    }\n}\nfunction parseSteps(steps) {\n    const result = [];\n    if (!isArray(steps)) {\n        throw new Error('Recording `steps` is not an array');\n    }\n    for (const [idx, step] of steps.entries()) {\n        result.push(parseStep(step, idx));\n    }\n    return result;\n}\nfunction cleanUndefined(json) {\n    return JSON.parse(JSON.stringify(json));\n}\nconst minTimeout = 1;\nconst maxTimeout = 30000;\nconst timeoutErrorMessage = `Timeout is not between ${minTimeout} and ${maxTimeout} milliseconds`;\nfunction validTimeout(timeout) {\n    return timeout >= minTimeout && timeout <= maxTimeout;\n}\nfunction parse(data) {\n    if (!isObject(data)) {\n        throw new Error('Recording is not an object');\n    }\n    if (!hasProperty(data, 'title')) {\n        throw new Error('Recording is missing `title`');\n    }\n    if (!isString(data.title)) {\n        throw new Error('Recording `title` is not a string');\n    }\n    if (hasProperty(data, 'timeout') && !isNumber(data.timeout)) {\n        throw new Error('Recording `timeout` is not a number');\n    }\n    if (!hasProperty(data, 'steps')) {\n        throw new Error('Recording is missing `steps`');\n    }\n    if (hasProperty(data, 'timeout') &&\n        isNumber(data.timeout) &&\n        !validTimeout(data.timeout)) {\n        throw new Error(timeoutErrorMessage);\n    }\n    return cleanUndefined({\n        title: data.title,\n        timeout: hasProperty(data, 'timeout') && isNumber(data.timeout)\n            ? data.timeout\n            : undefined,\n        selectorAttribute: hasProperty(data, 'selectorAttribute') && isString(data.selectorAttribute)\n            ? data.selectorAttribute\n            : undefined,\n        steps: parseSteps(data.steps),\n    });\n}\n/**\n * Detects what type of a selector the string contains. For example,\n * `aria/Label` is a SelectorType.ARIA.\n *\n * Note that CSS selectors are special and usually don't require a prefix,\n * therefore, SelectorType.CSS is the default type if other types didn't match.\n */\nfunction getSelectorType(selector) {\n    for (const value of Object.values(SelectorType)) {\n        if (selector.startsWith(`${value}/`)) {\n            return value;\n        }\n    }\n    return SelectorType.CSS;\n}\n/**\n * Converts a selector or an array of selector parts into a Puppeteer selector.\n *\n * @see https://pptr.dev/guides/query-selectors#p-elements\n */\nfunction selectorToPElementSelector(selector) {\n    if (!Array.isArray(selector)) {\n        selector = [selector];\n    }\n    function escape(input) {\n        return input.replace(/['\"()]/g, `\\\\$&`);\n    }\n    const result = selector.map((s) => {\n        switch (getSelectorType(s)) {\n            case SelectorType.ARIA:\n                return `::-p-aria(${escape(s.substring(SelectorType.ARIA.length + 1))})`;\n            case SelectorType.CSS:\n                return s;\n            case SelectorType.XPath:\n                return `::-p-xpath(${escape(s.substring(SelectorType.XPath.length + 1))})`;\n            case SelectorType.Pierce:\n                return `:scope >>> ${s.substring(SelectorType.Pierce.length + 1)}`;\n            case SelectorType.Text:\n                return `::-p-text(${escape(s.substring(SelectorType.Text.length + 1))})`;\n        }\n    });\n    return result.join(' >>>> ');\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass StringifyExtension {\n    async beforeAllSteps(out, flow) { }\n    async afterAllSteps(out, flow) { }\n    async beforeEachStep(out, step, flow) { }\n    async stringifyStep(out, step, flow) { }\n    async afterEachStep(out, step, flow) { }\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\n/**\n * Stringifies a user flow to JSON with source maps.\n *\n * You probably want to strip the source map because not all\n * parsers support comments in JSON.\n */\nclass JSONStringifyExtension extends StringifyExtension {\n    async beforeAllSteps(out, flow) {\n        const copy = {\n            ...flow,\n            steps: undefined,\n        };\n        // Stringify top-level attributes.\n        const text = JSON.stringify(copy, null, out.getIndent());\n        const lines = text.split('\\n');\n        lines.pop();\n        lines[lines.length - 1] += ',';\n        lines.push(out.getIndent() + `\"steps\": [`);\n        out.appendLine(lines.join('\\n')).startBlock().startBlock();\n    }\n    async afterAllSteps(out) {\n        out\n            .endBlock()\n            .endBlock()\n            .appendLine(out.getIndent() + `]`)\n            .appendLine('}');\n    }\n    async stringifyStep(out, step, flow) {\n        const stepText = JSON.stringify(step, null, out.getIndent());\n        if (!flow) {\n            out.appendLine(stepText);\n            return;\n        }\n        const separator = flow.steps.lastIndexOf(step) === flow.steps.length - 1 ? '' : ',';\n        out.appendLine(stepText + separator);\n    }\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass InMemoryLineWriter {\n    #indentation;\n    #currentIndentation = 0;\n    #lines = [];\n    constructor(indentation) {\n        this.#indentation = indentation;\n    }\n    appendLine(line) {\n        const lines = line.split('\\n').map((line) => {\n            const indentedLine = line\n                ? this.#indentation.repeat(this.#currentIndentation) + line.trimEnd()\n                : '';\n            return indentedLine;\n        });\n        this.#lines.push(...lines);\n        return this;\n    }\n    startBlock() {\n        this.#currentIndentation++;\n        return this;\n    }\n    endBlock() {\n        this.#currentIndentation--;\n        if (this.#currentIndentation < 0) {\n            throw new Error('Extra endBlock');\n        }\n        return this;\n    }\n    toString() {\n        // Scripts should end with a final blank line.\n        return this.#lines.join('\\n') + '\\n';\n    }\n    getIndent() {\n        return this.#indentation;\n    }\n    getSize() {\n        return this.#lines.length;\n    }\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\n/**\n * Copyright (c) 2020 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\nfunction formatJSONAsJS(json, indent) {\n    const buffer = [];\n    format(json, buffer, 1, indent);\n    return buffer.join('');\n}\nfunction format(json, buffer = [], level = 1, indent = '  ') {\n    switch (typeof json) {\n        case 'bigint':\n        case 'symbol':\n        case 'function':\n        case 'undefined':\n            throw new Error('Invalid JSON');\n        case 'number':\n        case 'boolean':\n            buffer.push(String(json));\n            break;\n        case 'string':\n            buffer.push(formatAsJSLiteral(json));\n            break;\n        case 'object': {\n            if (json === null) {\n                buffer.push('null');\n            }\n            else if (Array.isArray(json)) {\n                buffer.push('[\\n');\n                for (let i = 0; i < json.length; i++) {\n                    buffer.push(indent.repeat(level));\n                    format(json[i], buffer, level + 1, indent);\n                    if (i !== json.length - 1) {\n                        buffer.push(',');\n                    }\n                    buffer.push('\\n');\n                }\n                buffer.push(indent.repeat(level - 1) + ']');\n            }\n            else {\n                buffer.push('{\\n');\n                const keys = Object.keys(json);\n                for (let i = 0; i < keys.length; i++) {\n                    const key = keys[i];\n                    const value = json[key];\n                    if (value === undefined) {\n                        continue;\n                    }\n                    buffer.push(indent.repeat(level));\n                    buffer.push(key);\n                    buffer.push(': ');\n                    format(value, buffer, level + 1, indent);\n                    if (i !== keys.length - 1) {\n                        buffer.push(',');\n                    }\n                    buffer.push('\\n');\n                }\n                buffer.push(indent.repeat(level - 1) + '}');\n            }\n            break;\n        }\n        default:\n            throw new Error('Unknown object type');\n    }\n    return buffer;\n}\n// Taken from https://source.chromium.org/chromium/chromium/src/+/main:third_party/devtools-frontend/src/front_end/core/platform/string-utilities.ts;l=29;drc=111134437ee51d74433829bed0088f7239e18867.\nconst toHexadecimal = (charCode, padToLength) => {\n    return charCode.toString(16).toUpperCase().padStart(padToLength, '0');\n};\n// Remember to update the third group in the regexps patternsToEscape and\n// patternsToEscapePlusSingleQuote when adding new entries in this map.\nconst escapedReplacements = new Map([\n    ['\\b', '\\\\b'],\n    ['\\f', '\\\\f'],\n    ['\\n', '\\\\n'],\n    ['\\r', '\\\\r'],\n    ['\\t', '\\\\t'],\n    ['\\v', '\\\\v'],\n    [\"'\", \"\\\\'\"],\n    ['\\\\', '\\\\\\\\'],\n    ['<!--', '\\\\x3C!--'],\n    ['<script', '\\\\x3Cscript'],\n    ['</script', '\\\\x3C/script'],\n]);\nconst formatAsJSLiteral = (content) => {\n    const patternsToEscape = /(\\\\|<(?:!--|\\/?script))|(\\p{Control})|(\\p{Surrogate})/gu;\n    const patternsToEscapePlusSingleQuote = /(\\\\|'|<(?:!--|\\/?script))|(\\p{Control})|(\\p{Surrogate})/gu;\n    const escapePattern = (match, pattern, controlChar, loneSurrogate) => {\n        if (controlChar) {\n            if (escapedReplacements.has(controlChar)) {\n                // @ts-ignore https://github.com/microsoft/TypeScript/issues/13086\n                return escapedReplacements.get(controlChar);\n            }\n            const twoDigitHex = toHexadecimal(controlChar.charCodeAt(0), 2);\n            return '\\\\x' + twoDigitHex;\n        }\n        if (loneSurrogate) {\n            const fourDigitHex = toHexadecimal(loneSurrogate.charCodeAt(0), 4);\n            return '\\\\u' + fourDigitHex;\n        }\n        if (pattern) {\n            return escapedReplacements.get(pattern) || '';\n        }\n        return match;\n    };\n    let escapedContent = '';\n    let quote = '';\n    if (!content.includes(\"'\")) {\n        quote = \"'\";\n        escapedContent = content.replace(patternsToEscape, escapePattern);\n    }\n    else if (!content.includes('\"')) {\n        quote = '\"';\n        escapedContent = content.replace(patternsToEscape, escapePattern);\n    }\n    else if (!content.includes('`') && !content.includes('${')) {\n        quote = '`';\n        escapedContent = content.replace(patternsToEscape, escapePattern);\n    }\n    else {\n        quote = \"'\";\n        escapedContent = content.replace(patternsToEscapePlusSingleQuote, escapePattern);\n    }\n    return `${quote}${escapedContent}${quote}`;\n};\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass PuppeteerStringifyExtension extends StringifyExtension {\n    #shouldAppendWaitForElementHelper = false;\n    #targetBrowser;\n    constructor(targetBrowser = 'chrome') {\n        super();\n        this.#targetBrowser = targetBrowser;\n    }\n    async beforeAllSteps(out, flow) {\n        out.appendLine(\"const puppeteer = require('puppeteer'); // v23.0.0 or later\");\n        out.appendLine('');\n        out.appendLine('(async () => {').startBlock();\n        if (this.#targetBrowser === 'firefox') {\n            out.appendLine(`const browser = await puppeteer.launch({browser: 'firefox'});`);\n        }\n        else {\n            out.appendLine('const browser = await puppeteer.launch();');\n        }\n        out.appendLine('const page = await browser.newPage();');\n        out.appendLine(`const timeout = ${flow.timeout || defaultTimeout};`);\n        out.appendLine('page.setDefaultTimeout(timeout);');\n        out.appendLine('');\n        this.#shouldAppendWaitForElementHelper = false;\n    }\n    async afterAllSteps(out, flow) {\n        out.appendLine('');\n        out.appendLine('await browser.close();');\n        out.appendLine('');\n        if (this.#shouldAppendWaitForElementHelper) {\n            for (const line of waitForElementHelper.split('\\n')) {\n                out.appendLine(line);\n            }\n        }\n        out.endBlock().appendLine('})().catch(err => {').startBlock();\n        out.appendLine('console.error(err);');\n        out.appendLine('process.exit(1);');\n        out.endBlock().appendLine('});');\n    }\n    async stringifyStep(out, step, flow) {\n        out.appendLine('{').startBlock();\n        if (step.timeout !== undefined) {\n            out.appendLine(`const timeout = ${step.timeout};`);\n        }\n        this.#appendContext(out, step);\n        const waitForEvents = step.assertedEvents && step.type !== StepType.Navigate;\n        if (waitForEvents) {\n            out.appendLine('const promises = [];');\n            out.appendLine('const startWaitingForEvents = () => {').startBlock();\n            for (const event of step.assertedEvents) {\n                switch (event.type) {\n                    case AssertedEventType.Navigation: {\n                        out.appendLine(`promises.push(${'frame' in step && step.frame ? 'frame' : 'targetPage'}.waitForNavigation());`);\n                        break;\n                    }\n                    default:\n                        throw new Error(`Event type ${event.type} is not supported`);\n                }\n            }\n            out.endBlock().appendLine('}');\n        }\n        this.#appendStepType(out, step);\n        if (waitForEvents) {\n            out.appendLine('await Promise.all(promises);');\n        }\n        out.endBlock().appendLine('}');\n    }\n    #appendTarget(out, target) {\n        if (target === 'main') {\n            out.appendLine('const targetPage = page;');\n        }\n        else {\n            out.appendLine(`const target = await browser.waitForTarget(t => t.url() === ${formatJSONAsJS(target, out.getIndent())}, { timeout });`);\n            out.appendLine('const targetPage = await target.page();');\n            out.appendLine('targetPage.setDefaultTimeout(timeout);');\n        }\n    }\n    #appendFrame(out, path) {\n        out.appendLine('let frame = targetPage.mainFrame();');\n        for (const index of path) {\n            out.appendLine(`frame = frame.childFrames()[${index}];`);\n        }\n    }\n    #appendContext(out, step) {\n        // TODO fix optional target: should it be main?\n        this.#appendTarget(out, step.target || 'main');\n        // TODO fix optional frame: should it be required?\n        if (step.frame) {\n            this.#appendFrame(out, step.frame);\n        }\n    }\n    #appendLocators(out, step, action) {\n        out.appendLine('await puppeteer.Locator.race([').startBlock();\n        out.appendLine(step.selectors\n            .map((s) => {\n            return `${step.frame ? 'frame' : 'targetPage'}.locator(${formatJSONAsJS(selectorToPElementSelector(s), out.getIndent())})`;\n        })\n            .join(',\\n'));\n        out.endBlock().appendLine('])');\n        out.startBlock().appendLine('.setTimeout(timeout)');\n        if (step.assertedEvents?.length) {\n            out.appendLine(`.on('action', () => startWaitingForEvents())`);\n        }\n        action();\n        out.endBlock();\n    }\n    #appendClickStep(out, step) {\n        this.#appendLocators(out, step, () => {\n            out.appendLine('.click({');\n            if (step.duration) {\n                out.appendLine(`  delay: ${step.duration},`);\n            }\n            if (step.button) {\n                out.appendLine(`  button: '${mouseButtonMap.get(step.button)}',`);\n            }\n            out.appendLine('  offset: {');\n            out.appendLine(`    x: ${step.offsetX},`);\n            out.appendLine(`    y: ${step.offsetY},`);\n            out.appendLine('  },');\n            out.appendLine('});');\n        });\n    }\n    #appendDoubleClickStep(out, step) {\n        this.#appendLocators(out, step, () => {\n            out.appendLine('.click({');\n            out.appendLine(`  count: 2,`);\n            if (step.duration) {\n                out.appendLine(`  delay: ${step.duration},`);\n            }\n            if (step.button) {\n                out.appendLine(`  button: '${mouseButtonMap.get(step.button)}',`);\n            }\n            out.appendLine('  offset: {');\n            out.appendLine(`    x: ${step.offsetX},`);\n            out.appendLine(`    y: ${step.offsetY},`);\n            out.appendLine('  },');\n            out.appendLine('});');\n        });\n    }\n    #appendHoverStep(out, step) {\n        this.#appendLocators(out, step, () => {\n            out.appendLine('.hover();');\n        });\n    }\n    #appendChangeStep(out, step) {\n        this.#appendLocators(out, step, () => {\n            out.appendLine(`.fill(${formatJSONAsJS(step.value, out.getIndent())});`);\n        });\n    }\n    #appendEmulateNetworkConditionsStep(out, step) {\n        out.appendLine('await targetPage.emulateNetworkConditions({');\n        out.appendLine(`  offline: ${!step.download && !step.upload},`);\n        out.appendLine(`  downloadThroughput: ${step.download},`);\n        out.appendLine(`  uploadThroughput: ${step.upload},`);\n        out.appendLine(`  latency: ${step.latency},`);\n        out.appendLine('});');\n    }\n    #appendKeyDownStep(out, step) {\n        out.appendLine(`await targetPage.keyboard.down(${formatJSONAsJS(step.key, out.getIndent())});`);\n    }\n    #appendKeyUpStep(out, step) {\n        out.appendLine(`await targetPage.keyboard.up(${formatJSONAsJS(step.key, out.getIndent())});`);\n    }\n    #appendCloseStep(out, step) {\n        out.appendLine('await targetPage.close()');\n    }\n    #appendViewportStep(out, step) {\n        out.appendLine(`await targetPage.setViewport(${formatJSONAsJS({\n            width: step.width,\n            height: step.height,\n        }, out.getIndent())})`);\n    }\n    #appendScrollStep(out, step) {\n        if ('selectors' in step) {\n            this.#appendLocators(out, step, () => {\n                out.appendLine(`.scroll({ scrollTop: ${step.y}, scrollLeft: ${step.x}});`);\n            });\n        }\n        else {\n            out.appendLine(`await targetPage.evaluate((x, y) => { window.scroll(x, y); }, ${step.x}, ${step.y})`);\n        }\n    }\n    #appendStepType(out, step) {\n        switch (step.type) {\n            case StepType.Click:\n                return this.#appendClickStep(out, step);\n            case StepType.DoubleClick:\n                return this.#appendDoubleClickStep(out, step);\n            case StepType.Hover:\n                return this.#appendHoverStep(out, step);\n            case StepType.Change:\n                return this.#appendChangeStep(out, step);\n            case StepType.EmulateNetworkConditions:\n                return this.#appendEmulateNetworkConditionsStep(out, step);\n            case StepType.KeyDown:\n                return this.#appendKeyDownStep(out, step);\n            case StepType.KeyUp:\n                return this.#appendKeyUpStep(out, step);\n            case StepType.Close:\n                return this.#appendCloseStep(out, step);\n            case StepType.SetViewport:\n                return this.#appendViewportStep(out, step);\n            case StepType.Scroll:\n                return this.#appendScrollStep(out, step);\n            case StepType.Navigate:\n                return this.#appendNavigationStep(out, step);\n            case StepType.WaitForElement:\n                return this.#appendWaitForElementStep(out, step);\n            case StepType.WaitForExpression:\n                return this.#appendWaitExpressionStep(out, step);\n            case StepType.CustomStep:\n                return; // TODO: implement these\n            default:\n                return assertAllStepTypesAreHandled(step);\n        }\n    }\n    #appendNavigationStep(out, step) {\n        out.appendLine(`await targetPage.goto(${formatJSONAsJS(step.url, out.getIndent())});`);\n    }\n    #appendWaitExpressionStep(out, step) {\n        out.appendLine(`await ${step.frame ? 'frame' : 'targetPage'}.waitForFunction(${formatJSONAsJS(step.expression, out.getIndent())}, { timeout });`);\n    }\n    #appendWaitForElementStep(out, step) {\n        this.#shouldAppendWaitForElementHelper = true;\n        out.appendLine(`await waitForElement(${formatJSONAsJS(step, out.getIndent())}, ${step.frame ? 'frame' : 'targetPage'}, timeout);`);\n    }\n}\nconst defaultTimeout = 5000;\nconst waitForElementHelper = `async function waitForElement(step, frame, timeout) {\n  const {\n    count = 1,\n    operator = '>=',\n    visible = true,\n    properties,\n    attributes,\n  } = step;\n  const compFn = {\n    '==': (a, b) => a === b,\n    '>=': (a, b) => a >= b,\n    '<=': (a, b) => a <= b,\n  }[operator];\n  await waitForFunction(async () => {\n    const elements = await querySelectorsAll(step.selectors, frame);\n    let result = compFn(elements.length, count);\n    const elementsHandle = await frame.evaluateHandle((...elements) => {\n      return elements;\n    }, ...elements);\n    await Promise.all(elements.map((element) => element.dispose()));\n    if (result && (properties || attributes)) {\n      result = await elementsHandle.evaluate(\n        (elements, properties, attributes) => {\n          for (const element of elements) {\n            if (attributes) {\n              for (const [name, value] of Object.entries(attributes)) {\n                if (element.getAttribute(name) !== value) {\n                  return false;\n                }\n              }\n            }\n            if (properties) {\n              if (!isDeepMatch(properties, element)) {\n                return false;\n              }\n            }\n          }\n          return true;\n\n          function isDeepMatch(a, b) {\n            if (a === b) {\n              return true;\n            }\n            if ((a && !b) || (!a && b)) {\n              return false;\n            }\n            if (!(a instanceof Object) || !(b instanceof Object)) {\n              return false;\n            }\n            for (const [key, value] of Object.entries(a)) {\n              if (!isDeepMatch(value, b[key])) {\n                return false;\n              }\n            }\n            return true;\n          }\n        },\n        properties,\n        attributes\n      );\n    }\n    await elementsHandle.dispose();\n    return result === visible;\n  }, timeout);\n}\n\nasync function querySelectorsAll(selectors, frame) {\n  for (const selector of selectors) {\n    const result = await querySelectorAll(selector, frame);\n    if (result.length) {\n      return result;\n    }\n  }\n  return [];\n}\n\nasync function querySelectorAll(selector, frame) {\n  if (!Array.isArray(selector)) {\n    selector = [selector];\n  }\n  if (!selector.length) {\n    throw new Error('Empty selector provided to querySelectorAll');\n  }\n  let elements = [];\n  for (let i = 0; i < selector.length; i++) {\n    const part = selector[i];\n    if (i === 0) {\n      elements = await frame.$$(part);\n    } else {\n      const tmpElements = elements;\n      elements = [];\n      for (const el of tmpElements) {\n        elements.push(...(await el.$$(part)));\n      }\n    }\n    if (elements.length === 0) {\n      return [];\n    }\n    if (i < selector.length - 1) {\n      const tmpElements = [];\n      for (const el of elements) {\n        const newEl = (await el.evaluateHandle(el => el.shadowRoot ? el.shadowRoot : el)).asElement();\n        if (newEl) {\n          tmpElements.push(newEl);\n        }\n      }\n      elements = tmpElements;\n    }\n  }\n  return elements;\n}\n\nasync function waitForFunction(fn, timeout) {\n  let isActive = true;\n  const timeoutId = setTimeout(() => {\n    isActive = false;\n  }, timeout);\n  while (isActive) {\n    const result = await fn();\n    if (result) {\n      clearTimeout(timeoutId);\n      return;\n    }\n    await new Promise(resolve => setTimeout(resolve, 100));\n  }\n  throw new Error('Timed out');\n}`;\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nconst alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nconst charToIdx = alpha.split('').reduce((acc, char, idx) => {\n    acc.set(char, idx);\n    return acc;\n}, new Map());\nconst LEAST_5_BIT_MASK = 0b011111;\nconst CONTINUATION_BIT_MASK = 0b100000;\nconst MAX_INT = 2147483647;\n/**\n * Encoding variable length integer into base64 (6-bit):\n *\n * 1 N N N N N | 0 N N N N N\n *\n * The first bit indicates if there is more data for the int.\n */\nfunction encodeInt(num) {\n    if (num < 0) {\n        throw new Error('Only postive integers and zero are supported');\n    }\n    if (num > MAX_INT) {\n        throw new Error('Only integers between 0 and ' + MAX_INT + ' are supported');\n    }\n    const result = [];\n    do {\n        let payload = num & LEAST_5_BIT_MASK;\n        num >>>= 5;\n        if (num > 0)\n            payload |= CONTINUATION_BIT_MASK;\n        result.push(alpha[payload]);\n    } while (num !== 0);\n    return result.join('');\n}\nfunction encode(nums) {\n    const parts = [];\n    for (const num of nums) {\n        parts.push(encodeInt(num));\n    }\n    return parts.join('');\n}\nfunction decode(str) {\n    const results = [];\n    const chrs = str.split('');\n    let result = 0;\n    let shift = 0;\n    for (const ch of chrs) {\n        const num = charToIdx.get(ch);\n        result |= (num & LEAST_5_BIT_MASK) << shift;\n        shift += 5;\n        const hasMore = num & CONTINUATION_BIT_MASK;\n        if (!hasMore) {\n            results.push(result);\n            result = 0;\n            shift = 0;\n        }\n    }\n    return results;\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nconst SOURCE_MAP_PREFIX = '//# recorderSourceMap=';\n/**\n * Stringifes an entire recording. The following hooks are invoked with the `flow` parameter containing the entire flow:\n * - `beforeAllSteps` (once)\n * - `beforeEachStep` (per step)\n * - `stringifyStep` (per step)\n * - `afterEachStep` (per step)\n * - `afterAllSteps` (once)\n */\nasync function stringify(flow, opts) {\n    if (!opts) {\n        opts = {};\n    }\n    const ext = opts.extension ?? new PuppeteerStringifyExtension();\n    const out = opts.writer ?? new InMemoryLineWriter(opts.indentation ?? '  ');\n    await ext.beforeAllSteps?.(out, flow);\n    const sourceMap = [1]; // The first int indicates the version.\n    for (const step of flow.steps) {\n        const firstLine = out.getSize();\n        await ext.beforeEachStep?.(out, step, flow);\n        await ext.stringifyStep(out, step, flow);\n        await ext.afterEachStep?.(out, step, flow);\n        const lastLine = out.getSize();\n        sourceMap.push(...[firstLine, lastLine - firstLine]);\n    }\n    await ext.afterAllSteps?.(out, flow);\n    out.appendLine(SOURCE_MAP_PREFIX + encode(sourceMap));\n    return out.toString();\n}\n/**\n * Stringifes a single step. Only the following hooks are invoked with the `flow` parameter as undefined:\n * - `beforeEachStep`\n * - `stringifyStep`\n * - `afterEachStep`\n */\nasync function stringifyStep(step, opts) {\n    if (!opts) {\n        opts = {};\n    }\n    let ext = opts.extension;\n    if (!ext) {\n        ext = new PuppeteerStringifyExtension();\n    }\n    if (!opts.indentation) {\n        opts.indentation = '  ';\n    }\n    const out = opts.writer ?? new InMemoryLineWriter(opts.indentation ?? '  ');\n    await ext.beforeEachStep?.(out, step);\n    await ext.stringifyStep(out, step);\n    await ext.afterEachStep?.(out, step);\n    return out.toString();\n}\nfunction isSourceMapLine(line) {\n    return line.trim().startsWith(SOURCE_MAP_PREFIX);\n}\n/**\n * Extracts a source map from a text.\n */\nfunction parseSourceMap(text) {\n    const lines = text.split('\\n');\n    for (let i = lines.length - 1; i >= 0; i--) {\n        const line = lines[i];\n        if (isSourceMapLine(line)) {\n            return decode(line.trim().substring(SOURCE_MAP_PREFIX.length));\n        }\n    }\n    return;\n}\nfunction stripSourceMap(text) {\n    const lines = text.split('\\n');\n    return lines.filter((line) => !isSourceMapLine(line)).join('\\n');\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass RunnerExtension {\n    async beforeAllSteps(flow) { }\n    async afterAllSteps(flow) { }\n    async beforeEachStep(step, flow) { }\n    async runStep(step, flow) { }\n    async afterEachStep(step, flow) { }\n}\n\nconst comparators = {\n    '==': (a, b) => a === b,\n    '>=': (a, b) => a >= b,\n    '<=': (a, b) => a <= b,\n};\nfunction waitForTimeout(timeout) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, timeout);\n    });\n}\nclass PuppeteerRunnerExtension extends RunnerExtension {\n    browser;\n    page;\n    timeout;\n    constructor(browser, page, opts) {\n        super();\n        this.browser = browser;\n        this.page = page;\n        this.timeout = opts?.timeout || 5000;\n    }\n    async #ensureAutomationEmulatation(pageOrFrame) {\n        try {\n            await pageOrFrame\n                ._client()\n                .send('Emulation.setAutomationOverride', { enabled: true });\n        }\n        catch {\n            // ignore errors as not all versions support this command.\n        }\n    }\n    #getTimeoutForStep(step, flow) {\n        return step.timeout || flow?.timeout || this.timeout;\n    }\n    async runStep(step, flow) {\n        const timeout = this.#getTimeoutForStep(step, flow);\n        const page = this.page;\n        const browser = this.browser;\n        const targetPage = await getTargetPageForStep(browser, page, step, timeout);\n        let targetFrame = null;\n        if (!targetPage && step.target) {\n            targetFrame = await page.waitForFrame(step.target, { timeout });\n        }\n        const targetPageOrFrame = targetFrame || targetPage;\n        if (!targetPageOrFrame) {\n            throw new Error('Target is not found for step: ' + JSON.stringify(step));\n        }\n        await this.#ensureAutomationEmulatation(targetPageOrFrame);\n        const localFrame = await getFrame(targetPageOrFrame, step);\n        await this.runStepInFrame(step, page, targetPageOrFrame, localFrame, timeout);\n    }\n    /**\n     * @internal\n     */\n    async runStepInFrame(step, mainPage, targetPageOrFrame, localFrame, timeout) {\n        let assertedEventsPromise = null;\n        const startWaitingForEvents = () => {\n            assertedEventsPromise = waitForEvents(localFrame, step, timeout);\n        };\n        const locatorRace = this.page.locatorRace;\n        switch (step.type) {\n            case StepType.DoubleClick:\n                await locatorRace(step.selectors.map((selector) => {\n                    return localFrame.locator(selectorToPElementSelector(selector));\n                }))\n                    .setTimeout(timeout)\n                    .on('action', () => startWaitingForEvents())\n                    .click({\n                    count: 2,\n                    button: step.button && mouseButtonMap.get(step.button),\n                    delay: step.duration,\n                    offset: {\n                        x: step.offsetX,\n                        y: step.offsetY,\n                    },\n                });\n                break;\n            case StepType.Click:\n                await locatorRace(step.selectors.map((selector) => {\n                    return localFrame.locator(selectorToPElementSelector(selector));\n                }))\n                    .setTimeout(timeout)\n                    .on('action', () => startWaitingForEvents())\n                    .click({\n                    delay: step.duration,\n                    button: step.button && mouseButtonMap.get(step.button),\n                    offset: {\n                        x: step.offsetX,\n                        y: step.offsetY,\n                    },\n                });\n                break;\n            case StepType.Hover:\n                await locatorRace(step.selectors.map((selector) => {\n                    return localFrame.locator(selectorToPElementSelector(selector));\n                }))\n                    .setTimeout(timeout)\n                    .on('action', () => startWaitingForEvents())\n                    .hover();\n                break;\n            case StepType.EmulateNetworkConditions:\n                {\n                    startWaitingForEvents();\n                    const { download, upload, latency } = step;\n                    await mainPage.emulateNetworkConditions({\n                        offline: !download && !upload,\n                        download,\n                        upload,\n                        latency,\n                    });\n                }\n                break;\n            case StepType.KeyDown:\n                {\n                    startWaitingForEvents();\n                    await mainPage.keyboard.down(step.key);\n                    await waitForTimeout(100);\n                }\n                break;\n            case StepType.KeyUp:\n                {\n                    startWaitingForEvents();\n                    await mainPage.keyboard.up(step.key);\n                    await waitForTimeout(100);\n                }\n                break;\n            case StepType.Close:\n                {\n                    if ('close' in targetPageOrFrame) {\n                        startWaitingForEvents();\n                        await targetPageOrFrame.close();\n                    }\n                }\n                break;\n            case StepType.Change:\n                await locatorRace(step.selectors.map((selector) => {\n                    return localFrame.locator(selectorToPElementSelector(selector));\n                }))\n                    .on('action', () => startWaitingForEvents())\n                    .setTimeout(timeout)\n                    .fill(step.value);\n                break;\n            case StepType.SetViewport: {\n                if ('setViewport' in targetPageOrFrame) {\n                    startWaitingForEvents();\n                    await targetPageOrFrame.setViewport(step);\n                }\n                break;\n            }\n            case StepType.Scroll: {\n                if ('selectors' in step) {\n                    await locatorRace(step.selectors.map((selector) => {\n                        return localFrame.locator(selectorToPElementSelector(selector));\n                    }))\n                        .on('action', () => startWaitingForEvents())\n                        .setTimeout(timeout)\n                        .scroll({\n                        scrollLeft: step.x || 0,\n                        scrollTop: step.y || 0,\n                    });\n                }\n                else {\n                    startWaitingForEvents();\n                    await localFrame.evaluate((x, y) => {\n                        /* c8 ignore start */\n                        window.scroll(x, y);\n                        /* c8 ignore stop */\n                    }, step.x || 0, step.y || 0);\n                }\n                break;\n            }\n            case StepType.Navigate: {\n                startWaitingForEvents();\n                await localFrame.goto(step.url);\n                break;\n            }\n            case StepType.WaitForElement: {\n                try {\n                    startWaitingForEvents();\n                    await waitForElement(step, localFrame, timeout);\n                }\n                catch (err) {\n                    if (err.message === 'Timed out') {\n                        throw new Error('waitForElement timed out. The element(s) could not be found.');\n                    }\n                    else {\n                        throw err;\n                    }\n                }\n                break;\n            }\n            case StepType.WaitForExpression: {\n                startWaitingForEvents();\n                await localFrame.waitForFunction(step.expression, {\n                    timeout,\n                });\n                break;\n            }\n            case StepType.CustomStep: {\n                // TODO implement these steps\n                break;\n            }\n            default:\n                assertAllStepTypesAreHandled(step);\n        }\n        await assertedEventsPromise;\n    }\n}\nclass PuppeteerRunnerOwningBrowserExtension extends PuppeteerRunnerExtension {\n    async afterAllSteps() {\n        await this.browser.close();\n    }\n}\nasync function getFrame(pageOrFrame, step) {\n    let frame = 'mainFrame' in pageOrFrame ? pageOrFrame.mainFrame() : pageOrFrame;\n    if ('frame' in step && step.frame) {\n        for (const index of step.frame) {\n            frame = frame.childFrames()[index];\n        }\n    }\n    return frame;\n}\nasync function getTargetPageForStep(browser, page, step, timeout) {\n    if (!step.target || step.target === 'main') {\n        return page;\n    }\n    const target = await browser.waitForTarget((t) => t.url() === step.target, {\n        timeout,\n    });\n    const targetPage = await target.page();\n    if (!targetPage) {\n        return null;\n    }\n    targetPage.setDefaultTimeout(timeout);\n    return targetPage;\n}\nasync function waitForEvents(pageOrFrame, step, timeout) {\n    const promises = [];\n    if (step.assertedEvents) {\n        for (const event of step.assertedEvents) {\n            switch (event.type) {\n                case AssertedEventType.Navigation: {\n                    promises.push(pageOrFrame.waitForNavigation({\n                        timeout,\n                    }));\n                    continue;\n                }\n                default:\n                    throw new Error(`Event type ${event.type} is not supported`);\n            }\n        }\n    }\n    await Promise.all(promises);\n}\nasync function waitForElement(step, frame, timeout) {\n    const { count = 1, operator = '>=', visible = true, properties, attributes, } = step;\n    const compFn = comparators[operator];\n    await waitForFunction(async () => {\n        const elements = await querySelectorsAll(step.selectors, frame);\n        let result = compFn(elements.length, count);\n        const elementsHandle = await frame.evaluateHandle((...elements) => {\n            return elements;\n        }, ...elements);\n        await Promise.all(elements.map((element) => element.dispose()));\n        if (result && (properties || attributes)) {\n            result = await elementsHandle.evaluate((elements, properties, attributes) => {\n                if (attributes) {\n                    for (const element of elements) {\n                        for (const [name, value] of Object.entries(attributes)) {\n                            if (element.getAttribute(name) !== value) {\n                                return false;\n                            }\n                        }\n                    }\n                }\n                if (properties) {\n                    for (const element of elements) {\n                        if (!isDeepMatch(properties, element)) {\n                            return false;\n                        }\n                    }\n                }\n                return true;\n                function isDeepMatch(a, b) {\n                    if (a === b) {\n                        return true;\n                    }\n                    if ((a && !b) || (!a && b)) {\n                        return false;\n                    }\n                    if (!(a instanceof Object) || !(b instanceof Object)) {\n                        return false;\n                    }\n                    for (const [key, value] of Object.entries(a)) {\n                        if (!isDeepMatch(value, b[key])) {\n                            return false;\n                        }\n                    }\n                    return true;\n                }\n            }, properties, attributes);\n        }\n        await elementsHandle.dispose();\n        return result === visible;\n    }, timeout);\n}\nasync function querySelectorsAll(selectors, frame) {\n    for (const selector of selectors) {\n        const result = await querySelectorAll(selector, frame);\n        if (result.length) {\n            return result;\n        }\n    }\n    return [];\n}\nasync function querySelectorAll(selector, frame) {\n    if (!Array.isArray(selector)) {\n        selector = [selector];\n    }\n    if (!selector.length) {\n        throw new Error('Empty selector provided to querySelectorAll');\n    }\n    let elementHandles = await frame.$$(selector[0]);\n    if (!elementHandles.length) {\n        return [];\n    }\n    for (const part of selector.slice(1, selector.length)) {\n        elementHandles = (await Promise.all(elementHandles.map(async (handle) => {\n            const innerHandle = await handle.evaluateHandle((el) => el.shadowRoot ? el.shadowRoot : el);\n            const elementHandles = await innerHandle.$$(part);\n            innerHandle.dispose();\n            handle.dispose();\n            return elementHandles;\n        }))).flat();\n        if (!elementHandles.length) {\n            return [];\n        }\n    }\n    return elementHandles;\n}\nasync function waitForFunction(fn, timeout) {\n    let isActive = true;\n    const timeoutId = setTimeout(() => {\n        isActive = false;\n    }, timeout);\n    while (isActive) {\n        const result = await fn();\n        if (result) {\n            clearTimeout(timeoutId);\n            return;\n        }\n        await new Promise((resolve) => setTimeout(resolve, 100));\n    }\n    throw new Error('Timed out');\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nasync function _runStepWithHooks(extension, step, flow) {\n    await extension.beforeEachStep?.(step, flow);\n    await extension.runStep(step, flow);\n    await extension.afterEachStep?.(step, flow);\n}\nclass Runner {\n    #flow;\n    #extension;\n    #aborted = false;\n    /**\n     * @internal\n     */\n    constructor(extension) {\n        this.#extension = extension;\n    }\n    abort() {\n        this.#aborted = true;\n    }\n    set flow(flow) {\n        this.#flow = flow;\n    }\n    async runBeforeAllSteps(flow) {\n        await this.#extension.beforeAllSteps?.(flow);\n    }\n    async runAfterAllSteps(flow) {\n        await this.#extension.afterAllSteps?.(flow);\n    }\n    /**\n     * Runs the provided `step` with `beforeEachStep` and `afterEachStep` hooks.\n     * Parameters from the `flow` apply if the `flow` is set.\n     */\n    async runStep(step) {\n        await _runStepWithHooks(this.#extension, step);\n    }\n    /**\n     * Run all the steps in the flow\n     * @returns whether all the steps are run or the execution is aborted\n     */\n    async run() {\n        if (!this.#flow) {\n            throw new Error('Set the flow on the runner instance before calling `run`.');\n        }\n        const flow = this.#flow;\n        this.#aborted = false;\n        await this.#extension.beforeAllSteps?.(flow);\n        if (this.#aborted) {\n            return false;\n        }\n        for (const step of flow.steps) {\n            if (this.#aborted) {\n                await this.#extension.afterAllSteps?.(flow);\n                return false;\n            }\n            await _runStepWithHooks(this.#extension, step, flow);\n        }\n        await this.#extension.afterAllSteps?.(flow);\n        return true;\n    }\n}\nasync function createRunner(flowOrExtension, maybeExtension) {\n    const extension = flowOrExtension instanceof RunnerExtension\n        ? flowOrExtension\n        : maybeExtension;\n    const flow = !(flowOrExtension instanceof RunnerExtension)\n        ? flowOrExtension\n        : undefined;\n    const runner = new Runner(extension ?? (await createPuppeteerRunnerOwningBrowserExtension()));\n    if (flow) {\n        runner.flow = flow;\n    }\n    return runner;\n}\nasync function createPuppeteerRunnerOwningBrowserExtension() {\n    const { default: puppeteer } = await import('puppeteer');\n    const browser = await puppeteer.launch();\n    const page = await browser.newPage();\n    return new PuppeteerRunnerOwningBrowserExtension(browser, page);\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\n/**\n * Stringifies a user flow to a script that uses \\@puppeteer/replay's own API.\n */\nclass PuppeteerReplayStringifyExtension extends StringifyExtension {\n    async beforeAllSteps(out) {\n        out.appendLine(\"import url from 'url';\");\n        out.appendLine(\"import { createRunner } from '@puppeteer/replay';\");\n        out.appendLine('');\n        out.appendLine('export async function run(extension) {').startBlock();\n        out.appendLine('const runner = await createRunner(extension);');\n        out.appendLine('');\n        out.appendLine('await runner.runBeforeAllSteps();');\n        out.appendLine('');\n    }\n    async afterAllSteps(out) {\n        out.appendLine('');\n        out\n            .appendLine('await runner.runAfterAllSteps();')\n            .endBlock()\n            .appendLine('}');\n        out.appendLine('');\n        out\n            .appendLine('if (process && import.meta.url === url.pathToFileURL(process.argv[1]).href) {')\n            .startBlock()\n            .appendLine('run()')\n            .endBlock()\n            .appendLine('}');\n    }\n    async stringifyStep(out, step) {\n        out.appendLine(`await runner.runStep(${formatJSONAsJS(step, out.getIndent())});`);\n    }\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nfunction isNavigationStep(step) {\n    return Boolean(step.type === StepType.Navigate ||\n        step.assertedEvents?.some((event) => event.type === AssertedEventType.Navigation));\n}\nfunction isMobileFlow(flow) {\n    for (const step of flow.steps) {\n        if (step.type === StepType.SetViewport) {\n            return step.isMobile;\n        }\n    }\n    return false;\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass LighthouseStringifyExtension extends PuppeteerStringifyExtension {\n    #isProcessingTimespan = false;\n    async beforeAllSteps(out, flow) {\n        out.appendLine(`const fs = require('fs');`);\n        await super.beforeAllSteps(out, flow);\n        out.appendLine(`const lhApi = await import('lighthouse'); // v10.0.0 or later`);\n        const flags = {\n            screenEmulation: {\n                disabled: true,\n            },\n        };\n        out.appendLine(`const flags = ${formatJSONAsJS(flags, out.getIndent())}`);\n        if (isMobileFlow(flow)) {\n            out.appendLine(`const config = undefined;`);\n        }\n        else {\n            out.appendLine('const config = lhApi.desktopConfig;');\n        }\n        out.appendLine(`const lhFlow = await lhApi.startFlow(page, {name: ${formatJSONAsJS(flow.title, out.getIndent())}, config, flags});`);\n    }\n    async stringifyStep(out, step, flow) {\n        if (step.type === StepType.SetViewport) {\n            await super.stringifyStep(out, step, flow);\n            return;\n        }\n        const isNavigation = isNavigationStep(step);\n        if (isNavigation) {\n            if (this.#isProcessingTimespan) {\n                out.appendLine(`await lhFlow.endTimespan();`);\n                this.#isProcessingTimespan = false;\n            }\n            out.appendLine(`await lhFlow.startNavigation();`);\n        }\n        else if (!this.#isProcessingTimespan) {\n            out.appendLine(`await lhFlow.startTimespan();`);\n            this.#isProcessingTimespan = true;\n        }\n        await super.stringifyStep(out, step, flow);\n        if (isNavigation) {\n            out.appendLine(`await lhFlow.endNavigation();`);\n        }\n    }\n    async afterAllSteps(out, flow) {\n        if (this.#isProcessingTimespan) {\n            out.appendLine(`await lhFlow.endTimespan();`);\n        }\n        out.appendLine(`const lhFlowReport = await lhFlow.generateReport();`);\n        out.appendLine(`fs.writeFileSync(__dirname + '/flow.report.html', lhFlowReport)`);\n        await super.afterAllSteps(out, flow);\n    }\n}\n\n/**\n    Copyright 2022 Google LLC\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        https://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n */\nclass LighthouseRunnerExtension extends PuppeteerRunnerExtension {\n    #isTimespanRunning = false;\n    #isNavigationRunning = false;\n    #lhFlow;\n    async createFlowResult() {\n        if (!this.#lhFlow) {\n            throw new Error('Cannot get flow result before running the flow');\n        }\n        return this.#lhFlow.createFlowResult();\n    }\n    async beforeAllSteps(flow) {\n        await super.beforeAllSteps?.(flow);\n        const { startFlow, desktopConfig } = await import('lighthouse');\n        let config = undefined;\n        if (!isMobileFlow(flow)) {\n            config = desktopConfig;\n        }\n        this.#lhFlow = await startFlow(this.page, {\n            config,\n            flags: { screenEmulation: { disabled: true } },\n            name: flow.title,\n        });\n    }\n    async beforeEachStep(step, flow) {\n        await super.beforeEachStep?.(step, flow);\n        if (step.type === StepType.SetViewport)\n            return;\n        if (isNavigationStep(step)) {\n            if (this.#isTimespanRunning) {\n                await this.#lhFlow.endTimespan();\n                this.#isTimespanRunning = false;\n            }\n            await this.#lhFlow.startNavigation();\n            this.#isNavigationRunning = true;\n        }\n        else if (!this.#isTimespanRunning) {\n            await this.#lhFlow.startTimespan();\n            this.#isTimespanRunning = true;\n        }\n    }\n    async afterEachStep(step, flow) {\n        if (this.#isNavigationRunning) {\n            await this.#lhFlow.endNavigation();\n            this.#isNavigationRunning = false;\n        }\n        await super.afterEachStep?.(step, flow);\n    }\n    async afterAllSteps(flow) {\n        if (this.#isTimespanRunning) {\n            await this.#lhFlow.endTimespan();\n        }\n        await super.afterAllSteps?.(flow);\n    }\n}\n\nexport { AssertedEventType, JSONStringifyExtension, LighthouseRunnerExtension, LighthouseStringifyExtension, PuppeteerReplayStringifyExtension, PuppeteerRunnerExtension, PuppeteerRunnerOwningBrowserExtension, PuppeteerStringifyExtension, Runner, RunnerExtension, Schema, SelectorType, StepType, StringifyExtension, assertAllStepTypesAreHandled, createRunner, formatAsJSLiteral, formatJSONAsJS, getSelectorType, maxTimeout, minTimeout, mouseButtonMap, parse, parseSourceMap, parseStep, pointerDeviceTypes, selectorToPElementSelector, stringify, stringifyStep, stripSourceMap, typeableInputTypes, validTimeout };\n//# sourceMappingURL=main.js.map\n"],
  "mappings": "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",
  "names": ["SelectorType", "StepType", "AssertedEventType", "line", "waitForEvents", "elements", "properties", "attributes", "elementHandles"]
}
