{"version":3,"file":"ContextMenuHelpers.js","sourceRoot":"","sources":["../../../../../front_end/testing/ContextMenuHelpers.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAC7B,OAAO,KAAK,EAAE,MAAM,wBAAwB,CAAC;AAE7C,SAAS,OAAO,CAAC,MAAkB;IACjC,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;IAEtC,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC9F,MAAM,EAAE,CAAC;IACT,OAAO,CAAC,OAAO,EAAE,CAAC;IAClB,OAAO,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC;AAED,MAAM,UAAU,uBAAuB,CAAC,MAAoC;IAC1E,OAAO,OAAO,CAAC,GAAG,EAAE;QAClB,MAAM,CAAC,OAAO,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE;YACrC,OAAO,EAAE,IAAI;YACb,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,qBAAqB,CAAC,OAA+B,EAAE,KAAa;IAClF,OAAO,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAyB,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC;AACnG,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,OAA+B;IAC/D,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAyB,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAe,CAAC,CAAC;AAClG,CAAC;AAED,MAAM,UAAU,wBAAwB,CAAC,OAAgB,EAAE,MAAgB;IACzE,OAAO,OAAO,CAAC,GAAG,EAAE;QAClB,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,aAAa,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;QAC7D,IAAI,MAAM,EAAE,CAAC;YACX,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,OAAgB;IACnD,OAAO,OAAO,CAAC,GAAG,EAAE;QAClB,OAAO,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as UI from '../ui/legacy/legacy.js';\n\nfunction getMenu(action: () => void): UI.ContextMenu.ContextMenu {\n  const sandbox = sinon.createSandbox();\n\n  const contextMenuShow = sandbox.stub(UI.ContextMenu.ContextMenu.prototype, 'show').resolves();\n  action();\n  sandbox.restore();\n  return contextMenuShow.thisValues[0];\n}\n\nexport function getMenuForToolbarButton(button: UI.Toolbar.ToolbarMenuButton): UI.ContextMenu.ContextMenu {\n  return getMenu(() => {\n    button.clicked(new MouseEvent('click', {\n      bubbles: true,\n      cancelable: true,\n    }));\n  });\n}\n\nexport function findMenuItemWithLabel(section: UI.ContextMenu.Section, label: string): UI.ContextMenu.Item|undefined {\n  return section.items.find((item: UI.ContextMenu.Item) => item.buildDescriptor().label === label);\n}\n\nexport function getMenuItemLabels(section: UI.ContextMenu.Section): string[] {\n  return section.items.map((item: UI.ContextMenu.Item) => item.buildDescriptor().label as string);\n}\n\nexport function getContextMenuForElement(element: Element, target?: Element): UI.ContextMenu.ContextMenu {\n  return getMenu(() => {\n    const event = new MouseEvent('contextmenu', {bubbles: true});\n    if (target) {\n      sinon.stub(event, 'target').value(target);\n    }\n    element.dispatchEvent(event);\n  });\n}\n\nexport function getMenuForShiftClick(element: Element): UI.ContextMenu.ContextMenu {\n  return getMenu(() => {\n    element.dispatchEvent(new MouseEvent('click', {shiftKey: true}));\n  });\n}\n"]}