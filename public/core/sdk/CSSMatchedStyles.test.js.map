{"version":3,"file":"CSSMatchedStyles.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/CSSMatchedStyles.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Protocol from '../../generated/protocol.js';\nimport {renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createTarget} from '../../testing/EnvironmentHelpers.js';\nimport {describeWithMockConnection, setMockConnectionResponseHandler} from '../../testing/MockConnection.js';\nimport {getMatchedStyles, ruleMatch} from '../../testing/StyleHelpers.js';\n\nimport * as SDK from './sdk.js';\n\ndescribe('CSSMatchedStyles', () => {\n  describe('computeCSSVariable', () => {\n    const testCssValueEquals = async (text: string, expectedValue: unknown) => {\n      const matchedStyles = await getMatchedStyles({\n        matchedPayload: [\n          ruleMatch(\n              'div',\n              [\n                {name: '--diamond', value: 'var(--diamond-a) var(--diamond-b)'},\n                {name: '--diamond-a', value: 'var(--foo)'},\n                {name: '--diamond-b', value: 'var(--foo)'},\n                {name: '--foo', value: 'active-foo'},\n                {name: '--baz', value: 'active-baz !important', important: true},\n                {name: '--baz', value: 'passive-baz'},\n                {name: '--dark', value: 'darkgrey'},\n                {name: '--empty', value: ''},\n                {name: '--empty2', value: 'var(--empty)'},\n                {name: '--light', value: 'lightgrey'},\n                {name: '--theme', value: 'var(--dark)'},\n                {name: '--shadow', value: '1px var(--theme)'},\n                {name: '--width', value: '1px'},\n                {name: '--a', value: 'a'},\n                {name: '--b', value: 'var(--a)'},\n                {name: '--valid-fallback', value: 'var(--non-existent, fallback-value)'},\n                {name: '--var-reference-in-fallback', value: 'var(--non-existent, var(--foo))'},\n                {name: '--itself', value: 'var(--itself)'},\n                {name: '--itself-complex', value: '10px var(--itself-complex)'},\n                {name: '--cycle-1', value: 'var(--cycle-2)'},\n                {name: '--cycle-2', value: 'var(--cycle-1)'},\n                {name: '--cycle-a', value: 'var(--cycle-b, 50px)'},\n                {name: '--cycle-b', value: 'var(--cycle-a)'},\n                {name: '--cycle-in-fallback', value: 'var(--non-existent, var(--cycle-a))'},\n                {name: '--non-existent-fallback', value: 'var(--non-existent, var(--another-non-existent))'},\n                {name: '--out-of-cycle', value: 'var(--cycle-2, 20px)'},\n                {name: '--non-inherited', value: 'var(--inherited)'},\n                {name: '--also-inherited-overloaded', value: 'this is overloaded here'},\n              ]),\n          ruleMatch(\n              'html',\n              [\n                {name: '--inherited', value: 'var(--also-inherited-overloaded)'},\n                {name: '--also-inherited-overloaded', value: 'inherited and overloaded'},\n              ]),\n        ],\n      });\n\n      const actualValue = matchedStyles.computeCSSVariable(matchedStyles.nodeStyles()[0], text)?.value ?? null;\n      assert.strictEqual(actualValue, expectedValue);\n    };\n\n    it('should correctly compute the value of an expression that uses a variable', async () => {\n      await testCssValueEquals('--foo', 'active-foo');\n      await testCssValueEquals('--baz', 'active-baz !important');\n      await testCssValueEquals('--does-not-exist', null);\n      await testCssValueEquals('--dark', 'darkgrey');\n      await testCssValueEquals('--light', 'lightgrey');\n      await testCssValueEquals('--theme', 'darkgrey');\n      await testCssValueEquals('--shadow', '1px darkgrey');\n      await testCssValueEquals('--width', '1px');\n      await testCssValueEquals('--diamond', 'active-foo active-foo');\n      await testCssValueEquals('--empty', '');\n      await testCssValueEquals('--empty2', '');\n    });\n\n    it('correctly resolves the declaration', async () => {\n      const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.id = 1 as Protocol.DOM.NodeId;\n      node.parentNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.parentNode.id = 2 as Protocol.DOM.NodeId;\n      node.parentNode.parentNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.parentNode.parentNode.id = 3 as Protocol.DOM.NodeId;\n      node.parentNode.parentNode.parentNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.parentNode.parentNode.parentNode.id = 4 as Protocol.DOM.NodeId;\n\n      const matchedStyles = await getMatchedStyles({\n        node,\n        matchedPayload: [ruleMatch('div', [{name: '--foo', value: 'foo1'}])],  // styleFoo1\n        inheritedPayload: [\n          {\n            matchedCSSRules: [ruleMatch('div', [{name: '--bar', value: 'bar'}, {name: '--foo', value: 'foo2'}])],\n          },                                                                        // styleFoo2\n          {matchedCSSRules: [ruleMatch('div', [{name: '--baz', value: 'baz'}])]},   // styleBaz\n          {matchedCSSRules: [ruleMatch('div', [{name: '--foo', value: 'foo3'}])]},  // styleFoo3\n        ],\n        propertyRules: [{\n          origin: Protocol.CSS.StyleSheetOrigin.Regular,\n          style: {\n            cssProperties: [\n              {name: 'syntax', value: '*'},\n              {name: 'inherits', value: 'true'},\n              {name: 'initial-value', value: 'bar0'},\n            ],\n            shorthandEntries: [],\n          },\n          propertyName: {text: '--bar'},\n        }],\n      });\n\n      // Compute the variable value as it is visible to `startingCascade` and compare with the expectation\n      const testComputedVariableValueEquals =\n          (name: string, startingCascade: SDK.CSSStyleDeclaration.CSSStyleDeclaration, expectedValue: string,\n           expectedDeclaration: SDK.CSSProperty.CSSProperty|SDK.CSSMatchedStyles.CSSRegisteredProperty) => {\n            const {value, declaration} = matchedStyles.computeCSSVariable(startingCascade, name)!;\n            assert.strictEqual(value, expectedValue);\n            assert.strictEqual(declaration.declaration, expectedDeclaration);\n          };\n\n      const styles = matchedStyles.nodeStyles();\n      const styleFoo1 = styles.find(style => style.allProperties().find(p => p.value === 'foo1'));\n      const styleFoo2 = styles.find(style => style.allProperties().find(p => p.value === 'foo2'));\n      const styleFoo3 = styles.find(style => style.allProperties().find(p => p.value === 'foo3'));\n      const styleBaz = styles.find(style => style.allProperties().find(p => p.value === 'baz'));\n      assert.exists(styleFoo1);\n      assert.exists(styleFoo2);\n      assert.exists(styleFoo3);\n      assert.exists(styleBaz);\n\n      testComputedVariableValueEquals('--foo', styleFoo1, 'foo1', styleFoo1.leadingProperties()[0]);\n      testComputedVariableValueEquals('--bar', styleFoo1, 'bar', styleFoo2.leadingProperties()[0]);\n      testComputedVariableValueEquals('--foo', styleFoo2, 'foo2', styleFoo2.leadingProperties()[1]);\n      testComputedVariableValueEquals('--bar', styleFoo3, 'bar0', matchedStyles.registeredProperties()[0]);\n      testComputedVariableValueEquals('--foo', styleBaz, 'foo3', styleFoo3.leadingProperties()[0]);\n    });\n\n    it('correctly resolves highlight properties', async () => {\n      const highlightNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      const parent = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      const parentHighlight = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.id = 1 as Protocol.DOM.NodeId;\n      node.parentNode = parent;\n      parent.id = 2 as Protocol.DOM.NodeId;\n      highlightNode.id = 3 as Protocol.DOM.NodeId;\n      highlightNode.parentNode = node;\n      parentHighlight.id = 4 as Protocol.DOM.NodeId;\n      parentHighlight.parentNode = parent;\n      node.pseudoElements.returns(new Map([[Protocol.DOM.PseudoType.Highlight, [highlightNode]]]));\n      parent.pseudoElements.returns(new Map([[Protocol.DOM.PseudoType.Highlight, [parentHighlight]]]));\n\n      const matchedStyles = await getMatchedStyles({\n        node,\n        matchedPayload: [ruleMatch('div.b', [{name: '--color', value: 'green'}])],\n        inheritedPayload: [\n          {\n            matchedCSSRules:\n                [ruleMatch('div.a', [{name: '--color', value: 'yellow'}])],\n          },\n        ],\n        pseudoPayload: [\n          {\n            pseudoType: Protocol.DOM.PseudoType.Highlight,\n            pseudoIdentifier: 'highlight-foo',\n            matches: [ruleMatch('.b::highlight(highlight-foo)', [{name: '--text-color', value: 'var(--color)'}])],\n          },\n        ],\n        inheritedPseudoPayload: [{\n          pseudoElements: [{\n            pseudoType: Protocol.DOM.PseudoType.Highlight,\n            pseudoIdentifier: 'highlight-foo',\n            matches: [ruleMatch(\n                '.a::highlight(highlight-foo)',\n                [{name: '--color', value: 'blue'},])],\n          }]\n        }]\n      });\n\n      // Compute the variable value as it is visible to `startingCascade` and compare with the expectation\n      const testComputedVariableValueEquals =\n          (name: string, startingCascade: SDK.CSSStyleDeclaration.CSSStyleDeclaration, expectedValue: string) => {\n            const {value} = matchedStyles.computeCSSVariable(startingCascade, name)!;\n            assert.strictEqual(value, expectedValue);\n          };\n\n      const styles = matchedStyles.customHighlightPseudoStyles('highlight-foo');\n      assert.lengthOf(styles, 2);\n      const highlightStyle = styles[0];\n      testComputedVariableValueEquals('--text-color', highlightStyle, 'green');\n    });\n\n    it('correctly resolves variables in pseudo elements', async () => {\n      const afterNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.id = 1 as Protocol.DOM.NodeId;\n      afterNode.id = 2 as Protocol.DOM.NodeId;\n      afterNode.parentNode = node;\n      node.pseudoElements.returns(new Map([[Protocol.DOM.PseudoType.After, [afterNode]]]));\n\n      const matchedStyles = await getMatchedStyles({\n        node,\n        matchedPayload: [ruleMatch('div.b', [{name: '--color', value: 'green'}, {name: '--bg-color', value: 'red'}])],\n        pseudoPayload: [\n          {\n            pseudoType: Protocol.DOM.PseudoType.After,\n            matches: [ruleMatch(\n                '.b::after',\n                [\n                  {name: '--color', value: 'blue'},\n                  {name: '--color2', value: 'var(--color)'},\n                  {name: '--color3', value: 'var(--bg-color)'},\n                ])],\n          },\n        ],\n      });\n\n      // Compute the variable value as it is visible to `startingCascade` and compare with the expectation\n      const testComputedVariableValueEquals =\n          (name: string, startingCascade: SDK.CSSStyleDeclaration.CSSStyleDeclaration, expectedValue: string) => {\n            const {value} = matchedStyles.computeCSSVariable(startingCascade, name)!;\n            assert.strictEqual(value, expectedValue);\n          };\n\n      const styles = matchedStyles.pseudoStyles(Protocol.DOM.PseudoType.After);\n      assert.lengthOf(styles, 1);\n      const pseudoStyle = styles[0];\n      testComputedVariableValueEquals('--color', pseudoStyle, 'blue');\n      testComputedVariableValueEquals('--color2', pseudoStyle, 'blue');\n      testComputedVariableValueEquals('--color3', pseudoStyle, 'red');\n    });\n\n    describe('cyclic references', () => {\n      it('should return `null` when the variable references itself', async () => {\n        await testCssValueEquals('--itself', null);\n        await testCssValueEquals('--itself-complex', null);\n      });\n\n      it('should return `null` when there is a simple cycle (1->2->1)', async () => {\n        await testCssValueEquals('--cycle-1', null);\n      });\n\n      it('should return `null` if the var reference is inside the cycle', async () => {\n        await testCssValueEquals('--cycle-a', null);\n      });\n\n      it('should return fallback value if the expression is not inside the cycle', async () => {\n        await testCssValueEquals('--out-of-cycle', '20px');\n      });\n    });\n\n    describe('var references inside fallback', () => {\n      it('should resolve a `var()` reference inside fallback value too', async () => {\n        await testCssValueEquals('--var-reference-in-fallback', 'active-foo');\n      });\n\n      it('should return null when the fallback value contains a cyclic reference', async () => {\n        await testCssValueEquals('--cycle-in-fallback', null);\n      });\n\n      it('should return null when the fallback value is non existent too', async () => {\n        await testCssValueEquals('--non-existent-fallback', null);\n      });\n    });\n\n    it('should resolve a `var()` reference with nothing else', async () => {\n      await testCssValueEquals('--a', 'a');\n    });\n\n    it('should resolve a `var()` reference until no `var()` references left', async () => {\n      await testCssValueEquals('--b', 'a');\n    });\n\n    it('should resolve to fallback if the referenced variable does not exist', async () => {\n      await testCssValueEquals('--valid-fallback', 'fallback-value');\n    });\n\n    it('should correctly resolve the `var()` reference for complex inheritance case', async () => {\n      await testCssValueEquals('--non-inherited', 'inherited and overloaded');\n    });\n\n    it('resolves vars with css keywords', async () => {\n      const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.id = 1 as Protocol.DOM.NodeId;\n      const parent = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      parent.id = 2 as Protocol.DOM.NodeId;\n      node.parentNode = parent;\n      const matchedStyles = await getMatchedStyles({\n        matchedPayload: [ruleMatch('div', [{name: '--color', value: 'inherit'}])],\n        inheritedPayload: [{matchedCSSRules: [ruleMatch('div', [{name: '--color', value: 'inherited-color'}])]}],\n        node\n      });\n      assert.strictEqual(\n          matchedStyles.computeCSSVariable(matchedStyles.nodeStyles()[0], '--color')?.value, 'inherited-color');\n    });\n\n    it('correcty handles cycles', async () => {\n      async function compute(name: string, styleRules: string[], inheritedRules: string[][]) {\n        const ruleToRuleMatch = (rule: string, index: number) => ruleMatch(\n            `.${index}`,\n            rule.split(';')\n                .filter(decl => decl.trim())\n                .map(decl => decl.split(':'))\n                .map(decl => ({name: decl[0].trim(), value: decl.slice(1).join(':').trim()})));\n        const matchedPayload = styleRules.map(ruleToRuleMatch);\n        const inheritedPayload = inheritedRules.map(\n            ruleTexts => ({matchedCSSRules: ruleTexts.map((rule, i) => ruleToRuleMatch(rule, i + styleRules.length))}));\n\n        const matchedStyles = await getMatchedStyles({matchedPayload, inheritedPayload});\n        return matchedStyles.computeCSSVariable(matchedStyles.nodeStyles()[0], name)?.value ?? null;\n      }\n\n      const simpleCycle = `\n        --a: var(--b);\n        --b: var(--a);\n        `;\n      assert.isNull(await compute('--a', [simpleCycle], []));\n      assert.isNull(await compute('--b', [simpleCycle], []));\n\n      const cycleOnUnusedFallback = `\n        --a: 2;\n        --b: var(--a, var(--c));\n        --c: var(--b);\n        `;\n      assert.strictEqual(await compute('--a', [cycleOnUnusedFallback], []), '2');\n      assert.strictEqual(await compute('--b', [cycleOnUnusedFallback], []), '2');\n      assert.strictEqual(await compute('--c', [cycleOnUnusedFallback], []), '2');\n\n      const simpleCycleWithFallbacks = `\n        --a: var(--b, 1);\n        --b: var(--a, 2);\n        `;\n      assert.isNull(await compute('--a', [simpleCycleWithFallbacks], []));\n      assert.isNull(await compute('--b', [simpleCycleWithFallbacks], []));\n\n      const longerCycle = `\n        --a: var(--b);\n        --b: var(--c);\n        --c: var(--a);\n        `;\n      assert.isNull(await compute('--a', [longerCycle], []));\n      assert.isNull(await compute('--b', [longerCycle], []));\n      assert.isNull(await compute('--c', [longerCycle], []));\n\n      const longerCycleWithFallbacks = `\n        --a: var(--b, 2);\n        --b: var(--c, 3);\n        --c: var(--a, 4);\n        `;\n      assert.isNull(await compute('--a', [longerCycleWithFallbacks], []));\n      assert.isNull(await compute('--b', [longerCycleWithFallbacks], []));\n      assert.isNull(await compute('--c', [longerCycleWithFallbacks], []));\n\n      const pointingIntoCycle = `\n        ${longerCycle}\n        --d: var(--a);\n        --e: var(--b);\n        `;\n      assert.isNull(await compute('--a', [pointingIntoCycle], []));\n      assert.isNull(await compute('--b', [pointingIntoCycle], []));\n      assert.isNull(await compute('--c', [pointingIntoCycle], []));\n      assert.isNull(await compute('--d', [pointingIntoCycle], []));\n      assert.isNull(await compute('--e', [pointingIntoCycle], []));\n\n      const pointingIntoCycleWithFallback = `\n        ${longerCycle}\n        --d: var(--a, 4);\n        --e: var(--b, 5);\n        `;\n      assert.isNull(await compute('--a', [pointingIntoCycleWithFallback], []));\n      assert.isNull(await compute('--b', [pointingIntoCycleWithFallback], []));\n      assert.isNull(await compute('--c', [pointingIntoCycleWithFallback], []));\n      assert.strictEqual(await compute('--d', [pointingIntoCycleWithFallback], []), '4');\n      assert.strictEqual(await compute('--e', [pointingIntoCycleWithFallback], []), '5');\n\n      const multipleEdges = `\n        --a: var(--b);\n        --b: var(--c) var(--d);\n        --c: var(--a) var(--b);\n        --d: var(--c);\n        `;\n      assert.isNull(await compute('--a', [multipleEdges], []));\n      assert.isNull(await compute('--b', [multipleEdges], []));\n      assert.isNull(await compute('--c', [multipleEdges], []));\n      assert.isNull(await compute('--d', [multipleEdges], []));\n\n      const pointingIntoMultipleEdgeCycle = `\n        ${multipleEdges}\n        --e: var(--c) var(--d);\n        `;\n      assert.isNull(await compute('--a', [pointingIntoMultipleEdgeCycle], []));\n      assert.isNull(await compute('--b', [pointingIntoMultipleEdgeCycle], []));\n      assert.isNull(await compute('--c', [pointingIntoMultipleEdgeCycle], []));\n      assert.isNull(await compute('--d', [pointingIntoMultipleEdgeCycle], []));\n      assert.isNull(await compute('--e', [pointingIntoMultipleEdgeCycle], []));\n\n      const pointingIntoMultipleEdgeCycleWithFallback = `\n        ${multipleEdges}\n        --e: var(--c, 4) var(--d, 5);\n        `;\n      assert.isNull(await compute('--a', [pointingIntoMultipleEdgeCycleWithFallback], []));\n      assert.isNull(await compute('--b', [pointingIntoMultipleEdgeCycleWithFallback], []));\n      assert.isNull(await compute('--c', [pointingIntoMultipleEdgeCycleWithFallback], []));\n      assert.isNull(await compute('--d', [pointingIntoMultipleEdgeCycleWithFallback], []));\n      assert.strictEqual(await compute('--e', [pointingIntoMultipleEdgeCycleWithFallback], []), '4 5');\n\n      const multipleCyclesWithFallback = `\n        ${longerCycle}\n        --d: var(--e);\n        --e: var(--f);\n        --f: var(--d);\n        --g: var(--a, var(--d, 5));\n        `;\n      assert.isNull(await compute('--a', [multipleCyclesWithFallback], []));\n      assert.isNull(await compute('--b', [multipleCyclesWithFallback], []));\n      assert.isNull(await compute('--c', [multipleCyclesWithFallback], []));\n      assert.isNull(await compute('--d', [multipleCyclesWithFallback], []));\n      assert.isNull(await compute('--e', [multipleCyclesWithFallback], []));\n      assert.isNull(await compute('--f', [multipleCyclesWithFallback], []));\n      assert.strictEqual(await compute('--g', [multipleCyclesWithFallback], []), '5');\n\n      const notACycle = `\n        --a: var(--b, 1);\n        `;\n      const inherited = `\n        --a: var(--b);\n        --b: var(--a);\n        `;\n      assert.strictEqual(await compute('--a', [notACycle], [[inherited]]), '1');\n      assert.isNull(await compute('--b', [notACycle], [[inherited]]));\n    });\n  });\n\n  it('does not hide inherited rules that also apply directly to the node if it contains custom properties',\n     async () => {\n       const parentNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n       parentNode.id = 0 as Protocol.DOM.NodeId;\n       const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n       node.parentNode = parentNode;\n       node.id = 1 as Protocol.DOM.NodeId;\n       const startColumn = 0, endColumn = 1;\n       const matchedPayload = [\n         ruleMatch(\n             'body', [{name: '--var', value: 'blue'}], {range: {startLine: 0, startColumn, endLine: 0, endColumn}}),\n         ruleMatch(\n             '*', [{name: 'color', value: 'var(--var)'}], {range: {startLine: 1, startColumn, endLine: 1, endColumn}}),\n         ruleMatch('*', [{name: '--var', value: 'red'}], {range: {startLine: 2, startColumn, endLine: 2, endColumn}}),\n       ];\n       const inheritedPayload = [{matchedCSSRules: matchedPayload.slice(1)}];\n       const matchedStyles = await getMatchedStyles({\n         node,\n         matchedPayload,\n         inheritedPayload,\n       });\n\n       assert.deepEqual(matchedStyles.nodeStyles().map(style => style.allProperties().map(prop => prop.propertyText)), [\n         ['--var: red;'],\n         ['color: var(--var);'],\n         ['--var: blue;'],\n         ['--var: red;'],\n       ]);\n     });\n\n  describe('resolveGlobalKeyword', () => {\n    const inheritedPayload: Protocol.CSS.InheritedStyleEntry[] = [{\n      matchedCSSRules: [ruleMatch(\n          '.parent',\n          [\n            {name: 'color', value: 'color-inherited'},\n            {name: 'border', value: 'border-inherited'},\n            {name: '--inherited-is-inherited', value: 'inherited-is-inherited'},\n            {name: '--non-inherited-is-inherited', value: 'non-inherited-is-inherited'},\n            {name: '--unregistered-is-inherited', value: 'unregistered-is-inherited'},\n          ])],\n    }];\n    const cssPropertyRegistrations: Protocol.CSS.CSSPropertyRegistration[] = [\n      {\n        propertyName: '--inherited-is-inherited',\n        syntax: '\"<color>\"',\n        initialValue: {text: 'inherited-is-inherited-initial'},\n        inherits: true,\n      },\n      {\n        propertyName: '--inherited-is-not-inherited',\n        syntax: '\"<color>\"',\n        initialValue: {text: 'inherited-is-not-inherited-initial'},\n        inherits: true,\n      },\n      {\n        propertyName: '--non-inherited-is-inherited',\n        syntax: '\"<color>\"',\n        initialValue: {text: 'non-inherited-is-inherited-initial'},\n        inherits: false,\n      },\n      {\n        propertyName: '--non-inherited-is-not-inherited',\n        syntax: '\"<color>\"',\n        initialValue: {text: 'non-inherited-is-not-inherited-initial'},\n        inherits: false,\n      },\n    ];\n\n    function checkResolution(\n        matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n        properties: Array<Protocol.CSS.CSSProperty&{expectedValue?: string}>): void {\n      const ownProperties = new Map(matchedStyles.nodeStyles()\n                                        .find(style => style.type === SDK.CSSStyleDeclaration.Type.Regular)\n                                        ?.allProperties()\n                                        .map(property => [property.name, property]));\n\n      for (const {name: propertyName, expectedValue} of properties) {\n        const property = ownProperties.get(propertyName);\n        assert.isOk(property);\n\n        let resolvedValue: SDK.CSSMatchedStyles.CSSValueSource|null = new SDK.CSSMatchedStyles.CSSValueSource(property);\n        while (resolvedValue?.value && SDK.CSSMetadata.CSSMetadata.isCSSWideKeyword(resolvedValue?.value)) {\n          const {declaration, value} = resolvedValue;\n          if (!(declaration instanceof SDK.CSSProperty.CSSProperty)) {\n            break;\n          }\n          resolvedValue = matchedStyles.resolveGlobalKeyword(declaration, value);\n        }\n        assert.strictEqual(resolvedValue?.value, expectedValue, propertyName);\n      }\n    }\n\n    let node: sinon.SinonStubbedInstance<SDK.DOMModel.DOMNode>;\n\n    beforeEach(() => {\n      node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      node.id = 1 as Protocol.DOM.NodeId;\n      node.nodeType.returns(Node.ELEMENT_NODE);\n      const parent = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n      parent.id = 2 as Protocol.DOM.NodeId;\n      parent.nodeType.returns(Node.ELEMENT_NODE);\n      node.parentNode = parent;\n    });\n\n    it('correctly resolves the keyword `unset`', async () => {\n      const properties = [\n        // Value is undefined\n        {name: 'background-color', value: 'unset', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: 'color', value: 'unset', expectedValue: 'color-inherited'},\n        // Property inherits, Value is not inherited\n        {name: 'font-size', value: 'unset', expectedValue: undefined},\n        // Value is not inherited\n        {name: 'border', value: 'unset', expectedValue: undefined},\n        // Value is not inherited\n        {name: 'margin', value: 'unset', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: '--inherited-is-inherited', value: 'unset', expectedValue: 'inherited-is-inherited'},\n        // Property inherits, Value is not inherited, so fall back to initial\n        {name: '--inherited-is-not-inherited', value: 'unset', expectedValue: 'inherited-is-not-inherited-initial'},\n        // Value is not inherited, so fall back to initial\n        {name: '--non-inherited-is-inherited', value: 'unset', expectedValue: 'non-inherited-is-inherited-initial'},\n        // Value is not inherited, so fall back to initial\n        {\n          name: '--non-inherited-is-not-inherited',\n          value: 'unset',\n          expectedValue: 'non-inherited-is-not-inherited-initial',\n        },\n        // Value is inherited\n        {name: '--unregistered-is-inherited', value: 'unset', expectedValue: 'unregistered-is-inherited'},\n        // Value is undefined\n        {name: '--unregistered-is-not-inherited', value: 'unset', expectedValue: undefined},\n      ];\n      const matchedStyles = await getMatchedStyles(\n          {matchedPayload: [ruleMatch('div', properties)], inheritedPayload, cssPropertyRegistrations, node});\n      checkResolution(matchedStyles, properties);\n    });\n\n    it('correctly resolves the keyword `inherits`', async () => {\n      const properties = [\n        // Value is undefined\n        {name: 'background-color', value: 'inherit', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: 'color', value: 'inherit', expectedValue: 'color-inherited'},\n        // Property inherits, Value is not inherited\n        {name: 'font-size', value: 'inherit', expectedValue: undefined},\n        // Property doesn't inherit, but Value is inherited\n        {name: 'border', value: 'inherit', expectedValue: 'border-inherited'},\n        // Value is not inherited\n        {name: 'margin', value: 'inherit', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: '--inherited-is-inherited', value: 'inherit', expectedValue: 'inherited-is-inherited'},\n        // Property inherits, Value is not inherited, so fall back to initial\n        {name: '--inherited-is-not-inherited', value: 'inherit', expectedValue: 'inherited-is-not-inherited-initial'},\n        // Property doesn't inherit, but Value is inherited\n        {name: '--non-inherited-is-inherited', value: 'inherit', expectedValue: 'non-inherited-is-inherited'},\n        // Value is not inherited, so fall back to initial\n        {\n          name: '--non-inherited-is-not-inherited',\n          value: 'inherit',\n          expectedValue: 'non-inherited-is-not-inherited-initial',\n        },\n        // Value is inherited\n        {name: '--unregistered-is-inherited', value: 'inherit', expectedValue: 'unregistered-is-inherited'},\n        // Value is undefined\n        {name: '--unregistered-is-not-inherited', value: 'inherit', expectedValue: undefined},\n      ];\n      const matchedStyles = await getMatchedStyles(\n          {matchedPayload: [ruleMatch('div', properties)], inheritedPayload, cssPropertyRegistrations, node});\n      checkResolution(matchedStyles, properties);\n    });\n\n    it('correctly resolves the keyword `initial`', async () => {\n      const properties = [\n        // Value is undefined\n        {name: 'background-color', value: 'initial', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: 'color', value: 'initial', expectedValue: undefined},\n        // Property inherits, Value is not inherited\n        {name: 'font-size', value: 'initial', expectedValue: undefined},\n        // Property doesn't inherit\n        {name: 'border', value: 'initial', expectedValue: undefined},\n        // Value is not inherited\n        {name: 'margin', value: 'initial', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: '--inherited-is-inherited', value: 'initial', expectedValue: 'inherited-is-inherited-initial'},\n        // Property inherits, Value is not inherited\n        {name: '--inherited-is-not-inherited', value: 'initial', expectedValue: 'inherited-is-not-inherited-initial'},\n        // Value is not inherited\n        {name: '--non-inherited-is-inherited', value: 'initial', expectedValue: 'non-inherited-is-inherited-initial'},\n        // Value is not inherited\n        {\n          name: '--non-inherited-is-not-inherited',\n          value: 'initial',\n          expectedValue: 'non-inherited-is-not-inherited-initial',\n        },\n        // Value is inherited\n        {name: '--unregistered-is-inherited', value: 'initial', expectedValue: undefined},\n        // Value is undefined\n        {name: '--unregistered-is-not-inherited', value: 'initial', expectedValue: undefined},\n      ];\n      const matchedStyles = await getMatchedStyles(\n          {matchedPayload: [ruleMatch('div', properties)], inheritedPayload, cssPropertyRegistrations, node});\n      checkResolution(matchedStyles, properties);\n    });\n\n    it('correctly resolves the keyword `revert`', async () => {\n      const properties = [\n        // authored -> user\n        {name: 'font-variant', value: 'revert', expectedValue: 'user-font-variant'},\n        // authored -> user -> ua\n        {name: 'font-size', value: 'revert', expectedValue: 'ua-font-size'},\n        // authored -> ua\n        {name: 'font-weight', value: 'revert', expectedValue: 'ua-font-weight'},\n        // authored -> user -> ua -> void\n        {name: 'font-family', value: 'revert', expectedValue: undefined},\n        // authored -> inherited\n        {name: 'color', value: 'revert', expectedValue: 'color-inherited'},\n        {name: '--inherited-is-inherited', value: 'revert', expectedValue: 'inherited-is-inherited'},\n        // authored -> initial\n        {name: '--inherited-is-not-inherited', value: 'revert', expectedValue: 'inherited-is-not-inherited-initial'},\n        {name: '--non-inherited-is-inherited', value: 'revert', expectedValue: 'non-inherited-is-inherited-initial'},\n        {\n          name: '--non-inherited-is-not-inherited',\n          value: 'revert',\n          expectedValue: 'non-inherited-is-not-inherited-initial',\n        },\n      ];\n      const userRule = ruleMatch('div', [\n        {name: 'font-variant', value: 'user-font-variant'},\n        {name: 'font-size', value: 'revert'},\n        {name: 'font-family', value: 'revert'},\n      ]);\n      userRule.rule.origin = Protocol.CSS.StyleSheetOrigin.Injected;\n      const uaRule = ruleMatch('div', [\n        {name: 'font-variant', value: 'ua-font-variant'},\n        {name: 'font-size', value: 'ua-font-size'},\n        {name: 'font-weight', value: 'ua-font-weight'},\n        {name: 'font-family', value: 'revert'},\n      ]);\n      uaRule.rule.origin = Protocol.CSS.StyleSheetOrigin.UserAgent;\n      const matchedStyles = await getMatchedStyles({\n        matchedPayload: [uaRule, userRule, ruleMatch('div', properties)],\n        inheritedPayload,\n        cssPropertyRegistrations,\n        node\n      });\n      checkResolution(matchedStyles, properties);\n    });\n\n    it('correctly resolves the keyword `revert-layer`', async () => {\n      const inlinePayload = ruleMatch('', [{name: '--element-attached', value: 'revert-layer'}]).rule.style;\n      const properties = [\n        {name: '--element-attached', value: 'author-origin', expectedValue: 'author-origin'},\n        {name: 'font-family', value: 'revert-layer', expectedValue: 'next-layer'},\n        {name: 'font-weight', value: 'revert-layer', expectedValue: 'one-more-layer'},\n        // Value is undefined\n        {name: 'background-color', value: 'revert-layer', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: 'color', value: 'revert-layer', expectedValue: 'color-inherited'},\n        // Property inherits, Value is not inherited\n        {name: 'font-size', value: 'revert-layer', expectedValue: undefined},\n        // Property doesn't inherit\n        {name: 'border', value: 'revert-layer', expectedValue: undefined},\n        // Value is not inherited\n        {name: 'margin', value: 'revert-layer', expectedValue: undefined},\n        // Property inherits, Value is inherited\n        {name: '--inherited-is-inherited', value: 'revert-layer', expectedValue: 'inherited-is-inherited'},\n        // Property inherits, Value is not inherited\n        {\n          name: '--inherited-is-not-inherited',\n          value: 'revert-layer',\n          expectedValue: 'inherited-is-not-inherited-initial',\n        },\n        // Value is not inherited\n        {\n          name: '--non-inherited-is-inherited',\n          value: 'revert-layer',\n          expectedValue: 'non-inherited-is-inherited-initial',\n        },\n        // Value is not inherited\n        {\n          name: '--non-inherited-is-not-inherited',\n          value: 'revert-layer',\n          expectedValue: 'non-inherited-is-not-inherited-initial',\n        },\n        // Value is inherited\n        {name: '--unregistered-is-inherited', value: 'revert-layer', expectedValue: 'unregistered-is-inherited'},\n        // Value is undefined\n        {name: '--unregistered-is-not-inherited', value: 'revert-layer', expectedValue: undefined},\n      ];\n\n      const mainRule = ruleMatch('div', properties);\n      mainRule.rule.layers = [{text: 'layer1'}];\n      const sameLayer = ruleMatch('div', [{name: 'font-family', value: 'same-layer'}]);\n      sameLayer.rule.layers = mainRule.rule.layers;\n      const nextLayer = ruleMatch('div', [{name: 'font-family', value: 'next-layer'}]);\n      nextLayer.rule.layers = [{text: 'layer2'}];\n      const oneMoreLayer = ruleMatch('div', [{name: 'font-weight', value: 'one-more-layer'}]);\n      oneMoreLayer.rule.layers = [{text: 'outer'}, {text: 'layer3'}];\n      const uaRule = ruleMatch('div', [{name: 'font-variant', value: 'ua-font-variant'}]);\n      uaRule.rule.origin = Protocol.CSS.StyleSheetOrigin.UserAgent;\n      const matchedStyles = await getMatchedStyles({\n        inlinePayload,\n        matchedPayload: [uaRule, oneMoreLayer, nextLayer, sameLayer, mainRule],\n        inheritedPayload,\n        cssPropertyRegistrations,\n        node,\n      });\n      checkResolution(matchedStyles, properties);\n\n      // Check for inline style\n      const inlineProperty = matchedStyles.nodeStyles()\n                                 .find(style => style.type === SDK.CSSStyleDeclaration.Type.Inline)\n                                 ?.allProperties()\n                                 ?.find(property => property.name === '--element-attached');\n      assert.isOk(inlineProperty);\n      const resolved = matchedStyles.resolveGlobalKeyword(inlineProperty, SDK.CSSMetadata.CSSWideKeyword.REVERT_LAYER);\n      assert.strictEqual(resolved?.value, 'author-origin');\n    });\n  });\n\n  it('can correctly resolve properties by name', async () => {\n    const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    node.id = 1 as Protocol.DOM.NodeId;\n    node.nodeType.returns(Node.ELEMENT_NODE);\n    const parent = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    parent.id = 2 as Protocol.DOM.NodeId;\n    parent.nodeType.returns(Node.ELEMENT_NODE);\n    node.parentNode = parent;\n    const matchedPayload = [\n      // Property is found in the same rule\n      ruleMatch('div', {'--a': 'A', '--b': 'B'}),\n      // ... in a sibling rule\n      ruleMatch('div', {'--c': 'C', '--d': 'D'}),\n    ];\n    const inheritedPayload = [{\n      matchedCSSRules: [\n        // ... in an inherited rule\n        ruleMatch('div', {'--e': 'E'}),\n        ruleMatch('div', {'--f': 'F'}),\n        ruleMatch('div', {'background-color': 'x'}),\n        ruleMatch('div', {color: 'y'}),\n      ]\n    }];\n    const matchedStyles = await getMatchedStyles({node, matchedPayload, inheritedPayload});\n\n    const styles = matchedStyles.nodeStyles();\n    assert.lengthOf(styles, 5);\n    assert.isNull(matchedStyles.resolveProperty('--z', styles[0]));\n    assert.strictEqual(matchedStyles.resolveProperty('--a', styles[0])?.value, 'A');\n    assert.strictEqual(matchedStyles.resolveProperty('--b', styles[0])?.value, 'B');\n    assert.strictEqual(matchedStyles.resolveProperty('--a', styles[1])?.value, 'A');\n    assert.strictEqual(matchedStyles.resolveProperty('--b', styles[1])?.value, 'B');\n    assert.strictEqual(matchedStyles.resolveProperty('--e', styles[0])?.value, 'E');\n    assert.strictEqual(matchedStyles.resolveProperty('--f', styles[0])?.value, 'F');\n    assert.strictEqual(matchedStyles.resolveProperty('--e', styles[1])?.value, 'E');\n    assert.strictEqual(matchedStyles.resolveProperty('--f', styles[1])?.value, 'F');\n    assert.strictEqual(matchedStyles.resolveProperty('color', styles[0])?.value, 'y');\n    assert.isNull(matchedStyles.resolveProperty('background-color', styles[0]));\n  });\n\n  it('reads attributes from the parent node of a pseudo-element', async () => {\n    const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    node.id = 1 as Protocol.DOM.NodeId;\n    node.nodeType.returns(Node.ELEMENT_NODE);\n    node.getAttribute.callsFake((name: string) => `parent-${name}`);\n    const pseudoElement = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    pseudoElement.id = 2 as Protocol.DOM.NodeId;\n    pseudoElement.nodeType.returns(Node.ELEMENT_NODE);\n    pseudoElement.parentNode = node;\n    pseudoElement.pseudoType.returns('before');\n    const matchedStyles = await getMatchedStyles({\n      matchedPayload: [ruleMatch('div::before', {content: 'attr(data-content)'})],\n      node: pseudoElement,\n    });\n\n    const property = matchedStyles.rawAttributeValueFromStyle(matchedStyles.nodeStyles()[0], 'data-content');\n    assert.strictEqual(property, 'parent-data-content');\n  });\n\n  it('evaluates variables with attr() calls in the same way as blink', async () => {\n    const attributes = [\n      {name: 'data-test-nonexistent', value: 'attr(data-nonexistent)'},\n      {name: 'data-test-nonexistent-raw-string', value: 'attr(data-nonexistent raw-string)'},\n      {name: 'data-test-empty', value: ''},\n      {name: 'data-test-self-loop', value: 'attr(data-test-self-loop)'},\n      {name: 'data-test-loop-1', value: 'attr(data-test-loop-2 type(<length>), 1px)'},\n      {name: 'data-test-loop-2', value: 'var(--test-loop-1, 2px)'},\n      {name: 'data-test-loop-indirect-2', value: 'attr(data-test-loop-1 type(<length>), 6px)'},\n      {name: 'data-test-number', value: '70'},\n      {name: 'data-test-length', value: 'attr(data-test-number in)'},\n      {name: 'data-test-bad-unit', value: 'attr(data-test-number parsecs, 2px)'},\n      {name: 'data-test-bad-type', value: 'attr(data-test-number type(<nomber>), 2)'},\n      {name: 'data-cant-parse', value: 'attr('},\n    ];\n    const variables = [\n      {name: '--test-missing', value: 'attr(data-nonexistent)'},\n      {name: '--test-missing-fallback', value: 'attr(data-nonexistent, 2px)'},\n      {name: '--test-missing-var-indirect', value: 'var(--test-missing, 2px)'},\n      {name: '--test-missing-attr-indirect-raw', value: 'attr(data-test-nonexistent, 2px)'},\n      {name: '--test-missing-attr-indirect', value: 'attr(data-test-nonexistent type(*), 2px)'},\n      {name: '--test-missing-raw-string', value: 'attr(data-nonexistent raw-string)'},\n      {name: '--test-missing-raw-string-fallback', value: 'attr(data-nonexistent raw-string, 2px)'},\n      {name: '--test-missing-raw-string-var-indirect', value: 'var(--test-missing-raw-string, 2px)'},\n      {name: '--test-missing-raw-string-attr-indirect', value: 'attr(data-test-nonexistent-raw-string, 2px)'},\n      {name: '--test-empty-any', value: 'attr(data-test-empty type(*))'},\n      {name: '--test-empty-number', value: 'attr(data-test-empty type(<number>))'},\n      {name: '--test-empty-any-fallback', value: 'attr(data-test-empty type(*), 2px)'},\n      {name: '--test-empty-number-fallback', value: 'attr(data-test-empty type(<number>), 2px)'},\n      {name: '--test-self-loop', value: 'attr(data-test-self-loop type(*))'},\n      {name: '--test-self-loop-raw', value: 'attr(data-test-self-loop)'},\n      {name: '--test-self-loop-fallback', value: 'attr(data-test-self-loop type(*), 2px)'},\n      {name: '--test-self-loop-fallback-2', value: 'var(--test-self-loop-fallback, 4px)'},\n      {name: '--test-self-loop-fallback-self', value: 'attr(data-test-self-loop type(*), attr(data-test-self-loop))'},\n      {name: '--test-loop-1', value: 'var(--test-loop-2, 3px)'},\n      {name: '--test-loop-2', value: 'attr(data-test-loop-1 type(<length>), 4px)'},\n      {name: '--test-loop-indirect-1', value: 'attr(data-test-loop-1 type(<length>), 5px)'},\n      {name: '--test-loop-indirect-2', value: 'attr(data-test-loop-indirect-2 type(<length>), 7px)'},\n      {name: '--test-number', value: 'attr(data-test-number type(<number>))'},\n      {name: '--test-number-to-length', value: 'attr(data-test-number in)'},\n      {\n        name: '--test-number-as-length',\n        value: 'attr(data-test-number type(<length>), var(--test-self-loop-fallback-2))'\n      },\n      {name: '--test-length', value: 'attr(data-test-length type(<length>))'},\n      {name: '--test-bad-unit-indirect', value: 'attr(data-test-bad-unit type(*), 4px)'},\n      {name: '--test-bad-type-indirect', value: 'attr(data-test-bad-type type(*), 4)'},\n      {name: '--test-cant-parse', value: 'attr(data-cant-parse type(*), red)'},\n    ];\n    // Create an element\n    const element = document.createElement('div');\n    for (const {name, value} of attributes) {\n      element.setAttribute(name, value);\n    }\n    for (const {name, value} of variables) {\n      element.style.setProperty(name, value);\n    }\n\n    renderElementIntoDOM(element);\n    const computedProperties = element.computedStyleMap();\n\n    const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    node.id = 1 as Protocol.DOM.NodeId;\n    node.nodeType.returns(Node.ELEMENT_NODE);\n    // Create a sinon stub to return the requested attribute\n    node.getAttribute.callsFake((name: string) => attributes.find(attr => attr.name === name)?.value);\n\n    const matchedStyles = await getMatchedStyles({\n      matchedPayload: [ruleMatch('div', variables)],\n      node,\n    });\n\n    for (const {name} of variables) {\n      const frontendComputedValue =\n          matchedStyles.computeCSSVariable(matchedStyles.nodeStyles()[0], name)?.value ?? null;\n      const backendComputedValue = computedProperties.get(name) ?? null;\n      if (backendComputedValue === null) {\n        assert.isNull(frontendComputedValue, `evaluating variable ${name}`);\n      } else {\n        assert.strictEqual(frontendComputedValue, backendComputedValue.toString(), `evaluating variable ${name}`);\n      }\n    }\n  });\n});\n\ndescribeWithMockConnection('NodeCascade', () => {\n  it('correctly marks custom properties as Overloaded if they are registered as inherits: false', async () => {\n    setMockConnectionResponseHandler(\n        'CSS.getEnvironmentVariables', () => ({} as Protocol.CSS.GetEnvironmentVariablesResponse));\n    const target = createTarget();\n    const cssModel = new SDK.CSSModel.CSSModel(target);\n    const parentNode = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    parentNode.id = 0 as Protocol.DOM.NodeId;\n    const node = sinon.createStubInstance(SDK.DOMModel.DOMNode);\n    node.parentNode = parentNode;\n    node.id = 1 as Protocol.DOM.NodeId;\n    const inheritablePropertyPayload: Protocol.CSS.CSSProperty = {name: '--inheritable', value: 'green'};\n    const nonInheritablePropertyPayload: Protocol.CSS.CSSProperty = {name: '--non-inheritable', value: 'green'};\n    const matchedCSSRules: Protocol.CSS.RuleMatch[] = [{\n      matchingSelectors: [0],\n      rule: {\n        selectorList: {selectors: [{text: 'div'}], text: 'div'},\n        origin: Protocol.CSS.StyleSheetOrigin.Regular,\n        style: {\n          cssProperties: [inheritablePropertyPayload, nonInheritablePropertyPayload],\n          shorthandEntries: [],\n        },\n      },\n    }];\n    const cssPropertyRegistrations = [\n      {\n        propertyName: inheritablePropertyPayload.name,\n        initialValue: {text: 'blue'},\n        inherits: true,\n        syntax: '<color>',\n      },\n      {\n        propertyName: nonInheritablePropertyPayload.name,\n        initialValue: {text: 'red'},\n        inherits: false,\n        syntax: '<color>',\n      },\n    ];\n    const matchedStyles = await getMatchedStyles({\n      cssModel,\n      node,\n      matchedPayload: [\n        ruleMatch('div', []),\n      ],\n      inheritedPayload: [{matchedCSSRules}],\n      cssPropertyRegistrations,\n    });\n\n    const style = matchedStyles.nodeStyles()[1];\n    const [inheritableProperty, nonInheritableProperty] = style.allProperties();\n\n    assert.strictEqual(\n        matchedStyles.propertyState(nonInheritableProperty), SDK.CSSMatchedStyles.PropertyState.OVERLOADED);\n    assert.strictEqual(matchedStyles.propertyState(inheritableProperty), SDK.CSSMatchedStyles.PropertyState.ACTIVE);\n  });\n\n  it('correctly computes active properties for nested at-rules', async () => {\n    const outerRule = ruleMatch('a', [{name: 'color', value: 'var(--inner)'}]);\n    const nestedRule = ruleMatch('&', [{name: '--inner', value: 'red'}]);\n    nestedRule.rule.nestingSelectors = ['a'];\n    nestedRule.rule.selectorList = {selectors: [], text: '&'};\n    nestedRule.rule.supports = [{\n      text: '(--var:s)',\n      active: true,\n      styleSheetId: nestedRule.rule.styleSheetId,\n    }];\n    const matchedStyles = await getMatchedStyles({\n      matchedPayload: [outerRule, nestedRule],\n    });\n\n    assert.deepEqual(matchedStyles.availableCSSVariables(matchedStyles.nodeStyles()[0]), ['--inner']);\n  });\n});\n"]}