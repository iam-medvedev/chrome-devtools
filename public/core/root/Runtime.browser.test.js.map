{"version":3,"file":"Runtime.browser.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/root/Runtime.browser.test.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B;AAI7B,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAElC,QAAQ,CAAC,SAAS,EAAE,GAAG,EAAE;IACvB,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACvD,MAAM,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC;IAEH,kEAAkE;IAClE,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;QAClC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,EAAE,YAAY,EAAE,UAAU,CAAC,aAAa,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE,GAAG,EAAE;YACjC,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;YACtD,OAAO,CAAC,QAAQ,CACZ,YAAmD,EAAE,kBAAuD,CAAC,CAAC;YAClH,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;YACvF,OAAO,CAAC,UAAU,CAAC,YAAmD,EAAE,IAAI,CAAC,CAAC;YAC9E,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kCAAkC,EAAE,GAAG,EAAE;YAC1C,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;YACtD,OAAO,CAAC,QAAQ,CACZ,YAAmD,EAAE,kBAAuD,CAAC,CAAC;YAClH,OAAO,CAAC,0BAA0B,CAAC,CAAC,YAAmD,CAAC,CAAC,CAAC;YAC1F,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;YAC9C,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;YACtD,OAAO,CAAC,QAAQ,CACZ,YAAmD,EAAE,kBAAuD,CAAC,CAAC;YAClH,OAAO,CAAC,2BAA2B,CAAC,CAAC,YAAmD,CAAC,CAAC,CAAC;YAC3F,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;YACxC,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;YACtD,OAAO,CAAC,QAAQ,CACZ,YAAmD,EAAE,kBAAuD,CAAC,CAAC;YAClH,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;YACvF,OAAO,CAAC,aAAa,CAAC,YAAmD,CAAC,CAAC;YAC3E,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,YAAmD,CAAC,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2026 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../platform/platform.js';\n\nimport * as Root from './root.js';\n\ndescribe('Runtime', () => {\n  it('getChromeVersion result has the correct shape', () => {\n    assert.isTrue(/^\\d{3}\\.0\\.0\\.0$/.test(Root.Runtime.getChromeVersion()));\n  });\n\n  // These tests are browser specific because they use localStorage.\n  describe('ExperimentsSupport', () => {\n    beforeEach(() => {\n      self?.localStorage?.removeItem('experiments');\n    });\n\n    it('registers an experiment', () => {\n      const support = new Root.Runtime.ExperimentsSupport();\n      support.register(\n          'experiment' as Root.ExperimentNames.ExperimentName, 'experiment title' as Platform.UIString.LocalizedString);\n      assert.isFalse(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n      support.setEnabled('experiment' as Root.ExperimentNames.ExperimentName, true);\n      assert.isTrue(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n    });\n\n    it('enables an experiment by default', () => {\n      const support = new Root.Runtime.ExperimentsSupport();\n      support.register(\n          'experiment' as Root.ExperimentNames.ExperimentName, 'experiment title' as Platform.UIString.LocalizedString);\n      support.enableExperimentsByDefault(['experiment' as Root.ExperimentNames.ExperimentName]);\n      assert.isTrue(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n    });\n\n    it('enables an experiment via the server', () => {\n      const support = new Root.Runtime.ExperimentsSupport();\n      support.register(\n          'experiment' as Root.ExperimentNames.ExperimentName, 'experiment title' as Platform.UIString.LocalizedString);\n      support.setServerEnabledExperiments(['experiment' as Root.ExperimentNames.ExperimentName]);\n      assert.isTrue(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n    });\n\n    it('enables an experiment for test', () => {\n      const support = new Root.Runtime.ExperimentsSupport();\n      support.register(\n          'experiment' as Root.ExperimentNames.ExperimentName, 'experiment title' as Platform.UIString.LocalizedString);\n      assert.isFalse(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n      support.enableForTest('experiment' as Root.ExperimentNames.ExperimentName);\n      assert.isTrue(support.isEnabled('experiment' as Root.ExperimentNames.ExperimentName));\n    });\n  });\n});\n"]}