{"version":3,"file":"Runtime.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/root/Runtime.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../platform/platform.js';\n\nimport * as Root from './root.js';\n\ndescribe('Runtime', () => {\n  beforeEach(() => {\n    Root.Runtime.experiments.clearForTest();\n  });\n\n  describe('Module', () => {\n    describe('getRemoteBase', () => {\n      const bundled = 'devtools://devtools/bundled/devtools_app.html';\n      const version = '@ffe848af6a5df4fa127e2929331116b7f9f1cb30';\n      const remoteOrigin = 'https://chrome-devtools-frontend.appspot.com/';\n      const remote = `${remoteOrigin}serve_file/${version}/`;\n      const fullLocation = `${bundled}?remoteBase=${remote}&can_dock=true&dockSide=undocked`;\n\n      it('provides remote base info', () => {\n        assert.deepEqual(Root.Runtime.getRemoteBase(fullLocation), {\n          version,\n          base: `devtools://devtools/remote/serve_file/${version}/`,\n        });\n      });\n\n      it('returns null when no remote base is provided', () => {\n        assert.isNull(Root.Runtime.getRemoteBase(bundled));\n      });\n\n      it('returns null when a remote base with no version provided.', () => {\n        assert.isNull(Root.Runtime.getRemoteBase(`${bundled}?remoteBase=${remoteOrigin}`));\n      });\n    });\n\n    describe('isNodeEntry', () => {\n      it('returns true for node_app', () => {\n        assert.isTrue(Root.Runtime.isNodeEntry('/bundled/node_app.html'));\n        assert.isTrue(Root.Runtime.isNodeEntry('/node_app'));\n      });\n\n      it('returns true for js_app', () => {\n        assert.isTrue(Root.Runtime.isNodeEntry('/bundled/js_app.html'));\n        assert.isTrue(Root.Runtime.isNodeEntry('/js_app'));\n      });\n\n      it('returns false for other entries', () => {\n        assert.isFalse(Root.Runtime.isNodeEntry('/bundled/inspector.html'));\n        assert.isFalse(Root.Runtime.isNodeEntry('/inspector'));\n      });\n    });\n  });\n\n  it('allConfigurableExperiments returns all registered experiments', () => {\n    Root.Runtime.experiments.register('example', 'example' as Platform.UIString.LocalizedString);\n    Root.Runtime.experiments.register('configurable', 'configurable' as Platform.UIString.LocalizedString);\n\n    const experiments = Root.Runtime.experiments.allConfigurableExperiments();\n\n    assert.deepEqual(experiments.map(experiment => experiment.name), ['example', 'configurable']);\n  });\n\n  it('getChromeVersion result has the correct shape', () => {\n    assert.isTrue(/^\\d{3}\\.0\\.0\\.0$/.test(Root.Runtime.getChromeVersion()));\n  });\n});\n"]}