{"version":3,"file":"CDPConnection.js","sourceRoot":"","sources":["../../../../../../front_end/core/protocol_client/CDPConnection.ts"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,yEAAyE;AACzE,6BAA6B","sourcesContent":["// Copyright 2025 The Chromium Authors\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type {ProtocolMapping} from '../../generated/protocol-mapping.js';\n\n/**\n * Allows the sending and receiving of CDP commands and the notification of CDP events to observers.\n *\n * An instance of a CDPConnection \"owns\" the full transport channel and no other CDP traffic must\n * be proxied over it. This is because each implementation needs to manage \"message IDs\", which\n * would conflict with any other shared traffic.\n */\nexport interface CDPConnection {\n  send<T extends keyof ProtocolMapping.Commands>(\n      method: T, params: ProtocolMapping.Commands[T]['paramsType'][0],\n      sessionId: string|undefined): Promise<ProtocolMapping.Commands[T]['returnType']|{getError(): string}>;\n\n  observe(observer: CDPConnectionObserver): void;\n  unobserve(observer: CDPConnectionObserver): void;\n}\n\nexport interface CDPConnectionObserver {\n  onEvent<T extends keyof ProtocolMapping.Events>(event: ProtocolMapping.Events[T]): void;\n  onDisconnect(reason: string): void;\n}\n\n/**\n * The protocol monitor and test harness require inspection of raw CDP message traffic.\n */\nexport interface DebuggableCDPConnection extends CDPConnection {\n  observeMessages(observer: RawMessageObserver): void;\n  unobserveMessages(observer: RawMessageObserver): void;\n}\n\nexport interface RawMessageObserver {\n  onMessageReceived(message: unknown): void;\n  onMessageSent(message: unknown): void;\n}\n"]}