{"version":3,"file":"SettingTracker.js","sourceRoot":"","sources":["../../../../../../front_end/entrypoints/main/SettingTracker.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AAEtD,MAAM,OAAO,cAAc;IACzB;QACE,IAAI,CAAC,iCAAiC,EAAE,CAAC;IAC3C,CAAC;IAED,iCAAiC;QAC/B,8DAA8D;QAC9D,IAAI,OAAyC,CAAC;QAC9C,IAAI,CAAC;YACH,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;QACtE,CAAC;QAAC,MAAM,CAAC;YACP,OAAO;QACT,CAAC;QACD,OAAO,CAAC,iBAAiB,CAAC,GAAG,EAAE;YAC7B,+CAA+C;YAC/C,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;gBAClB,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE;qBAC9B,kBAAkB,CAAC,sCAAsC,EAAE,KAAK,CAAC;qBACjE,GAAG,CAAC,KAAK,CAAC,CAAC;YAClB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\n\nexport class SettingTracker {\n  constructor() {\n    this.#trackConsoleInsightSettingChange();\n  }\n\n  #trackConsoleInsightSettingChange(): void {\n    // Keep setting names in sync with front_end/panels/explain/*.\n    let setting: Common.Settings.Setting<unknown>;\n    try {\n      setting = Common.Settings.moduleSetting('console-insights-enabled');\n    } catch {\n      return;\n    }\n    setting.addChangeListener(() => {\n      // If setting was turned on, reset the consent.\n      if (setting.get()) {\n        Common.Settings.Settings.instance()\n            .createLocalSetting('console-insights-onboarding-finished', false)\n            .set(false);\n      }\n    });\n  }\n}\n"]}